[{"content":"åŸæ¥å¦‚æ­¤_2022 ä¸ç»æ„é—´çŸ¥é“çš„ä¸œè¥¿ã€‚\nç°å§‘å¨˜çš„åå­— å¤§å®¶è‚¯å®šéƒ½å¬è¿‡ç°å§‘å¨˜çš„æ•…äº‹ï¼Œä¸€ç›´ä»¥æ¥æˆ‘è®¤ä¸ºç°å§‘å¨˜è¿™ä¸ªåå­—åªæ˜¯ä¸ºäº†å¥‘åˆå¥¹èº«ä¸–æ‚²æƒ¨ï¼Œæ‰€ä»¥ç»™å¥¹å–äº†ä¸€ä¸ªè¿™æ ·çš„ä»£ç§°ï¼Œå½“ç„¶ä¹Ÿæ²¡å»æ€è€ƒè¿‡å¥¹æ˜¯å¦æœ‰çœŸå®çš„åå­—ã€‚å‰æ®µæ—¶é—´å¶ç„¶å¬äº†ç°å§‘å¨˜çš„è‹±è¯­ç‰ˆæœ¬ï¼Œé‡Œé¢ç»™å¥¹çš„åå­—ç”±æ¥åšäº†å¦‚ä¸‹è§£é‡Šï¼šå¥¹åŸåå« Ellaï¼Œä½†åç»­ç”±äºé­åˆ°ç»§æ¯æ‰“å‹ï¼Œå¥¹çš„å§å§ä»¬ä¹Ÿå˜²ç¬‘å¥¹è¯´ï¼šâ€œä½ æ¯å¤©éƒ½å’Œç°å°˜ç…¤æ¸£ä½œä¼´ï¼Œé‚£å¹²è„†å°±å«ä½  Cinderella å¥½äº†â€ï¼ˆcinder â€”â€” ç…¤æ¸£ï¼‰ã€‚æ‰€ä»¥æœ‰äº›ç‰ˆæœ¬é‡Œä¼šéŸ³è¯‘ä¸º â€œè¾›å¾·ç‘æ‹‰â€ã€‚è¿™æ ·æ¥çœ‹ï¼Œä¸­æ–‡ç‰ˆç¿»è¯‘ä¸ºç°å§‘å¨˜å€’æ˜¯æŒºåˆé€‚çš„ã€‚å½“ç„¶è¿™åªæ˜¯ä¸€ç§ç‰ˆæœ¬ï¼Œè¿™ç§æ•…äº‹ç”±æ¥ä»¥ä¹…ï¼Œå„ç§ç‰ˆæœ¬ä¹Ÿæ˜¯å±‚å‡ºä¸ç©·ã€‚è€Œä¸”ä»”ç»†æƒ³æƒ³ï¼Œç°å§‘å¨˜ï¼Œç™½é›ªå…¬ä¸»ï¼Œç¾å¥³ä¸é‡å…½è¿™äº›æ•…äº‹ï¼Œéƒ½æ˜¯åå¦ˆåœ¨ä½œç¥Ÿï¼Œé¢ï¼Œå°±æŒºå·§åˆã€‚// åå¦ˆ â€”â€” stepmother\næ—¥æ¸…æˆ˜äº‰ æ—¥æ¸…æˆ˜äº‰æ˜¯æ—¥æœ¬çš„å«æ³•ï¼Œå…¶å®å°±æ˜¯ä¸­æ—¥ç”²åˆæˆ˜äº‰ã€‚çŸ¥é“è¿™ä¸€ç‚¹æ˜¯åœ¨å¤ç›®æ¼±çŸ³çš„ã€Œå¿ƒã€é‡Œçœ‹åˆ°çš„ã€‚ä¸ºä»€ä¹ˆè¦çªç„¶çœ‹è¿™æœ¬ä¹¦å‘¢ï¼Œæ˜¯å› ä¸ºè¢« b ç«™æ¨èäº†ä¸€ä¸ª ã€Œå¿ƒã€çš„æ—¥è¯­ç‰ˆæœ‰å£°ä¹¦ï¼Œå½“æ—¶å¬åˆ°ä¸€åŠçš„æ—¶å€™å°±è§‰å¾—è¿™æ•…äº‹æŒºæœ‰è¶£çš„è¯¶ï¼Œæˆ‘è¦ä¹°è¿™æœ¬ä¹¦å¥½å¥½çœ‹ä¸€éã€‚æ€€ç€äº¢å¥‹çš„å¿ƒæƒ…ä¹°äº†ä¹¦ï¼Œç»“æœå‘ç°è‡ªå·±å¬çš„æœ‰å£°ä¹¦å…¶å®åªæ˜¯â€œå…ˆç”Ÿçš„é—ä¹¦â€è¿™ä¸€ç« ï¼Œå¹¶ä¸”ç”±äºæˆ‘å·²ç»å…ˆå¬è¿‡è¿™ä¸€ç« äº†ï¼Œå°±å¯¼è‡´å‰é¢çš„ä¼ç¬”æ˜¾å¾—ç‰¹åˆ«æ— èŠï¼Œè¿™æœ¬ä¹¦åˆå†™çš„å¾ˆç»†è…»ï¼Œå°±æ›´éš¾å¾—çœ‹ä¸‹å»ï¼Œå¯å¦‚æœçœ‹ä¸€åŠå°±ç®—äº†ï¼Œå¿ƒé‡Œåˆå¾ˆä¸èˆ’æœï¼Œäºæ˜¯ç¡¬ç€å¤´çš®æ€»ç®—çœ‹åˆ°äº†æœ€ç»ˆç« ã€‚\nä¹¦ä¸­çš„å…ˆç”Ÿç®—ä¸å¾—å›å­ï¼Œç”šè‡³æ˜¯æœ‰ç‚¹å°äººï¼Œä¸€æ–¹é¢ä»–å¸¦ç€å…³æ€€çš„å¿ƒæƒ…å¸®åŠ©å¥½å‹ Kï¼Œå¦ä¸€æ–¹é¢ä»–åˆå› å°å§è·Ÿ K ä¹‹é—´çš„äº²å¯†è€Œæ„Ÿåˆ°ç„¦èºä¸å®‰ï¼Œä»¥è‡³äºåœ¨ K é“æ˜å¿ƒè¿¹æ—¶ä¹‰æ­£ä¸¥è¾åœ°æ•™è®­ Kï¼Œå¹¶è‡ªå·±æ·è¶³å…ˆç™»é—´æ¥å¯¼è‡´äº† K çš„è‡ªæ€ï¼Œè€Œè‡ªå·±åˆå› ä¸º K çš„æ­»è‡ªè´£æ„§ç–šæ°¸ç”Ÿã€‚K çš„ä¸€ç”Ÿæ˜¯ä¸å¹¸çš„ï¼Œå…ˆç”Ÿçš„ä¸€ç”Ÿä¹Ÿæ˜¯ä¸å¹¸çš„ï¼Œå°å§çš„ä¸€ç”Ÿè¿˜æ˜¯ä¸å¹¸çš„ï¼Œå¯¼è‡´ä»–ä»¬ä¸å¹¸çš„æ—¢æ˜¯ä»–ä»¬è‡ªå·±åˆä¸æ˜¯ä»–ä»¬è‡ªå·±ï¼Œå°±åƒæ—©ä¸Šå¤ªé˜³å‡èµ·ï¼Œæ™šä¸Šå¤ªé˜³è½ä¸‹ï¼Œé¥¿äº†è¦åƒé¥­ï¼Œå›°äº†è¦ç¡è§‰ä¸€æ ·ï¼Œæ—¥å­å°±è¿™æ ·è¿‡å»äº†ï¼Œä¸å¹¸å°±è¿™æ ·å‘ç”Ÿäº†ã€‚ä¹Ÿè®¸è¿™å°±æ˜¯æ¯ä¸ªäººéƒ½æ— æ³•é€ƒè„±çš„è‡ªæˆ‘çš„å®¿å‘½ï¼Œè™½ç„¶è¿™å¾ˆä¸ç¬¦åˆé©¬å…‹æ€ä¸»ä¹‰ï¼Œä½†æˆ‘ç¡®å®æ˜¯è®¤ä¸ºè¿™æ•´ä¸ªä¸–ç•Œéƒ½æ˜¯ä¸€ä¸ªä¸ªç¨‹åºç½¢äº†ï¼Œå¹¸è¿çš„ä¸å¹¸çš„éƒ½åªæ˜¯åœ¨æŒ‰é¢„è®¾çš„é€»è¾‘åœ¨æ‰§è¡Œï¼Œå³ä¾¿æ˜¯å¹¸è¿ä¸å¦éƒ½åªæ˜¯ä¸€ä¸ªå‚æ•°å®šä¹‰ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æ­£é¡ºé£é¡ºæ°´ï¼Œé‚£ä¹ˆè¿™åªæ˜¯ä½ åº”è¯¥ç»å†çš„ï¼Œå¦‚æœä½ æ­£æ·±é™·æ³¥æ½­ï¼Œé‚£ä¹ˆè¿™ä¹Ÿåªæ˜¯ä½ åº”è¯¥ç»å†çš„ï¼Œæ— è®ºå¥½åï¼Œç»å†è¿‡äº†å°±è¿‡äº†ã€‚\n","date":"2022-06-19T22:45:37+08:00","permalink":"https://ldsdsy.github.io/p/%E5%8E%9F%E6%9D%A5%E5%A6%82%E6%AD%A4_2022/","title":"åŸæ¥å¦‚æ­¤_2022"},{"content":"kubectl debug kubectl debug æ˜¯ä»€ä¹ˆ kubectl debug æ˜¯ä¸€æ¬¾ k8s pod è¯Šæ–­å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©è¿›è¡Œ pod çš„æ’éšœè¯Šæ–­ã€‚åœ¨ 1.16 ~ 1.22 ä¸­ä¸º Alphaï¼Œé»˜è®¤å…³é—­ï¼Œä» 1.23 å¼€å§‹ä¸º Betaï¼Œé»˜è®¤å¼€å¯ã€‚feature gates == EphemeralContainers kubectl debug èµ·æº éƒ¨åˆ†å¼€å‘è€…å–œæ¬¢åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨æè‡´ç²¾ç®€çš„å®¹å™¨é•œåƒï¼Œè¿™ä¹Ÿæ˜¯å®¹å™¨æŠ€æœ¯ä¸­çš„ä¸€ä¸ªæœ€ä½³å®è·µã€‚è¿™ç§ç²¾ç®€ä¸»ä¹‰ä¹Ÿæœ‰å¾ˆå¤šå¥½å¤„ï¼Œè€Œä¸”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹è¿è¡Œè‰¯å¥½ï¼Œå¯ä¸€æ—¦éœ€è¦åœ¨ç”Ÿäº§ä¸­æ’é™¤ä¸€äº›æ•…éšœæ—¶ï¼Œè¿™å°±å˜å¾—å¾ˆå›°éš¾äº†ï¼Œå› ä¸ºç²¾ç®€åçš„å®¹å™¨æ™®éç¼ºå¤±å¸¸ç”¨çš„æ’éšœå·¥å…·ï¼Œæœ‰äº›ç”šè‡³æ²¡æœ‰ bash/sh è§£é‡Šå™¨ã€‚äºæ˜¯å°±æœ‰äººåœ¨ Kubernetes ç¤¾åŒºæå‡ºå¦‚æœæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ä¸ºæ­£åœ¨è¿è¡Œçš„ pod å¯ç”¨æŸç§è°ƒè¯•æ¨¡å¼ï¼Œå†é™„åŠ ä¸€å¥—è°ƒè¯•å·¥å…·èƒ½åœ¨å®¹å™¨ä¸­æ‰§è¡Œï¼Œé‚£å°±æœ€å¥½ä¸è¿‡äº†ã€‚ä½†ç”±äºæ”¹åŠ¨çš„æ¶‰åŠé¢å¾ˆå¹¿ï¼Œä» 16 å¹´å°±å‡ºç°äº†ç›¸å…³çš„ Issue Support for troubleshooting distroless containers å¼€å§‹ï¼Œç›´è‡³ä»Šæ—¥ debug åŠŸèƒ½æ‰é€æ¸æˆç†Ÿã€‚\nkubectl debug å·¥ä½œåŸç† æˆ‘ä»¬çŸ¥é“ï¼Œå®¹å™¨æœ¬è´¨ä¸Šæ˜¯å¸¦æœ‰ cgroup èµ„æºé™åˆ¶å’Œ namespace éš”ç¦»çš„ä¸€ç»„è¿›ç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªè¦å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶ä¸”è®©è¿™ä¸ªè¿›ç¨‹åŠ å…¥åˆ°ç›®æ ‡å®¹å™¨çš„å„ç§ namespace ä¸­ï¼Œè¿™ä¸ªè¿›ç¨‹å°±èƒ½ â€œè¿›å…¥å®¹å™¨å†…éƒ¨â€ï¼ˆæ³¨æ„å¼•å·ï¼‰ï¼Œä¸å®¹å™¨ä¸­çš„è¿›ç¨‹ â€œçœ‹åˆ°â€ ç›¸åŒçš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€è™šæ‹Ÿç½‘å¡ã€è¿›ç¨‹ç©ºé—´äº†â€”â€”è¿™ä¹Ÿæ­£æ˜¯ docker exec å’Œ kubectl exec ç­‰å‘½ä»¤çš„è¿è¡Œæ–¹å¼ã€‚\nç°åœ¨çš„çŠ¶å†µæ˜¯ï¼Œæˆ‘ä»¬ä¸ä»…è¦ â€œè¿›å…¥å®¹å™¨å†…éƒ¨â€ï¼Œè¿˜å¸Œæœ›å¸¦ä¸€å¥—å·¥å…·é›†è¿›å»å¸®å¿™æ’æŸ¥é—®é¢˜ã€‚é‚£ä¹ˆï¼Œæƒ³è¦é«˜æ•ˆç®¡ç†ä¸€å¥—å·¥å…·é›†ï¼Œåˆè¦å¯ä»¥è·¨å¹³å°ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯æŠŠå·¥å…·æœ¬èº«éƒ½æ‰“åŒ…åœ¨ä¸€ä¸ªå®¹å™¨é•œåƒå½“ä¸­ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡è¿™ä¸ª â€œå·¥å…·é•œåƒâ€ å¯åŠ¨å®¹å™¨ï¼Œå†æŒ‡å®šè¿™ä¸ªå®¹å™¨åŠ å…¥ç›®æ ‡å®¹å™¨çš„çš„å„ç§ namespaceï¼Œè‡ªç„¶å°±å®ç°äº†â€œæºå¸¦ä¸€å¥—å·¥å…·é›†è¿›å…¥å®¹å™¨å†…éƒ¨â€ã€‚\nkubectl debug æ€ä¹ˆç”¨ 1ï¼Œå¼€å¯åŠŸèƒ½ 1) æ ¹æ®é›†ç¾¤ç‰ˆæœ¬åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰‹åŠ¨å¼€å¯æ­¤åŠŸèƒ½ï¼ˆæˆ‘çš„ç¯å¢ƒä¸º 1.21 æ‰€ä»¥æ˜¯éœ€è¦æ‰‹åŠ¨å¼€å¯çš„ï¼‰ï¼š a. è¿›å…¥ master èŠ‚ç‚¹ï¼Œç¼–è¾‘ /etc/kubernetes/manifests/ ä¸‹çš„ kube-apiserver.yaml,kube-controller-manager.yaml åŠ kube-scheduler.yamlï¼Œåœ¨ command éƒ¨åˆ†æ·»åŠ  - --feature-gates=EphemeralContainers=trueï¼› b. ï¼ï¼ï¼åŒæ—¶ä¹Ÿè¦åœ¨è¢«è°ƒè¯• pod æ‰€åœ¨çš„èŠ‚ç‚¹ä¸Šç¼–è¾‘ /var/lib/kubelet/kubeadm-flags.envï¼Œæ·»åŠ  --feature-gates=EphemeralContainers=trueï¼› c. é‡å¯ kubeletï¼š $ systemctl daemon-reload $ systemctl restart kubelet 2ï¼Œä½¿ç”¨ 2.1 ä½¿ç”¨ä¸´æ—¶å®¹å™¨è°ƒè¯• $ kubectl debug -it pod_name --image=busybox:1.28 --target=container_name // ä¸º pod é‡Œçš„å…·ä½“æŸä¸ªå®¹å™¨æ·»åŠ ä¸€ä¸ªä¸´æ—¶å®¹å™¨ï¼ˆé•œåƒä¸º busyboxï¼‰è¿›è¡Œ debug å®ä¾‹ä¸€ï¼šåˆ›å»ºä¸€ä¸ª podï¼Œè¯¥ pod åŠŸèƒ½æ˜¯ä»æ¡¶ mybucket1 è·å–æ–‡ä»¶ test.txt å¤åˆ¶åˆ°æœ¬åœ°ç›®å½• /data/test.txt å†ä»æ­¤ç›®å½•æŠŠ test.txt ä¸Šä¼ åˆ°æ¡¶ mybucket2 é‡Œã€‚é”™è¯¯çŠ¶æ€ï¼šæ¡¶ mybucket2 å¹¶æ²¡æœ‰ç›¸åº”æ–‡ä»¶ï¼ŒæŸ¥æ‰¾åŸå› ã€‚\n1ï¼Œåˆ›å»º pod1\n[centos@ml-k8s-1 test1]$ kubectl apply -f pod1.yaml secret/pod1-secret created clusterrole.rbac.authorization.k8s.io/pod1-get created clusterrolebinding.rbac.authorization.k8s.io/pod1-get-rbac created serviceaccount/pod1-sa created pod/pod1 created [centos@ml-k8s-1 test1]$ kubectl get pod NAME READY STATUS RESTARTS AGE pod1 1/1 Running 0 7s // pod1 ä¸€ç›´å¤„äº Running ï¼Œæ­£å¸¸æƒ…å†µæ˜¯ 10s å†…å°±ä¼š completed ï¼Œåªæœ‰å¤±è´¥çš„æ—¶å€™æ‰ä¼šå¡åœ¨ Running ä¸åŠ¨ // æ­¤æ—¶æ¡¶ mybucket2 ç¡®å®ä¹Ÿæ²¡æœ‰æ•°æ® 2ï¼Œæè¿° pod å½“å‰çŠ¶æ€\n[centos@ml-k8s-1 deploy]$ kubectl describe pod pod1 ... Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 5m44s default-scheduler Successfully assigned default/pod1 to ml-k8s-2.novalocal Normal Pulling 5m42s kubelet Pulling image \u0026quot;beyond.io:5000/debug-test:0.1.1\u0026quot; Normal Pulled 5m42s kubelet Successfully pulled image \u0026quot;beyond.io:5000/debug-test:0.1.1\u0026quot; in 59.162221ms Normal Created 5m42s kubelet Created container pod1 Normal Started 5m42s kubelet Started container pod1 // çœ‹ä¸å‡ºä»»ä½•é—®é¢˜ 3ï¼ŒæŸ¥çœ‹ pod æ—¥å¿—\n[centos@ml-k8s-1 test1]$ kubectl logs pod1 I0429 10:24:34.913853 1 main.go:18] Test start! I0429 10:24:34.914013 1 main.go:19] Pulling data from bucket 1 and storing it in bucket 2. I0429 10:24:34.961361 1 main.go:61] \u0026amp;{0xc000442180} E0429 10:24:37.968336 1 main.go:70] Wrong in coping object from mybucket1 to localFile: Get \u0026quot;http://10.20.9.60:30009/mybucket1/?location=\u0026quot;: dial tcp 10.20.9.60:30009: connect: no route to host // ç¨‹åºå·²å¯åŠ¨ä½†æ˜¯ä»æ¡¶ mybucket1 å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°æ—¶å¤±è´¥ // çœ‹åˆ°è¿™ä¸ªæ—¥å¿—å¤§æ¦‚èƒ½çŒœåˆ°ç½‘å€ä¸å¯¹åŠ²ï¼Œä½†å‡è®¾ä¸ç¡®å®šæ˜¯ä¸æ˜¯ç½‘å€é—®é¢˜æˆ–æ²¡æœ‰è¿™æ¡æ—¥å¿— 4ï¼Œè¿›å…¥å®¹å™¨å†…éƒ¨æ’æŸ¥\n[centos@ml-k8s-1 test1]$ kubectl exec -it pod1 -- sh OCI runtime exec failed: exec failed: container_linux.go:380: starting container process caused: exec: \u0026quot;sh\u0026quot;: executable file not found in $PATH: unknown command terminated with exit code 126 // æ­¤é•œåƒçš„åŸºç¡€é•œåƒä¸º scratchï¼Œæ— æ³•æ‰§è¡Œ kubectl exec 5ï¼Œdebug è¿›å…¥å®¹å™¨å†…éƒ¨\n[centos@ml-k8s-1 test1]$ kubectl debug -it pod1 --image=busybox:1.28 --target=pod1 Defaulting debug container name to debugger-h59bb. If you don't see a command prompt, try pressing enter. / # ls bin dev etc home proc root sys tmp usr var / # cd proc/1/root (unreachable)/ # ls app data dev etc proc sys var (unreachable)/ # cd data (unreachable)/data # ls test.txt (unreachable)/data # cat test.txt (unreachable)/data # ping 10.20.9.60 PING 10.20.9.60 (10.20.9.60): 56 data bytes ^C --- 10.20.9.60 ping statistics --- 9 packets transmitted, 0 packets received, 100% packet loss (unreachable)/data # ping 10.20.9.61 PING 10.20.9.61 (10.20.9.61): 56 data bytes 64 bytes from 10.20.9.61: seq=0 ttl=63 time=13.941 ms 64 bytes from 10.20.9.61: seq=1 ttl=63 time=1.050 ms 64 bytes from 10.20.9.61: seq=2 ttl=63 time=0.462 ms 64 bytes from 10.20.9.61: seq=3 ttl=63 time=0.472 ms ^C --- 10.20.9.61 ping statistics --- 4 packets transmitted, 4 packets received, 0% packet loss round-trip min/avg/max = 0.462/3.981/13.941 ms (unreachable)/data # // è¿›å…¥ pod1 å®¹å™¨å†…éƒ¨ï¼ŒæŸ¥çœ‹ /data ç›®å½•ä¸‹æ˜¯å¦æœ‰æˆåŠŸå¤åˆ¶æ–‡ä»¶ test.txtï¼Œå‘ç° test.txt ä¸ºç©ºï¼Œå¤åˆ¶æœªæˆåŠŸ // æµ‹è¯• minio ç½‘ç«™æ˜¯å¦èƒ½é“¾æ¥ä¸Šï¼Œç¡®å®ä¸è¡Œã€‚å‘ç°ç½‘å€è¾“å…¥é”™è¯¯ // ä¿®æ”¹å¥½æ­£ç¡®ç½‘å€å†æ¬¡éƒ¨ç½² pod1ï¼Œè¿è¡ŒæˆåŠŸï¼Œæ¡¶ mybucket2 é‡Œå‡ºç° test.txt 2.2 ä½¿ç”¨å‰¯æœ¬è°ƒè¯• 2.2.1ï¼Œåˆ›å»ºå‰¯æœ¬è°ƒè¯• $ kubectl debug myapp -it --image=ubuntu --share-processes --copy-to=myapp-debug // --share-processes å…è®¸åœ¨æ­¤ Pod ä¸­çš„å…¶ä»–å®¹å™¨ä¸­æŸ¥çœ‹è¯¥å®¹å™¨çš„è¿›ç¨‹ // ç¤ºä¾‹ä¸€ä¸­çš„æ–¹å¼å…³æ³¨ç‚¹æ˜¯æ— æ³•è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæ‰€ä»¥é€šè¿‡ä¸€ä¸ªä¸´æ—¶å®¹å™¨è¿›å…¥è¢«è°ƒè¯•å®¹å™¨å†…éƒ¨æ’æŸ¥é—®é¢˜ // æ­¤æ–¹å¼é‡ç‚¹æ˜¯åŸé•œåƒè°ƒè¯•å·¥å…·æœ‰é™ï¼Œä¸èƒ½æ»¡è¶³è°ƒè¯•è¦æ±‚ï¼Œæ‰€ä»¥æ³¨å…¥ä¸€ä¸ªè°ƒè¯•å·¥å…·æ›´å¤šçš„é•œåƒæ¥å·¥ä½œï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ä¸å½±å“åŸæœ‰çš„æœåŠ¡ã€‚ å®ä¾‹äºŒï¼šé’ˆå¯¹å®ä¾‹ä¸€ä¸­çš„ç½‘å€é—®é¢˜ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨åˆ›å»ºå‰¯æœ¬çš„æ–¹å¼æ¥æ³¨å…¥åŸé•œåƒä¸åŒ…å«çš„è°ƒè¯•å·¥å…·è¿›è¡Œæ’é”™\n1ï¼Œè¿›å…¥å®¹å™¨\n[centos@ml-k8s-1 test1]$ kubectl debug pod1 -it --image=busybox:1.28 --share-processes --copy-to=pod1-debug Defaulting debug container name to debugger-w8pqk. If you don't see a command prompt, try pressing enter. / # ping 10.20.9.60 PING 10.20.9.60 (10.20.9.60): 56 data bytes ^C --- 10.20.9.60 ping statistics --- 4 packets transmitted, 0 packets received, 100% packet loss / # ping 10.20.9.61 PING 10.20.9.61 (10.20.9.61): 56 data bytes 64 bytes from 10.20.9.61: seq=0 ttl=63 time=11.655 ms 64 bytes from 10.20.9.61: seq=1 ttl=63 time=0.590 ms 64 bytes from 10.20.9.61: seq=2 ttl=63 time=0.454 ms 64 bytes from 10.20.9.61: seq=3 ttl=63 time=0.434 ms ^C --- 10.20.9.61 ping statistics --- 4 packets transmitted, 4 packets received, 0% packet loss round-trip min/avg/max = 0.434/3.283/11.655 ms / # 2.2.2ï¼Œåˆ›å»ºå‰¯æœ¬æ—¶æ”¹å˜å‘½ä»¤ å®ä¾‹ä¸‰ï¼šåˆ›å»ºä¸€ä¸ª podï¼Œè¯¥ pod åŠŸèƒ½æ˜¯è¿è¡Œä¸€ä¸ª shell è„šæœ¬æ‰“å°å½“å‰æ—¥æœŸã€‚é”™è¯¯çŠ¶æ€ï¼šæ—¥å¿—å¹¶æ²¡æœ‰æ‰“å°å‡ºæ—¥æœŸï¼Œä¸” pod å·²è¿è¡Œå®Œæˆå¤„äº competed çŠ¶æ€ï¼Œæ’æŸ¥åŸå› \n1ï¼Œåˆ›å»º pod3\n[centos@ml-k8s-1 test3]$ kubectl apply -f pod3.yaml pod/pod3 created 2ï¼ŒæŸ¥çœ‹ pod\n[centos@ml-k8s-1 test3]$ kubectl get pod NAME READY STATUS RESTARTS AGE pod3 0/1 Completed 0 7s 3ï¼ŒæŸ¥çœ‹æ—¥å¿—\n[centos@ml-k8s-1 test3]$ kubectl logs pod3 Hello ldsdsy Today is // æœŸæœ›æ—¥å¿—æ˜¯ä¼šæ‰“å°å‡ºå½“å‰æ—¥æœŸï¼Œä½†å¹¶æ²¡æœ‰ 4ï¼Œè¿›å…¥å®¹å™¨\n[centos@ml-k8s-1 test3]$ kubectl exec -it pod3 -- sh error: cannot exec into a container in a completed pod; current phase is Succeeded // pod å·²å®Œæˆï¼Œæ— æ³•å†è¿›å…¥å®¹å™¨å†…éƒ¨ 5ï¼Œåˆ›å»ºå‰¯æœ¬\n[centos@ml-k8s-1 test3]$ kubectl debug pod3 -it --copy-to=pod3-debug --container=pod3 -- sh If you don't see a command prompt, try pressing enter. / # ls app bin dev etc home proc root sys tmp usr var / # cd app /app # ls test.sh /app # cat test.sh #! /bin/sh echo \u0026quot;Hello ldsdsy\u0026quot; time=$(date +\u0026quot;%Y-%m-%d %H:%M:%S\u0026quot;) echo \u0026quot;Today is $ttime\u0026quot; /app # // ä»¥ sh çš„å½¢å¼è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œå¯ä»¥ä¸€å¥ä¸€å¥åœ°è¿è¡Œä»£ç æ’æŸ¥æ˜¯ä»€ä¹ˆåœ°æ–¹å‡ºé”™ï¼Œæ­¤å¤„å¾ˆç®€å•å¯ä»¥çœ‹å‡ºæ˜¯é”™æŠŠ time å†™æˆäº† ttime 2.2.3ï¼Œåˆ›å»ºå‰¯æœ¬æ—¶æ”¹å˜é•œåƒ å®ä¾‹å››ï¼šåœ¨å®ä¾‹ä¸‰çš„åŸºç¡€ä¸Šï¼Œä¿®æ”¹ ttime çš„æ‹¼å†™é—®é¢˜ï¼Œé‡æ–°æ‰“åŒ…é•œåƒ\n1ï¼Œåˆ›å»º pod å‰¯æœ¬ï¼ŒæŠŠå®¹å™¨ pod3 çš„é•œåƒæ”¹ä¸ºæ–°é•œåƒ\n[centos@ml-k8s-1 test3]$ kubectl debug pod3 --copy-to=pod3-debug --set-image=pod3=beyond.io:5000/debug-test:0.1.4 // --set-image=*=xxx è¡¨ç¤ºæŠŠ pod çš„æ‰€æœ‰å®¹å™¨é•œåƒå…¨æ¢æˆ xxx 2ï¼ŒæŸ¥çœ‹ pod\n[centos@ml-k8s-1 test3]$ kubectl get pod NAME READY STATUS RESTARTS AGE pod3 0/1 Completed 0 13m pod3-debug 0/1 Completed 0 8s 3ï¼ŒæŸ¥çœ‹æ—¥å¿—\n[centos@ml-k8s-1 test3]$ kubectl logs pod3-debug Hello ldsdsy Today is 2022-05-02 09:50:25 [centos@ml-k8s-1 test3]$ // æ­¤æ—¶è¾“å‡ºæ­£å¸¸ï¼Œæ–°é•œåƒå¯è¡Œ 2.3 ä½¿ç”¨ shell è°ƒè¯• å®ä¾‹äº”ï¼šåˆ›å»ºä¸€ä¸ª podï¼Œè¯¥ pod åŠŸèƒ½æ˜¯è¯»å‡ºå…¶æ‰€åœ¨èŠ‚ç‚¹ä¸‹ /home/centos/data ç›®å½•é‡Œçš„æ•°æ®ã€‚é”™è¯¯çŠ¶æ€ï¼šæ²¡æœ‰è¯»å‡ºä»»ä½•æ•°æ®ï¼Œæ’æŸ¥é—®é¢˜ã€‚\n1ï¼Œåˆ›å»º pod5\n[centos@ml-k8s-1 test5]$ kubectl apply -f pod5.yaml pod/pod5 created 2ï¼ŒæŸ¥çœ‹ pod\n[centos@ml-k8s-1 test5]$ kubectl get pod -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES pod5 0/1 Completed 0 82s 10.245.0.213 ml-k8s-3.novalocal \u0026lt;none\u0026gt; \u0026lt;none\u0026gt; // pod è¿è¡Œæ­£å¸¸ 3ï¼ŒæŸ¥çœ‹ pod æ—¥å¿—\n[centos@ml-k8s-1 test5]$ kubectl logs pod5 DIR is /data /data/* // æ²¡æœ‰æ•°æ® 4ï¼Œshell è°ƒè¯•\n[centos@ml-k8s-1 debug]$ kubectl debug node/ml-k8s-2.novalocal -it --image=centos Creating debugging pod node-debugger-ml-k8s-2.novalocal-bb8s2 with container debugger on node ml-k8s-2.novalocal. If you don't see a command prompt, try pressing enter. [root@ml-k8s-2 /]# ls bin dev etc home host lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var [root@ml-k8s-2 /]# cd host [root@ml-k8s-2 host]# ls bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var [root@ml-k8s-2 host]# cd home/centos [root@ml-k8s-2 centos]# ls beyonlet_0.tar coredns.tar data debug kubeadm nfs-subdir-external-provisioner.tar nfs.tar redis redis-tools-41.tar [root@ml-k8s-2 centos]# cd data [root@ml-k8s-2 data]# ls [root@ml-k8s-2 data]# // èŠ‚ç‚¹çš„æ ¹æ–‡ä»¶ç³»ç»Ÿä¼šè¢«æŒ‚è½½åœ¨ /host // è¿›å…¥èŠ‚ç‚¹ 2ï¼ŒæŸ¥çœ‹ç›¸å…³ç›®å½•ï¼Œå‘ç°ç›®å½•ä¸‹æœ¬å°±æ²¡æœ‰æ•°æ®ï¼Œå¯¼å…¥æ•°æ®é‡å¯ pod ï¼Œæ­£å¸¸ ä¸‰ç§è°ƒè¯•çš„åŒºåˆ« 1ï¼Œç¬¬ä¸€ç§ä½¿ç”¨ä¸´æ—¶å®¹å™¨ï¼Œæ›´å¤šçš„æ˜¯è¢«è°ƒè¯•çš„å®¹å™¨å¤„äº running çŠ¶æ€ä½†åˆæ— æ³•è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨è°ƒè¯•ï¼Œæ‰€ä»¥å€ŸåŠ©ä¸´æ—¶å®¹å™¨æ¥è¿›å…¥å®¹å™¨å†…éƒ¨æ’æŸ¥é—®é¢˜ã€‚\n2ï¼Œç¬¬äºŒç§ä½¿ç”¨ pod å‰¯æœ¬ï¼Œæ›´å¤šçš„æ˜¯å»ºç«‹ä¸€ä¸ªè¢«è°ƒè¯•å®¹å™¨çš„å‰¯æœ¬ç”¨æ¥è°ƒè¯•ï¼Œè¿™æ ·æ— éœ€å…³å¿ƒåŸæœ¬è¢«è°ƒè¯•å®¹å™¨çš„çŠ¶æ€å¦‚ä½•ã€‚\n3ï¼Œç¬¬ä¸‰ç§ä½¿ç”¨ shell è°ƒè¯•ï¼Œæ˜¯åœ¨ä¸Šè¿°æ–¹å¼éƒ½ä¸è¡Œçš„æƒ…å†µä¸‹ï¼Œç›´æ¥è¿›å…¥ pod æ‰€åœ¨èŠ‚ç‚¹ä¸Šè¿›è¡Œè°ƒè¯•ã€‚\nè°ƒç ”è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ 1ï¼Œä¸ºä»€ä¹ˆç¼–è¾‘å®Œ kube-apiserver.yaml åŠ kube-scheduler.yaml ä¸ç”¨ apply ï¼Œpod å°±è‡ªåŠ¨é‡å¯äº†ï¼Ÿ 1) å› ä¸º apiserverï¼Œschedulerï¼Œetcdï¼Œcontroller manager æ˜¯é™æ€ podã€‚é™æ€ pod ç›´æ¥ç”± kubelet è¿›ç¨‹ç®¡ç†ï¼Œè€Œä¸æ˜¯ apiserverã€‚ 2) kubelet ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸€ä¸ªé™æ€ pod åœ¨ k8s çš„ apiserver ä¸Šåˆ›å»ºä¸€ä¸ªé•œåƒ podï¼Œå› æ­¤å¯ä»¥åœ¨ apiserver ä¸­æŸ¥è¯¢åˆ°è¯¥ podã€‚ 3) åˆ›å»ºé™æ€ pod æœ‰ä¸¤ç§æ–¹å¼ï¼šé…ç½®æ–‡ä»¶ï¼ŒHTTPã€‚ 1. é…ç½®æ–‡ä»¶ï¼šé€šè¿‡ kubelet é…ç½®çš„ç¯å¢ƒå˜é‡ï¼ˆä¸€ä¸ªå…·ä½“ç›®å½•ï¼‰ï¼Œè®© kubelet å®šæœŸå»æ‰«æè¿™ä¸ªç›®å½•ï¼Œæ ¹æ®ç›®å½•ä¸‹å‡ºç°/æ¶ˆå¤±/å˜åŠ¨çš„ yaml/json æ–‡ä»¶æ¥åˆ›å»º/åˆ é™¤/æ›´æ–°é™æ€ podã€‚æ­¥éª¤å¦‚ä¸‹ï¼š a) $ systemctl status kubelet // åœ¨æƒ³è¦è¿è¡Œé™æ€ pod çš„èŠ‚ç‚¹ä¸Šæ‰¾åˆ° kubelet çš„å¯åŠ¨é…ç½®æ–‡ä»¶ b) $ cat /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf // Environment=\u0026quot;KUBELET_SYSTEM_PODS_ARGS=--pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true\u0026quot; // ç¯å¢ƒå˜é‡ --pod-manifest-path åå³æ˜¯ kubelet ä¼šå®šæœŸæ‰«æçš„ç›®å½•ï¼ŒæŠŠæƒ³åˆ›å»ºçš„é™æ€ pod yaml æ”¾åœ¨æ­¤ç›®å½•å³å¯ // å¦‚æœå¯åŠ¨å‚æ•°é‡Œé¢æ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œæ·»åŠ ä¸Šé‡å¯ kubelet å³å¯ã€‚ï¼ˆ$ systemctl restart kubeletï¼‰ 2. HTTPï¼škulete ä¼šå‘¨æœŸæ€§åœ°ä» -manifest-url= å‚æ•°æŒ‡å®šçš„åœ°å€ä¸‹è½½æ–‡ä»¶å¹¶ç¿»è¯‘æˆ yaml/json æ ¼å¼çš„ pod å®šä¹‰ï¼Œæ­¤åä¸é…ç½®æ–‡ä»¶çš„æ–¹å¼ç›¸åŒï¼Œkubelet ä¼šä¸æ—¶åœ°é‡æ–°ä¸‹è½½è¯¥æ–‡ä»¶ï¼Œå½“æ–‡ä»¶å˜åŒ–æ—¶å¯¹åº”åœ°æ“ä½œ podã€‚ 4) é™¤äº†ä¸Šè¿°æ–¹å¼ï¼Œè¿˜å¯ä»¥åœ¨ kubelet é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  staticPodPath:\u0026lt;ç›®å½•\u0026gt; å­—æ®µæ¥å®ç°ã€‚ // é…ç½®æ–‡ä»¶åœ¨ /var/lib/kubelet/config.yamlï¼Œæ­¤æ–¹æ³•æœ‰ä¸€å®šé£é™©ã€‚ 2ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ä¸´æ—¶å®¹å™¨è°ƒè¯•æ—¶ï¼Œkubectl debug åä¸ç”Ÿæ•ˆï¼Ÿ 1) å¦‚æœä¸é…ç½® apiserverï¼Œcontroller-managerï¼Œscheduler è¿™ä¸ªä¸‰ä¸ªç»„ä»¶çš„ yaml æ–‡ä»¶è®¾å®šä½¿ç”¨ä¸´æ—¶å®¹å™¨ï¼Œåˆ™æ‰§è¡Œ kubectl debug åä¼šæŠ¥é”™ã€‚ 2) è®¾ç½®äº†ä¸Šè¿°ä¸‰ä¸ª yaml æ–‡ä»¶ï¼Œä½†æ²¡æœ‰é…ç½® pod æ‰€åœ¨èŠ‚ç‚¹ä¸Šçš„ kubelet å¼€å¯ä¸´æ—¶å®¹å™¨åŠŸèƒ½ï¼Œåˆ™åœ¨æ‰§è¡Œ kubectl debug åä¼šä¸€ç›´å¡ä½ï¼Œä¸ä¼šæ˜¾ç¤ºé¢„æœŸçš„å‘½ä»¤è¡Œã€‚ 3ï¼Œkubelet åˆ°åº•æœ‰å¤šå°‘ç§é…ç½®æ–¹å¼ åœ¨ä»¥ä¸Šå®éªŒè¿‡ç¨‹ä¸­ï¼Œå‘ç°æ¯ç¯‡åšå®¢éƒ½æœ‰ä¸åŒ kubelet çš„é…ç½®æ–¹å¼\næ ¹æºåœ¨äº linux ç³»ç»Ÿé‡Œæœ‰å¾ˆå¤š system ç›®å½•ï¼Œå¸¸è§çš„æœ‰ /etc/systemd/systemã€/lib/systemd/system ä»¥åŠ /uer/lib/systemd/system ç­‰ã€‚å…¶ä¸­ åä¸¤è€…æŒ‡å‘åŒä¸€ç›®å½•ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œ ll å¯çŸ¥ã€‚\n  /etc/systemd/system: Local configuratinï¼Œæ˜¯ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…çš„å•å…ƒæ–‡ä»¶ã€‚\n  [/usr]/lib/systemd/system: Units of installed packagesï¼Œç›®å½•åŒ…å«çš„æ˜¯è½¯ä»¶åŒ…å®‰è£…çš„å•å…ƒï¼Œå³é€šè¿‡ yumï¼Œdnfï¼Œrpm ç­‰è½¯ä»¶åŒ…ç®¡ç†å‘½ä»¤ç®¡ç†çš„ systemd å•å…ƒæ–‡ä»¶ã€‚\n  è¿˜æœ‰ä¸€ä¸ª /run/systemd/system: Runtime unitsï¼Œè¿™ä¸ªä¸€èˆ¬æ˜¯è¿›ç¨‹åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»º unit æ–‡ä»¶çš„ç›®å½•ï¼Œä¸€èˆ¬ä¸ä¿®æ”¹ï¼Œé™¤éæ”¹ç¨‹åºè¿è¡Œæ—¶çš„ä¸€äº›å‚æ•°ï¼Œå³ Session çº§åˆ«çš„ã€‚\n  /etc/systemd/system, /run/systemd/system, /lib/systemd/system ä¼˜å…ˆçº§ä»é«˜åˆ°ä½\n  é™„å½• å®ä¾‹ä¸€ 1ï¼Œmain.go\npackage main import ( \u0026#34;context\u0026#34; \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/minio/minio-go/v7\u0026#34; \u0026#34;github.com/minio/minio-go/v7/pkg/credentials\u0026#34; metav1 \u0026#34;k8s.io/apimachinery/pkg/apis/meta/v1\u0026#34; \u0026#34;k8s.io/client-go/kubernetes\u0026#34; \u0026#34;k8s.io/client-go/rest\u0026#34; \u0026#34;k8s.io/klog/v2\u0026#34; ) func main() { klog.Info(\u0026#34;Test start!\u0026#34;) klog.Info(\u0026#34;Pulling data from bucket 1 and storing it in bucket 2.\u0026#34;) // creates the in-cluster config  config, err := rest.InClusterConfig() if err != nil { klog.Errorln(\u0026#34;Wrong in creating config: \u0026#34;, err) } // create the clientset  clientset, err := kubernetes.NewForConfig(config) if err != nil { klog.Errorln(\u0026#34;Wrong in creating clientset: \u0026#34;, err) } // Get info of minio from s3-secret  secret, err := clientset.CoreV1().Secrets(\u0026#34;default\u0026#34;).Get(context.TODO(), \u0026#34;minio-secret\u0026#34;, metav1.GetOptions{}) if err != nil { klog.Errorln(\u0026#34;Wrong in getting secret: \u0026#34;, err) time.Sleep(1 * time.Hour) } id := string(secret.Data[\u0026#34;id\u0026#34;]) key := string(secret.Data[\u0026#34;key\u0026#34;]) endpoint := string(secret.Data[\u0026#34;endpoint\u0026#34;]) useSSL := false //true ä¼šèµ° https  // Initialize minio client object.  minioClient, err := minio.New(endpoint, \u0026amp;minio.Options{ Creds: credentials.NewStaticV4(id, key, \u0026#34;\u0026#34;), Secure: useSSL, }) if err != nil { klog.Errorln(\u0026#34;Wrong in getting minioClient : \u0026#34;, err) time.Sleep(1 * time.Hour) } object, err := minioClient.GetObject(context.Background(), \u0026#34;mybucket1\u0026#34;, \u0026#34;test.txt\u0026#34;, minio.GetObjectOptions{}) if err != nil { klog.Errorln(\u0026#34;Wrong in getting object from mybucket1: \u0026#34;, err) time.Sleep(1 * time.Hour) } //ä»¥è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º(åªåˆ›å»ºæ–‡ä»¶ï¼Œä¸èƒ½åˆ›å»ºæ–‡ä»¶å¤¹)  localFile, err := os.OpenFile(\u0026#34;/data/test.txt\u0026#34;, os.O_RDWR|os.O_CREATE, 0766) if err != nil { klog.Errorln(\u0026#34;Wrong in creating /data/test.txt: \u0026#34;, err) time.Sleep(1 * time.Hour) } klog.Info(localFile) defer localFile.Close() if _, err = io.Copy(localFile, object); err != nil { klog.Errorln(\u0026#34;Wrong in coping object from mybucket1 to localFile: \u0026#34;, err) time.Sleep(1 * time.Hour) } file, err := os.Open(\u0026#34;/data/test.txt\u0026#34;) if err != nil { klog.Errorln(\u0026#34;Wrong in getting object from /data/test.txt: \u0026#34;, err) time.Sleep(1 * time.Hour) } defer file.Close() fileStat, err := file.Stat() if err != nil { klog.Errorln(\u0026#34;Wrong in getting fileStat: \u0026#34;, err) time.Sleep(1 * time.Hour) } // Create a bucket at region \u0026#39;us-east-1\u0026#39; with object locking enabled.  err = minioClient.MakeBucket(context.Background(), \u0026#34;mybucket2\u0026#34;, minio.MakeBucketOptions{Region: \u0026#34;cn-north-1\u0026#34;, ObjectLocking: false}) if err != nil { klog.Errorln(\u0026#34;Wrong in creating mybucket2: \u0026#34;, err) time.Sleep(1 * time.Hour) } uploadInfo, err := minioClient.PutObject(context.Background(), \u0026#34;mybucket2\u0026#34;, \u0026#34;test.txt\u0026#34;, file, fileStat.Size(), minio.PutObjectOptions{ContentType: \u0026#34;application/octet-stream\u0026#34;}) if err != nil { klog.Errorln(\u0026#34;Wrong in putting myobject to mybucket2: \u0026#34;, err) time.Sleep(1 * time.Hour) } klog.Infoln(\u0026#34;Successfully uploaded bytes: \u0026#34;, uploadInfo) } 2ï¼ŒDockerfile\nFROMscratchADD ./app /CMD [\u0026#34;/app\u0026#34;]3ï¼Œéƒ¨ç½²æ–‡ä»¶\n pod1.yaml  apiVersion:v1stringData:id:AKIAIOSFODNN7EXAMPLEkey:wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEYendpoint:10.20.9.60:30009kind:Secretmetadata:name:pod1-secrettype:Opaque---apiVersion:rbac.authorization.k8s.io/v1kind:ClusterRolemetadata:name:pod1-getrules:- apiGroups:[\u0026#34;\u0026#34;]resources:[\u0026#34;secrets\u0026#34;]verbs:[\u0026#34;get\u0026#34;]---apiVersion:rbac.authorization.k8s.io/v1kind:ClusterRoleBindingmetadata:name:pod1-get-rbacsubjects:- kind:ServiceAccountnamespace:defaultname:pod1-saroleRef:kind:ClusterRolename:pod1-getapiGroup:rbac.authorization.k8s.io---apiVersion:v1kind:ServiceAccountmetadata:name:pod1-sanamespace:default---apiVersion:v1 kind:Pod metadata:name:pod1 labels:k8s-app:pod1spec:serviceAccountName:pod1-sarestartPolicy:Nevercontainers:- name:pod1image:beyond.io:5000/debug-test:0.1.1imagePullPolicy:Always volumeMounts:- name:volumemountPath:/data readOnly:Falsevolumes:- name:volume emptyDir:{}å®ä¾‹ä¸‰ 1ï¼Œtest.sh\n#! /bin/sh echo \u0026#34;Hello ldsdsy\u0026#34; time=$(date +\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34;) echo \u0026#34;Today is $ttime\u0026#34; 2ï¼ŒDockerfile\nFROMbusybox:1.28RUN mkdir /appADD ./test.sh /appRUN chmod +x /app/test.shCMD [\u0026#34;sh\u0026#34;,\u0026#34;-c\u0026#34;,\u0026#34;/app/test.sh\u0026#34;]3ï¼Œpod3.yaml\napiVersion:v1 kind:Pod metadata:name:pod3labels:k8s-app:pod3spec:restartPolicy:Nevercontainers:- name:pod3image:beyond.io:5000/debug-test:0.1.3imagePullPolicy:Always å®ä¾‹äº” 1ï¼Œtest.sh\n#! /bin/sh DATA_DIR=${DATA_DIR} echo \u0026#34;DIR is $DATA_DIR\u0026#34; for file in $DATA_DIR/* do echo $file if [ -f $file ]; then cat $file fi done 2ï¼Œpod5.yaml\napiVersion:v1 kind:Pod metadata:name:pod5labels:k8s-app:pod5spec:restartPolicy:Nevercontainers:- name:pod5 image:beyond.io:5000/debug-test:0.1.5imagePullPolicy:Always env:- name:DATA_DIRvalue:/datavolumeMounts:- name:volumemountPath:/data readOnly:Falsevolumes:- name:volume hostPath:path:/home/centos/data","date":"2022-05-03T14:18:03+08:00","permalink":"https://ldsdsy.github.io/p/k8s_kubectl_debug/","title":"K8s_kubectl_debug"},{"content":"å¿†å¾€æ˜”ï¼ˆä¸€ï¼‰ è¿™ä»¶ç³—äº‹æˆ‘å·²ç»æ˜¯ç¬¬äºŒæ¬¡å›æƒ³èµ·æ¥äº†ï¼Œè¿˜æ˜¯é€—ä¹äº†è‡ªå·±ï¼Œé‚£å°±åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å§ã€‚\nè€ƒç ”çš„åŒå­¦åº”è¯¥éƒ½çŸ¥é“æ±¤è€å¸ˆå§ï¼Œå°±æ˜¯è¾…å¯¼è€ƒç ”æ•°å­¦çš„æ±¤å®¶å‡¤è€å¸ˆï¼Œå½“åˆæˆ‘å¤‡è€ƒçš„æ—¶å€™å°±å¬çš„æ˜¯æ±¤è€å¸ˆçš„è¯¾ã€‚å½“æ—¶æ±¤è€å¸ˆçš„å›¢é˜Ÿæœ‰åœ¨è¿è¥å¾®ä¿¡å…¬ä¼—å·ï¼Œé‡Œé¢ä¼šæ—¶ä¸æ—¶æ›´æ–°ä¸€äº›è®²è§£è¯•å·ï¼ŒçŸ¥è¯†æ€»ç»“ä¹‹ç±»çš„è§†é¢‘ï¼Œæˆ‘ä¹Ÿå°±åœ¨å…¬ä¼—å·é‡Œçœ‹æ±¤è€å¸ˆçš„è¯¾ã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œè§†é¢‘çš„ç‰‡å¤´å‡ºç°äº†é»‘åº•ç™½å­—çš„è­¦å‘Šï¼Œå¤§æ„æ˜¯è¯´æœ¬äººæœªåœ¨ b ç«™å¼€é€šè´¦å·ï¼Œè¯·åŒå­¦ä»¬æ³¨æ„ä¹‹ç±»çš„ã€‚æˆ‘ä¹Ÿæ²¡å¤ªåœ¨æ„ï¼Œæ¯•ç«Ÿæˆ‘ä¹Ÿä¸åœ¨ b ç«™çœ‹æ±¤è€å¸ˆã€‚ç›´åˆ°æŸä¸€å¤©ï¼Œb ç«™çš„é¦–é¡µç»™æˆ‘æ¨èäº†â€œè€ƒç ”æ±¤å®¶å‡¤â€ï¼Œæˆ‘å¿ƒæƒ³ï¼Œå¥½å®¶ä¼™ï¼Œè¿™åå„¿å–å¾—è¿™ä¹ˆæ˜ç›®å¼ èƒ†ã€‚äºæ˜¯æˆ‘ç‚¹äº†è¿›å»ï¼Œè¿™ä¸€çœ‹ï¼Œå¤´åƒæ˜¯å…¬ä¼—å·é‡Œçš„ï¼Œè§†é¢‘ä¹Ÿæ˜¯å…¬ä¼—å·é‡Œçš„ï¼Œå½“æ—¶å°±ç»™æˆ‘æ°”ä¸Šå¤´äº†ï¼Œè¿™äººä¹Ÿå¤ªè¿‡åˆ†äº†ï¼Œç”¨ç€æ±¤è€å¸ˆçš„åŠ³åŠ¨æˆæœæ¥è°‹å–è‡ªå·±çš„åˆ©ç›Šï¼Œè¿˜æŠ«ç€æ±¤è€å¸ˆçš„å¤–è¡£è®©åŒå­¦é¡¶ç¤¼è†œæ‹œï¼Œæ— è€»ï¼ŒçœŸçš„æ— è€»è‡³æï¼å½“æ—¶æˆ‘è¿™æ­£ä¹‰æ„Ÿåˆ·åˆ·å¾€ä¸Šå†’ï¼Œè¦æ˜¯æˆ‘ä¸ç«™å‡ºæ¥ç»™æ±¤è€å¸ˆæ­£åï¼Œæˆ‘è¿˜é…å½“æ±¤è€å¸ˆçš„å­¦ç”Ÿå—ï¼Ÿéšå³ï¼Œæˆ‘ä¹‰æ­£ä¸¥è¾åœ°å†™ä¸‹è¯„è®ºï¼šâ€œæ±¤è€å¸ˆæ ¹æœ¬æ²¡åœ¨ b ç«™å¼€é€šè´¦å·ï¼Œä½ èµ¶ç´§æ³¨é”€å§ï¼Œæ±¤è€å¸ˆå·²ç»åœ¨è§†é¢‘é‡Œç»´æƒäº†â€ã€‚è‡ªè±ªæ„Ÿå……æ–¥ç€æˆ‘æ•´ä¸ªèƒ¸è…”ï¼Œä»¿ä½›è‡ªå·±çš„èº«å½±éƒ½å˜å¾—é«˜å¤§èµ·æ¥äº†ã€‚ä¸¤ä¸‰åˆ†é’Ÿåï¼Œæœ‰ç½‘å‹å›å¤æˆ‘äº†ï¼Œç½‘å‹ä¸€è¯´ï¼šâ€œè¿™å°±æ˜¯æ±¤è€å¸ˆæœ¬äººå•Šâ€ï¼Œç½‘å‹äºŒè¯´ï¼šâ€œæ±¤è€å¸ˆå¾®åšè¯´å¼€é€š b ç«™äº†â€ï¼Œç½‘å‹ä¸‰ä¹Ÿè¯´ï¼šâ€œè¿™æ˜¯çœŸçš„æ±¤è€å¸ˆï¼Œåªæ˜¯æ²¡å»è®¤è¯â€ã€‚å‘µï¼Œè¿˜æ˜¯ä¸ªå›¢ä¼™ä½œæ¡ˆï¼Œä»–å±…ç„¶è¿˜æ‰¾æ‰˜å„¿æ¥è¯æ˜è‡ªå·±ï¼ŒçœŸæ˜¯å¤ªå¤ªå¤ªæ— è€»ï¼Œæ°”å¾—æˆ‘åªæƒ³æ€¼å›å»ï¼Œä½†æˆ‘æƒ³å£è¯´æ— å‡­ï¼Œæˆ‘è¦å»å…¬ä¼—å·æŠŠè§†é¢‘çš„ç‰‡å¤´æˆªå±å‡ºæ¥ï¼Œè®©è¿™ç¾¤å®¶ä¼™æ— åœ°è‡ªå®¹ï¼ˆæ°”ä¸Šå¤´äº†ï¼Œb ç«™ä¹Ÿæ²¡æ³•è¯„è®ºå›¾ç‰‡ï¼‰ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°æœ€è¿‘çš„ä¸€æœŸè§†é¢‘ï¼Œæ‰“ç®—æˆªå›¾ï¼Œâ€œæœ¬äººå·²åœ¨ b ç«™æˆæƒ\u0026hellip;\u0026hellip;â€,å“ˆï¼Œå·²åœ¨ï¼Œä¸æ˜¯æœªåœ¨å—ï¼ä»€ä¹ˆæƒ…å†µï¼Œæ˜¯æˆ‘çœ‹é”™äº†ï¼ŸæƒŠè®¶ï¼Œææ…Œï¼Œç¾æ„§ï¼Œæ‡Šæ¼æ¶Œå…¥æˆ‘çš„è„‘æµ·ï¼Œå³ä¾¿å››å‘¨æ— äººï¼Œæˆ‘ä¹Ÿåƒè¢«é’‰åœ¨è€»è¾±æŸ±ä¸Šè¢«åƒä¸‡äººå›´è§‚ï¼Œè„¸çº¢å¾—è¯´ä¸å‡ºè¯æ¥ï¼Œæˆ‘ç°æºœæºœåœ°å›åˆ°è¯„è®ºåŒºï¼Œä¸çŸ¥å¦‚ä½•æ˜¯å¥½ã€‚å†·é™äº†ä¸€ä¼šï¼Œä¹Ÿæ€•å†å¤šç­‰ä¸€ç§’å°±ä¼šå¼•æ¥æ›´å¤šçš„ç½‘å‹æ¥é­ç¬æˆ‘ï¼Œç»„ç»‡å¥½é“æ­‰è¯­è¨€ï¼Œç‚¹å‡»å‘é€ï¼Œåˆ é™¤è¯„è®ºï¼Œæ”¾ä¸‹æ‰‹æœºï¼Œå”‰ï½ï¼Œè¿˜æ˜¯å¤ªå¹´è½»å†²åŠ¨äº†äº›ã€‚\n","date":"2022-04-14T21:18:07+08:00","permalink":"https://ldsdsy.github.io/p/%E5%BF%86%E5%BE%80%E6%98%94_20220414/","title":"å¿†å¾€æ˜”_20220414"},{"content":"åšç‰©æ‚å¿—_2022/02 ç”±äº b ç«™æ— ç©·å°äº®çš„æ¨èï¼Œæœ€è¿‘å¼€å§‹è®¢é˜…åšç‰©æ‚å¿—äº†ï¼Œæ‰“ç®—æŠŠä¸€äº›æœ‰è¶£çš„ç‚¹è®°å½•ä¸‹æ¥ã€‚\n1ï¼Œé©¬é†‰æœ¨ ä¸€ç§å¼€å°ç™½èŠ±çš„ä½çŸ®æ¤æ ªã€‚é©¬é†‰æœ¨çš„åå­—èµ·æºäºæ—¥æœ¬ï¼Œè‡³äºä¸ºä»€ä¹ˆå«è¿™ä¸ªåå­—ï¼Œæ˜¯ä¼ è¯´é©¬åƒäº†å…¶å¶å­éƒ½ä¼šè½°ç„¶å€’åœ°å®›å¦‚é†‰é…’ä¸€èˆ¬ï¼Œè€ŒçœŸå®çš„åŸå› æ˜¯è¿™ç§æ¤ç‰©é‡Œé¢åŒ…å«ä¸€ç§æœ‰æ¯’ç‰©è´¨ï¼Œè¢«é£Ÿç”¨åä¼šæœ‰ä¸­æ¯’è¿¹è±¡ã€‚\n2ï¼Œé²¨é±¼ğŸ¦ˆ å°æ—¶å€™çœ‹åŠ¨ç‰©ä¸–ç•Œï¼Œæœ‰çœ‹åˆ°é²¨é±¼ç”Ÿäº§çš„ç”»é¢ï¼Œå½“æ—¶å°±æŒºå°è±¡æ·±åˆ»ï¼Œå› ä¸ºå…¶ä»–é±¼éƒ½æ˜¯äº§åµï¼Œè€Œé²¨é±¼æ˜¯åƒå“ºä¹³åŠ¨ç‰©ä¸€æ ·ç›´æ¥äº§ä¸‹å°é²¨é±¼ï¼Œå°±æŒºä¸ä¸€æ ·ï¼Œä¹Ÿå°±ä¸€ç›´è®¤ä¸ºé²¨é±¼æ˜¯èƒç”Ÿã€‚ç»“æœäººå®¶çš„ç”Ÿäº§æ–¹å¼å¦¥å¦¥çš„ä¸€æ’åˆ—ç»„åˆï¼šåµç”Ÿï¼Œåµèƒç”Ÿï¼Œèƒç”Ÿã€‚ä¸‰ç§æ–¹å¼éƒ½å­˜åœ¨ï¼Œå½“ç„¶ä¸æ˜¯è¯´ï¼Œä¸€ç§é²¨é±¼å¯ä»¥éšä¾¿é€‰æ‹©ä¸€ç§æ¥ç¹è¡ï¼Œè€Œæ˜¯åœ¨é²¨é±¼è¿™ä¸ªå¤§æ—ç¾¤é‡Œï¼Œæœ‰çš„æ˜¯åµç”Ÿï¼Œæœ‰çš„æ˜¯èƒç”Ÿã€‚è™é²¨ç›®ä»¥åŠéƒ¨åˆ†é¡»é²¨ç›®ï¼ŒçœŸé²¨ç›®é²¨é±¼æ˜¯åµç”Ÿï¼›éƒ¨åˆ†çœŸé²¨ç›®æ˜¯èƒç”Ÿï¼›è€Œå¤§éƒ¨åˆ†é²¨é±¼æ˜¯åµèƒç”Ÿï¼Œå°é²¨é±¼åœ¨å‡ºç”Ÿå‰ï¼Œå¯èƒ½ä¼šåœ¨å­å®«é‡Œè‡ªç›¸æ®‹æ€ã€‚\n3ï¼Œç«¹ ç«¹å­ â€”â€” è‰çš„æœ€é«˜å¢ƒç•Œï¼Œæ ‘çš„æœ€ä½³æ›¿èº«ã€‚ç ´åœŸæ—¶ç¬‹çš„èƒ–ç˜¦å°±å†³å®šäº†ç«¹çš„ç²—ç»†ï¼ˆè¿™å°±æ˜¯ä¸‰å²çœ‹å…«åï¼Ÿï¼‰ã€‚\n4ï¼Œè”æ å‰äº›æ—¥å­ç½‘è´­äº†å¥½å‡ æ–¤è”æï¼Œæ”¶è´§æ—¶é™¤äº†æœ‰å‡ ä¸ªå‹åçš„æ€»ä½“è¿˜å¥½ï¼Œå½“æ—¶è¿˜æ„Ÿå¹ç½‘è´­æ°´æœè¿˜æ˜¯è¦ä¹°äº›å¸¦å£³çš„ä¸å®¹æ˜“åï¼Œå¯æƒœè¿™é³æ–‘çŠ¶é“ ç”²æ¬ºéª—äº†æˆ‘ã€‚è¿™å‰¯é“ ç”²å…¶å®ä¸­çœ‹ä¸ä¸­ç”¨ï¼Œé—´éš™å¾ˆå¤§ï¼Œæ—¢é˜²ä¸ä½æ°´ä»½æ•£å¤±ï¼Œåœ¨é«˜æ¸©ä¸‹è¿˜æå®¹æ˜“è¤å˜ã€‚ä¸€èˆ¬å”®å–è”æçš„æ‘Šè´©éƒ½ä¼šåœ¨åº•éƒ¨é“ºä¸€å±‚ç¢å†°æ¥å»¶ç¼“å…¶è¾ƒå¿«çš„ â€œå‘¼å¸ä»£è°¢â€ï¼Œæ‰€ä»¥è”æå¹¶ä¸é€‚åˆç½‘è´­ï¼ˆå³ä¾¿æ”¾åœ¨å†°ç®±å†·è—ï¼Œç¬¬äºŒå¤©å¤–å£³ä¹Ÿéƒ½è¤å˜äº†ï¼‰ï¼\nå¦å¤–ï¼Œä¹¦é‡Œæ•™äº†ä¸€æ‹›å¦‚ä½•ä¼˜é›…åœ°åƒè”æï¼Œè§‚å¯Ÿè”æå¯ä»¥çœ‹è§ä¸€æ¡æµ…æµ…çš„ç¼ï¼ˆç¼åˆçº¿ï¼‰ï¼Œé¡ºç€ç¼ä¸€æŒ¤ï¼Œæœå£³ä¾¿ä¼šå‘ˆä¸¤åŠè£‚å¼€ï¼Œè¿™æ ·å‰¥è”æåˆå¿«åˆå¥½æ‰‹è¿˜ä¸ç–¼ï¼Œä¹‹å‰éƒ½æ˜¯æ°å¼€æ ¹éƒ¨å†ä¸€ç‚¹ä¸€ç‚¹å‰¥æ‰å¤–å£³ï¼ŒçœŸæ˜¯ä¹¦çœ‹çš„å¤ªå°‘ï¼Œç¼ºå°‘ç†è®ºçŸ¥è¯†ã€‚By the way, è”æè™½å¥½åƒï¼Œä½†â€œæ—¥å•–è”æä¸‰ç™¾é¢—â€çš„è¡Œä¸ºè¿˜æ˜¯ä¸å¯å–ï¼Œä¸€ä¸ªä¸å°å¿ƒç»™è‡ªå·±åƒå‡ºæ€¥æ€§ä½è¡€ç³–å°±æŒºå¾®å¦™ï¼š\nAï¼šâ€œä½ å’‹çªç„¶ä½è¡€ç³–äº†ï¼Œæœ€è¿‘æ²¡å¥½å¥½åƒé¥­å—ï¼Ÿä½ å¾—å¤šåƒç‚¹å•Šï¼â€\nBï¼šâ€œä¸ï¼Œæˆ‘åƒçš„å¤ªå¤šäº†\u0026hellip;â€\nAï¼šâ€œ\u0026hellip;\u0026hellip;â€\n","date":"2022-02-28T13:50:36+08:00","permalink":"https://ldsdsy.github.io/p/%E5%8D%9A%E7%89%A9%E6%9D%82%E5%BF%97_202202/","title":"åšç‰©æ‚å¿—_202202"},{"content":"ClientSet â€”â€” in cluster out of cluster æ˜¯é€šè¿‡é›†ç¾¤çš„é…ç½®æ–‡ä»¶è®©å¤–éƒ¨çš„åº”ç”¨å¯ä»¥æ“ä½œé›†ç¾¤å†…çš„èµ„æºå¯¹è±¡ï¼Œ in cluster æœ¬èº«æ˜¯æŠŠç¨‹åºä½œä¸ºä¸€ä¸ª pod è¿è¡Œåœ¨é›†ç¾¤å†…éƒ¨ï¼Œé€šè¿‡ RBAC æ¥æˆæƒä½¿å…¶èƒ½å¤Ÿè·å–é›†ç¾¤çš„èµ„æºå¯¹è±¡ã€‚\nä¸€ï¼Œå¤§è‡´æµç¨‹ ç¼–å†™å¥½ go ç¨‹åºï¼Œç¼–è¯‘ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰“åŒ…æˆé•œåƒå¹¶æ¨é€ï¼Œç„¶åå¼€å¯ pod è¿è¡Œé•œåƒåŒæ—¶éœ€è¦æˆäºˆæƒé™ï¼Œä½¿å…¶æœ‰æƒè·å–èµ„æºä¿¡æ¯ã€‚\näºŒï¼Œç¼–å†™ç¨‹åº 1, mian.go\npackage main import ( \u0026quot;context\u0026quot; \u0026quot;fmt\u0026quot; metav1 \u0026quot;k8s.io/apimachinery/pkg/apis/meta/v1\u0026quot; \u0026quot;k8s.io/client-go/kubernetes\u0026quot; \u0026quot;k8s.io/client-go/rest\u0026quot; ) func main() { // creates the in-cluster config config, err := rest.InClusterConfig() if err != nil { panic(err.Error()) } // create the clientset clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } // get pod pods, err := clientset.CoreV1().Pods(\u0026quot;\u0026quot;).List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } for _, pod := range pods.Items { fmt.Printf(\u0026quot;pod.name:%v\\n\u0026quot;, pod.Name) } } 2, Dockerfile\n# åŸºç¡€é•œåƒ FROM debian # æŠŠå½“å‰ç›®å½•ä¸‹ç¼–è¯‘å¾—åˆ°çš„äºŒè¿›åˆ¶ app å¤åˆ¶åˆ°å·¥ä½œç›®å½• /app ä¸‹ COPY ./app /app # æ‰§è¡Œå·¥ä½œç›®å½•é‡Œçš„ app ENTRYPOINT /app # æ–‡ä»¶åä¸€å®šæ˜¯ Dockerfile ,ä¸è¦ä»»ä½•åç¼€ï¼Œä¹Ÿä¸è¦å…¨å°å†™ 3, ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶\n$ go build -o ./app . 4, æ‰“åŒ…é•œåƒ\n$ docker build . -t app 5, ç»™é•œåƒåŠ  tag\ndocker tag **** bocloud-bj.io:5000/app:1.0 // **** æ˜¯é•œåƒ ID 6, æ¨é€é•œåƒ\ndocker push bocloud-bj.io:5000/app:1.0 ä¸‰ï¼Œå¼€å¯ pod ï¼Œè¿è¡Œ image 1, ç»™ pod æˆæƒ åœ¨ ClusterRole é‡Œå®šä¹‰ pod æœ‰å“ªäº›æƒåˆ©ï¼Œå†ç”¨ ClusterRoleBinding å»ç»‘å®š ClusterRole å’Œ service accountï¼ŒSA ä¼šä¸º pod é‡Œçš„è¿›ç¨‹æä¾›å¿…è¦çš„èº«ä»½è¯æ˜ã€‚\n  ClusterRole.yaml  --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: pod-get rules: - apiGroups: [\u0026quot;\u0026quot;] resources: [\u0026quot;pods\u0026quot;] verbs: [\u0026quot;get\u0026quot;, \u0026quot;watch\u0026quot;, \u0026quot;list\u0026quot;] ClusterRoleBinding.yaml  --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: pod-get-rbac subjects: - kind: ServiceAccount namespace: default name: clientset-sa roleRef: kind: ClusterRole name: pod-get apiGroup: rbac.authorization.k8s.io sa.yaml  --- apiVersion: v1 kind: ServiceAccount metadata: name: clientset-sa namespace: default deploy.yaml  --- apiVersion: apps/v1 kind: Deployment metadata: name: clientset-deploy spec: replicas: 1 selector: matchLabels: app: incluster template: metadata: labels: app: incluster spec: containers: - name: webhook image: bocloud-bj.io:5000/app:1.0 imagePullPolicy: Always serviceAccountName: clientset-sa å››ï¼Œæ‰“å°æ—¥å¿— $ kubectl logs **** // **** æ˜¯ pod_id [centos@ml-k8s-1 ~]$ kubectl logs clientset-deploy-854d7f648c-gcj4v pod.name:nfs-client-provisioner-6d9b86b854-pcb9v pod.name:webhook-deploy-854d7f648c-gcj4v pod.name:coredns-545d6fc579-2kn79 pod.name:coredns-545d6fc579-mpzqg pod.name:etcd-ml-k8s-1.novalocal pod.name:fabric-node-2gnjf pod.name:fabric-node-s92ds // Note: å› ä¸ºèŠ‚ç‚¹æ˜¯ Linux ç³»ç»Ÿï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘äºŒè¿›åˆ¶ app æ—¶ä¹Ÿè¦åœ¨ Linux ç¯å¢ƒä¸‹ã€‚\n","date":"2021-07-17T09:54:41-05:00","permalink":"https://ldsdsy.github.io/p/k8s_clientset02/","title":"K8s_Clientset02"},{"content":"Clientset è®¿é—® k8s é›†ç¾¤èµ„æºå¯¹è±¡ Client-go æ˜¯ä¸€ä¸ªè°ƒç”¨ k8s é›†ç¾¤èµ„æºå¯¹è±¡ API çš„å®¢æˆ·ç«¯ï¼ŒåŠé€šè¿‡ Client-go å®ç°å¯¹èµ„æºå¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰.å››ç±»å®¢æˆ·ç«¯ï¼šRestClient, ClientSet, DynamicClient, DiscoveryClientï¼ˆæ­¤å¤„åªä»‹ç» ClientSet çš„ç”¨æ³•ï¼‰ã€‚\n ä¸€ï¼ŒClientset â€”â€” out of cluster é€šè¿‡ config æ–‡ä»¶è®©é›†ç¾¤å¤–éƒ¨çš„åº”ç”¨å¯ä»¥è®¿é—®åˆ°é›†ç¾¤å†…éƒ¨çš„èµ„æºå¯¹è±¡ ã€‚\n1, é…ç½® config æ–‡ä»¶ï¼ˆæŠŠ master ä¸Šçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°æœ¬åœ°ï¼‰ // åœ¨æœ¬åœ°æ‰§è¡Œ $ scp -r centos@10.20.9.60:/home/centos/.kube /home/ldsdsy/ // æ­¤æ—¶ ~ ç›®å½•ä¸‹ä¼šå¤šä¸€ä¸ª .kube æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å« config æ–‡ä»¶ 2, ç¼–å†™ä»£ç  package main import ( \u0026quot;context\u0026quot; \u0026quot;flag\u0026quot; \u0026quot;fmt\u0026quot; \u0026quot;path/filepath\u0026quot; metav1 \u0026quot;k8s.io/apimachinery/pkg/apis/meta/v1\u0026quot; \u0026quot;k8s.io/client-go/kubernetes\u0026quot; \u0026quot;k8s.io/client-go/tools/clientcmd\u0026quot; \u0026quot;k8s.io/client-go/util/homedir\u0026quot; ) func main() { var kubeconfig *string // é»˜è®¤ä¼šä» ~/.kube/config è·¯å¾„ä¸‹è·å–é…ç½®æ–‡ä»¶ if home := homedir.HomeDir(); home != \u0026quot;\u0026quot; { kubeconfig = flag.String(\u0026quot;kubeconfig\u0026quot;, filepath.Join(home, \u0026quot;.kube\u0026quot;, \u0026quot;config\u0026quot;), \u0026quot;(optional) absolute path to the kubeconfig file\u0026quot;) } else { kubeconfig = flag.String(\u0026quot;kubeconfig\u0026quot;, \u0026quot;\u0026quot;, \u0026quot;absulute path to the kubeconfig file\u0026quot;) } // æŠŠç”¨æˆ·ä¼ é€’çš„å‘½ä»¤è¡Œå‚æ•°è§£æä¸ºå¯¹åº”å˜é‡çš„å€¼ flag.Parse() // ä½¿ç”¨ k8s.io/client-go/tools/clientcmd ç”Ÿæˆ config çš„å¯¹è±¡ config, err := clientcmd.BuildConfigFromFlags(\u0026quot;\u0026quot;, *kubeconfig) if err != nil { panic(err.Error()) } // ä½¿ç”¨ k8s.io/client-go/kubernetes ç”Ÿæˆä¸€ä¸ª ClientSet çš„å®¢æˆ·ç«¯ // å®¢æˆ·ç«¯ç”Ÿæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå®¢æˆ·ç«¯ä¸ k8s API server è¿›è¡Œäº¤äº’äº†ï¼Œè¿›è¡Œ CRUD æ“ä½œã€‚ clientset, err := kubernetes.NewForConfig(config) if err != nil { panic(err.Error()) } // get pod pods, err := clientset.CoreV1().Pods(\u0026quot;\u0026quot;).List(context.TODO(), metav1.ListOptions{}) if err != nil { panic(err.Error()) } for _, pod := range pods.Items { fmt.Printf(\u0026quot;pod.name:%v\\n\u0026quot;, pod.Name) } } 3, è¿è¡Œ $ go run main.go pod.name:nfs-client-provisioner-6d9b86b854-pcb9v pod.name:coredns-545d6fc579-2kn79 pod.name:coredns-545d6fc579-mpzqg pod.name:etcd-ml-k8s-1.novalocal pod.name:fabric-node-2gnjf pod.name:fabric-node-s92ds Â·Â·Â· ","date":"2021-07-05T23:02:15+08:00","permalink":"https://ldsdsy.github.io/p/k8s_clientset01/","title":"K8s_Clientset01"},{"content":"é™åˆ¶å­˜å‚¨æ¶ˆè€— æœ¬å®éªŒå±•ç¤ºäº†å¦‚ä½•åœ¨ä¸€ä¸ªå‘½åç©ºé—´é‡Œé™åˆ¶å­˜å‚¨çš„æ¶ˆè€—ã€‚\nä¸€ï¼Œå®éªŒç›®çš„ 1ï¼Œå¸Œæœ›é€šè¿‡é™åˆ¶å•ä¸ªå‘½åç©ºé—´çš„å­˜å‚¨æ¶ˆè€—æ¥æ§åˆ¶æˆæœ¬ã€‚\n2ï¼Œé™åˆ¶çš„æ–¹é¢ï¼š\n å•ä¸ªå‘½åç©ºé—´é‡Œç”³è¯·æŒä¹…å·çš„æ•°é‡(PVC æ•°é‡); æ¯ä¸ªå£°æ˜å¯ä»¥è¯·æ±‚çš„å­˜å‚¨é‡; ä¸€ä¸ªå‘½åç©ºé—´é‡Œç§¯ç´¯çš„æ€»å­˜å‚¨æ¶ˆè€—é‡ã€‚  äºŒï¼Œå®éªŒå†…å®¹ 1, ä½¿ç”¨ LimitRange æ¥é™åˆ¶å¯¹å­˜å‚¨çš„è¯·æ±‚ã€‚æ ·ä¾‹å¦‚ä¸‹ï¼š\n åˆ›å»º LimitRange ç±»å‹çš„ yaml æ–‡ä»¶:  apiVersion: v1 kind: LimitRange metadata: name: storagelimits spec: limits: - type: PersistentVolumeClaim max: storage: 2Gi min: storage: 1Mi // limits.type ä¸ºé™åˆ¶çš„å¯¹è±¡ â€”â€” PVC // æ­¤å¤„çš„å­˜å‚¨è¯·æ±‚è®¾ç½®ä¸º x (1Mi \u0026lt; x \u0026lt; 2Gi) å°è¯•åˆ›å»ºç”³è¯·å†…å­˜ 1Gi çš„ PVC :  [centos@ml-k8s-1 ~]$ touch pvc1.yaml [centos@ml-k8s-1 ~]$ vim pvc1.yaml apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc1 annotations: volume.beta.kubernetes.io/storage-class: \u0026#34;managed-nfs-storage\u0026#34; spec: accessModes: - ReadWriteMany resources: requests: storage: 1Gi [centos@ml-k8s-1 ~]$ kubectl apply -f pvc1.yaml persistentvolumeclaim/pvc1 created [centos@ml-k8s-1 ~]$ kubectl get pvc NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE pvc1 Bound pvc-a0f522d8-5977-4c72-83bb-d57df46ffec5 1Gi RWX managed-nfs-storage 14s // å› ä¸ºç”³è¯·çš„å†…å­˜åœ¨åˆç†èŒƒå›´ï¼Œåˆ›å»ºæˆåŠŸ å°è¯•åˆ›å»ºç”³è¯·å†…å­˜ 2.2Gi çš„ PVC :  [centos@ml-k8s-1 ~]$ vim pvc2.yaml apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc2 annotations: volume.beta.kubernetes.io/storage-class: \u0026#34;managed-nfs-storage\u0026#34; spec: accessModes: - ReadWriteMany resources: requests: storage: 2.2Gi [centos@ml-k8s-1 ~]$ kubectl apply -f pvc2.yaml Error from server (Forbidden): error when creating \u0026#34;pvc2.yaml\u0026#34;: persistentvolumeclaims \u0026#34;pvc2\u0026#34; is forbidden: maximum storage usage per PersistentVolumeClaim is 2Gi, but request is 2362232012800m // å› ä¸ºç”³è¯·çš„å†…å­˜è¶…å‡ºèŒƒå›´ï¼Œåˆ›å»ºå¤±è´¥ 2, ä½¿ç”¨ StorageQuota é™åˆ¶ PVC æ•°ç›®å’Œç´¯è®¡å­˜å‚¨å®¹é‡ ã€‚æ ·ä¾‹å¦‚ä¸‹ï¼š\n åˆ›å»º StorageQuota ç±»å‹çš„ yaml æ–‡ä»¶:  apiVersion: v1 kind: ResourceQuota metadata: name: storagequota spec: hard: persistentvolumeclaims: \u0026#34;2\u0026#34; requests.storage: \u0026#34;2Gi\u0026#34; // æ­¤å¤„è§„å®šäº† PVC çš„æ•°é‡ä¸èƒ½è¶…è¿‡ 2 ä¸ªï¼Œä¸”æ‰€æœ‰ PVC ç”³è¯·çš„æ€»å†…å­˜é‡ä¸èƒ½è¶…è¿‡ 2Gi å°è¯•åˆ›å»ºç”³è¯·å†…å­˜ 2Gi çš„ PVC :  [centos@ml-k8s-1 ~]$ vim pvc2.yaml apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc2 annotations: volume.beta.kubernetes.io/storage-class: \u0026#34;managed-nfs-storage\u0026#34; spec: accessModes: - ReadWriteMany resources: requests: storage: 2Gi [centos@ml-k8s-1 ~]$ kubectl apply -f pvc2.yaml Error from server (Forbidden): error when creating \u0026#34;pvc2.yaml\u0026#34;: persistentvolumeclaims \u0026#34;pvc2\u0026#34; is forbidden: exceeded quota: storagequota, requested: persistentvolumeclaims=1,requests.storage=2Gi, used: persistentvolumeclaims=2,requests.storage=1025Mi, limited: persistentvolumeclaims=2,requests.storage=2Gi // ä»¥ä¸ºå·²ç»å­˜åœ¨çš„ pvc1 ç”³è¯·äº† 1Gi çš„å­˜å‚¨ï¼Œpvc2 å†ç”³è¯· 2Gi å°±ä¼šè¶…è¿‡è§„å®šçš„æ€»å­˜å‚¨é‡ 2Giï¼Œæ‰€æœ‰æ‰§è¡Œå¤±è´¥ å°è¯•åˆ›å»ºä¸¤ä¸ªå‡ç”³è¯·å†…å­˜ 1Mi çš„ PVC2 å’Œ PVC3 :  apiVersion: v1 kind: PersistentVolumeClaim metadata: name: pvc2 annotations: volume.beta.kubernetes.io/storage-class: \u0026#34;managed-nfs-storage\u0026#34; spec: accessModes: - ReadWriteMany resources: requests: storage: 1Mi [centos@ml-k8s-1 ~]$ kubectl apply -f pvc2.yaml persistentvolumeclaim/pvc2 created [centos@ml-k8s-1 ~]$ kubectl get pvc NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE pvc1 Bound pvc-a0f522d8-5977-4c72-83bb-d57df46ffec5 1Gi RWX managed-nfs-storage 2d16h pvc2 Bound pvc-796555a7-5826-4ce1-9a2c-493cd83e4a0f 1Mi RWX managed-nfs-storage 12s // pvc2 åœ¨åˆç†èŒƒå›´ï¼Œåˆ›å»ºæˆåŠŸï¼Œå†åˆ›å»ºä¸€ä¸ª pvc3 å¦‚ä¸‹ï¼š [centos@ml-k8s-1 ~]$ kubectl apply -f pvc3.yaml Error from server (Forbidden): error when creating \u0026#34;pvc3.yaml\u0026#34;: persistentvolumeclaims \u0026#34;pvc3\u0026#34; is forbidden: exceeded quota: storagequota, requested: persistentvolumeclaims=1, used: persistentvolumeclaims=2, limited: persistentvolumeclaims=2 // å› ä¸ºå·²å­˜åœ¨ä¸¤ä¸ª pvc ï¼Œæ‰€ä»¥ pvc3 çš„åˆ›å»ºä¸ä¼šæˆåŠŸ æ€»ç»“  LimitRange å’Œ StorageQuota çš„æ•ˆæœæ˜¯ç›¸äº’å åŠ çš„ï¼Œåªè¦ä¸ç¬¦åˆå…¶ä¸­ä¸€æ¡è§„åˆ™å°±æ— æ³•æˆåŠŸåˆ›å»º pvc ã€‚ è‹¥é‡æ–°ä¿®æ”¹ LimitRange.yaml æ–‡ä»¶ï¼Œä¸å½±å“å·²å­˜åœ¨çš„ä½†ä¸ç¬¦åˆæ–°é™åˆ¶çš„ pvc ã€‚ è‹¥æ— ç‰¹æ„æ ‡æ˜ï¼Œä»¥ä¸Šæ“ä½œå‡åœ¨ default å‘½åç©ºé—´é‡Œã€‚  ","date":"2021-05-17T09:21:51-05:00","permalink":"https://ldsdsy.github.io/p/k8s_%E5%AD%98%E5%82%A8%E9%99%90%E5%88%B6/","title":"K8s_å­˜å‚¨é™åˆ¶"},{"content":"é™æ€åŠ å¯† Secret æ•°æ® å› ä¸º secret é»˜è®¤å­˜å‚¨ä¸º base64 ç¼–ç çš„éåŠ å¯†å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯ç”¨é™æ€åŠ å¯†æ¥å¢åŠ å®‰å…¨æ€§ã€‚\n1 åˆ›å»ºé…ç½®æ–‡ä»¶ encrypt.conf  é…ç½®æ–‡ä»¶æ ·ä¾‹å¦‚ä¸‹:  apiVersion: apiserver.config.k8s.io/v1 kind: EncryptionConfiguration resources: - resources: - secrets providers: - aescbc: keys: - name: key1 secret: \u0026lt;BASE 64 ENCODED SECRET\u0026gt; - identity: {} // resources.resources é‡Œçš„å†…å®¹å°±æ˜¯è¦åŠ å¯†çš„å¯¹è±¡ï¼Œæ­¤å¤„ä¸º secrets; // providers é‡Œæ˜¯åŠ è§£å¯†çš„å®é™…æä¾›è€… â€”â€” identity, aescbc, secretbox, aesgcm, kms. ç»¼åˆå¯¹æ¯”ï¼Œaescec æœ€åˆé€‚ã€‚ // åŠ å¯†æ—¶ä¼šä½¿ç”¨ providers é‡Œçš„ç¬¬ä¸€ä¸ªæ¥åŠ å¯†ï¼Œè§£å¯†æ—¶ä¼šä»å¤´åˆ°å°¾å°è¯•ç›´è‡³æˆåŠŸè§£å¯†ã€‚ // identity å°±æ˜¯æ˜æ–‡ï¼Œå…¶ä½™éƒ½ä¸ºåŠ å¯†ç®—æ³•ã€‚ // æ­¤å¤„çš„é…ç½®æ–‡ä»¶æœ€åæ˜¯ identityï¼Œæ˜¯ä¸ºäº†æœåŠ¡åœ¨æ­¤ä¹‹å‰å·²ç»å­˜å‚¨äº†çš„æ˜æ–‡ secrets ã€‚ éœ€ç”Ÿæˆéšæœºå¯†é’¥æ”¾å…¥ secret å­—æ®µä¸­ï¼Œç›´æ¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š  [centos@ml-k8s-1 ~]$ head -c 32 /dev/urandom | base64 7unrE0P6q9DmlqGVeZ+k02d2eNaAgveFC01V+gV3VYc= // ç”Ÿæˆäº†ä¸€ä¸ª 32 å­—èŠ‚çš„éšæœºå¯†é’¥å¹¶è¿›è¡Œäº† base64 ç¼–ç  é…ç½®æ–‡ä»¶å‘½åä¸º encrypt.conf , å¹¶å­˜æ”¾åœ¨ /etc/kubernetes/pki/  [centos@ml-k8s-1 ~]$ cd /etc/kubernetes/pki/ [centos@ml-k8s-1 pki]$ ls apiserver-etcd-client.crt apiserver-kubelet-client.crt apiserver.crt ca.crt encrypt.conf front-proxy-ca.crt front-proxy-client.crt sa.key apiserver-etcd-client.key apiserver-kubelet-client.key apiserver.key ca.key etcd front-proxy-ca.key front-proxy-client.key sa.pub 2 è®¾ç½® kube-apiserver  å¢åŠ  \u0026ndash;encryption-provider-config ï¼ŒæŒ‡å‘ encrypt.conf  [centos@ml-k8s-1 ~]$ cd /etc/kubernetes/manifests [centos@ml-k8s-1 manifests]$ ls etcd.yaml kube-apiserver.yaml kube-controller-manager.yaml kube-scheduler.yaml [centos@ml-k8s-1 manifests]$ sudo vim kube-apiserver.yaml apiVersion: v1 kind: Pod metadata: annotations: kubeadm.kubernetes.io/kube-apiserver.advertise-address.endpoint: 10.20.9.60:6443 creationTimestamp: null labels: component: kube-apiserver tier: control-plane name: kube-apiserver namespace: kube-system spec: containers: - command: - kube-apiserver - --advertise-address=10.20.9.60 - --allow-privileged=true - --authorization-mode=Node,RBAC - --client-ca-file=/etc/kubernetes/pki/ca.crt - --enable-admission-plugins=NodeRestriction - --enable-bootstrap-token-auth=true - --etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt - --etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt - --etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key - --etcd-servers=https://127.0.0.1:2379 - --insecure-port=0 - --kubelet-client-certificate=/etc/kubernetes/pki/apiserver-kubelet-client.crt - --kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname - --proxy-client-cert-file=/etc/kubernetes/pki/front-proxy-client.crt - --proxy-client-key-file=/etc/kubernetes/pki/front-proxy-client.key - --requestheader-allowed-names=front-proxy-client - --requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt - --requestheader-extra-headers-prefix=X-Remote-Extra- - --requestheader-group-headers=X-Remote-Group - --requestheader-username-headers=X-Remote-User - --secure-port=6443 - --service-account-issuer=https://kubernetes.default.svc.cluster.local - --service-account-key-file=/etc/kubernetes/pki/sa.pub - --service-account-signing-key-file=/etc/kubernetes/pki/sa.key - --service-cluster-ip-range=10.96.0.0/12 - --tls-cert-file=/etc/kubernetes/pki/apiserver.crt - --tls-private-key-file=/etc/kubernetes/pki/apiserver.key - --encryption-provider-config=/etc/kubernetes/pki/encrypt.conf // è‹¥ä½¿ç”¨ kubeadm æ­å»ºçš„é›†ç¾¤ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨é‡å¯ API server , å¦åˆ™éœ€è¦æ‰‹åŠ¨é‡å¯ã€‚ 3 éªŒè¯æ•°æ®å·²è¢«åŠ å¯† é‡æ–°å¯åŠ¨ kube-apiserver åï¼Œä»»ä½•æ–°åˆ›å»ºæˆ–æ›´æ–°çš„ secret åœ¨å­˜å‚¨æ—¶éƒ½åº”è¯¥è¢«åŠ å¯†\n åœ¨ default å‘½åç©ºé—´é‡Œåˆ›å»ºä¸€ä¸ªåä¸º secret1 çš„ secret ï¼š  [centos@ml-k8s-1 ~]$ kubectl create secret generic secret1 -n default --from-literal=mykey=mydata secret/secret1 created [centos@ml-k8s-1 ~]$ kubectl get secret NAME TYPE DATA AGE default-token-44r9r kubernetes.io/service-account-token 3 18h secret1 Opaque 1 23s ä½¿ç”¨ etcdctl å‘½ä»¤è¡Œï¼Œä» etcd ä¸­è¯»å– secret ï¼š  [centos@ml-k8s-1 etcd]$ sudo ETCDCTL_API=3 ./etcdctl --cacert=/etc/kubernetes/pki/etcd/ca.crt --cert=/etc/kubernetes/pki/apiserver-etcd-client.crt --key=/etc/kubernetes/pki/apiserver-etcd-client.key get /registry/secrets/default/secret1 | hexdump -C 00000000 2f 72 65 67 69 73 74 72 79 2f 73 65 63 72 65 74 |/registry/secret| 00000010 73 2f 64 65 66 61 75 6c 74 2f 73 65 63 72 65 74 |s/default/secret| 00000020 31 0a 6b 38 73 3a 65 6e 63 3a 61 65 73 63 62 63 |1.k8s:enc:aescbc| 00000030 3a 76 31 3a 6b 65 79 31 3a cb d8 67 c6 67 21 07 |:v1:key1:..g.g!.| 00000040 e6 e7 f8 97 01 4a 76 24 2c bb 23 3f 9c 6f 4c 10 |.....Jv$,.#?.oL.| 00000050 44 ce a9 d9 a4 db 1d b3 76 6c d2 a2 dc 41 7e 55 |D.......vl...A~U| 00000060 b2 da fc c0 6d fb 0b 79 0c 3e 87 70 6e 5b 31 5d |....m..y.\u0026gt;.pn[1]| 00000070 f7 8d 7f de f8 ec 4d 2d ec eb c5 a2 3a 80 95 4f |......M-....:..O| 00000080 b0 de 3b e1 83 f4 76 32 f5 d4 19 d2 96 6a 46 df |..;...v2.....jF.| 00000090 03 ca d4 e1 3d 9d 48 6e 81 61 ec 18 04 b2 73 d2 |....=.Hn.a....s.| 000000a0 cd f8 1b e5 bd 2f cc 0e 68 b5 24 d7 7a 44 d2 8e |...../..h.$.zD..| 000000b0 6c 2c fb 3a 43 e8 7c 37 c8 bd e6 06 dd 29 04 0d |l,.:C.|7.....)..| 000000c0 aa 71 c1 75 8d 3d de 39 d4 15 26 c5 e9 af a9 c4 |.q.u.=.9..\u0026amp;.....| 000000d0 2d c6 4d 1a 36 7c 4d ec 10 50 20 69 dc 28 49 d2 |-.M.6|M..P i.(I.| 000000e0 af e4 10 44 f2 9e ad 98 b9 f8 43 d3 74 4f 1a 05 |...D......C.tO..| 000000f0 13 d0 72 cf f4 60 12 26 af 47 ee a7 de 1d 9f e2 |..r..`.\u0026amp;.G......| 00000100 41 ba 33 2c 45 3c 98 f9 0c d8 3d 3f 90 bd 06 be |A.3,E\u0026lt;....=?....| 00000110 64 9a f4 d9 48 94 93 21 f1 ed 54 e7 be 59 31 d8 |d...H..!..T..Y1.| 00000120 1b 40 e0 9b 51 14 6b 9a 96 ed 7a 42 95 20 b6 b5 |.@..Q.k...zB. ..| 00000130 5b 02 99 8d 3a 66 c1 1d 19 0a |[...:f....| 0000013a // cacert, cert, key æ˜¯ç”¨æ¥è¿æ¥ etcd æœåŠ¡çš„è¯ä¹¦ // hexdump å‘½ä»¤ä¸€èˆ¬ç”¨æ¥æŸ¥çœ‹â€œäºŒè¿›åˆ¶â€æ–‡ä»¶çš„åå…­è¿›åˆ¶ç¼–ç  // æ•°æ®å¤´éƒ¨å‡ºç° k8s:enc:aescbc:v1: ,è¯´æ˜æ•°æ®å·²ç»è¢«æ­£ç¡®åŠ å¯†ï¼Œä¸”ä½¿ç”¨çš„æ˜¯ aescbc ç®—æ³•ï¼Œå¯†é’¥ä¸º key1 éªŒè¯ secret æ˜¯å¦è¢«æ­£ç¡®è§£å¯†ï¼š  [centos@ml-k8s-1 etcd]$ kubectl get secrets secret1 -o yaml apiVersion: v1 data: mykey: bXlkYXRh kind: Secret metadata: creationTimestamp: \u0026#34;2021-05-06T03:09:25Z\u0026#34; name: secret1 namespace: default resourceVersion: \u0026#34;89523\u0026#34; uid: dc8e6c8d-fb3c-47b3-b2bb-ed5014fb3779 type: Opaque // mykey: bXlkYXRh ,æ•°æ®å·²è¢«åŠ å¯† // åŠ å¯†æ’ä»¶åªæ˜¯åŠ å¯†äº† etcd ä¸­ä¿å­˜çš„æ•°æ®,æ‰§è¡Œè¿™ç±» kubectl get secrets mysecret -o yaml å‘½ä»¤æ—¶ï¼Œkube-apiserver åœ¨ä» etcd ä¸­å–å‡ºæ•°æ®çš„æ—¶å€™å·²ç»è‡ªåŠ¨è§£å¯†äº† // æ­¤æ—¶ç”¨ decode å³å¯å¾—åˆ°æ•°æ® [centos@ml-k8s-1 etcd]$ echo -n \u0026#34;bXlkYXRh\u0026#34; | base64 --decode mydata 4 ç¡®ä¿æ‰€æœ‰ secret éƒ½è¢«åŠ å¯†  è¯»å–æ‰€æœ‰ Secretï¼Œç„¶åé€šè¿‡æ›´æ–°æ¥å®ç°å…¨éƒ¨åŠ å¯†  [centos@ml-k8s-1 etcd]$ kubectl get secrets --all-namespaces -o json | kubectl replace -f - secret/default-token-44r9r replaced secret/secret1 replaced secret/default-token-d49sg replaced secret/default-token-dhpj7 replaced secret/attachdetach-controller-token-xfvx9 replaced secret/bootstrap-signer-token-4z576 replaced secret/bootstrap-token-rliyei replaced secret/certificate-controller-token-6g4hj replaced secret/clusterrole-aggregation-controller-token-vzn58 replaced secret/coredns-token-bkmbn replaced secret/cronjob-controller-token-x45gt replaced secret/daemon-set-controller-token-skxtk replaced secret/default-token-plx8s replaced secret/deployment-controller-token-77g4q replaced secret/disruption-controller-token-mw4lq replaced secret/endpoint-controller-token-b5dqn replaced secret/endpointslice-controller-token-26rcq replaced secret/endpointslicemirroring-controller-token-zgjgs replaced secret/ephemeral-volume-controller-token-f9njw replaced secret/expand-controller-token-2k6v2 replaced secret/fabric-etcd-secrets replaced secret/fabric-node-serviceaccount-token-7b6hj replaced secret/generic-garbage-collector-token-48bvm replaced secret/horizontal-pod-autoscaler-token-ls2v4 replaced secret/job-controller-token-nl87g replaced secret/kube-proxy-token-xp7gj replaced secret/namespace-controller-token-wdrs5 replaced secret/node-controller-token-9gs5c replaced secret/persistent-volume-binder-token-qnclk replaced secret/pod-garbage-collector-token-c2k7v replaced secret/pv-protection-controller-token-slkm5 replaced secret/pvc-protection-controller-token-wnxbw replaced secret/replicaset-controller-token-4pkz4 replaced secret/replication-controller-token-vw268 replaced secret/resourcequota-controller-token-8g9ql replaced secret/root-ca-cert-publisher-token-fkzln replaced secret/service-account-controller-token-9686g replaced secret/service-controller-token-wc49g replaced secret/statefulset-controller-token-jxcp8 replaced secret/token-cleaner-token-rp76n replaced secret/ttl-after-finished-controller-token-9rgmc replaced secret/ttl-controller-token-59wtj replaced secret/webhook-server-cert replaced [centos@ml-k8s-1 etcd]$ secret/attachdetach-controller-token-xfvx9 replaced secret/bootstrap-signer-token-4z576 replaced secret/bootstrap-token-rliyei replaced secret/certificate-controller-token-6g4hj replaced secret/clusterrole-aggregation-controller-token-vzn58 replaced secret/coredns-token-bkmbn replaced secret/cronjob-controller-token-x45gt replaced secret/daemon-set-controller-token-skxtk replaced secret/default-token-plx8s replaced secret/deployment-controller-token-77g4q replaced secret/disruption-controller-token-mw4lq replaced secret/endpoint-controller-token-b5dqn replaced secret/endpointslice-controller-token-26rcq replaced secret/endpointslicemirroring-controller-token-zgjgs replaced secret/ephemeral-volume-controller-token-f9njw replaced secret/expand-controller-token-2k6v2 replaced secret/fabric-etcd-secrets replaced secret/fabric-node-serviceaccount-token-7b6hj replaced secret/generic-garbage-collector-token-48bvm replaced secret/horizontal-pod-autoscaler-token-ls2v4 replaced secret/job-controller-token-nl87g replaced secret/kube-proxy-token-xp7gj replaced secret/namespace-controller-token-wdrs5 replaced secret/node-controller-token-9gs5c replaced secret/persistent-volume-binder-token-qnclk replaced secret/pod-garbage-collector-token-c2k7v replaced secret/pv-protection-controller-token-slkm5 replaced secret/pvc-protection-controller-token-wnxbw replaced secret/replicaset-controller-token-4pkz4 replaced secret/replication-controller-token-vw268 replaced secret/resourcequota-controller-token-8g9ql replaced secret/root-ca-cert-publisher-token-fkzln replaced secret/service-account-controller-token-9686g replaced secret/service-controller-token-wc49g replaced secret/statefulset-controller-token-jxcp8 replaced secret/token-cleaner-token-rp76n replaced secret/ttl-after-finished-controller-token-9rgmc replaced secret/ttl-controller-token-59wtj replaced secret/webhook-server-cert replaced 5 è§£å¯†æ‰€æœ‰ secrets  ä¿®æ”¹é…ç½®æ–‡ä»¶ encrypt.conf ï¼ŒæŠŠ provider é‡Œçš„ identity ä¿®æ”¹ä¸ºç¬¬ä¸€é¡¹  [centos@ml-k8s-1 pki]$ sudo vim encrypt.conf apiVersion: apiserver.config.k8s.io/v1 kind: EncryptionConfiguration resources: - resources: - secrets providers: - identity: {} - aescbc: keys: - name: key1 secret: 7unrE0P6q9DmlqGVeZ+k02d2eNaAgveFC01V+gV3VYc= å†é€šè¿‡æ›´æ–°æ¥è§£å¯†  [centos@ml-k8s-1 pki]$ kubectl get secrets --all-namespaces -o json | kubectl replace -f - secret/default-token-44r9r replaced secret/secret1 replaced secret/default-token-d49sg replaced secret/default-token-dhpj7 replaced secret/attachdetach-controller-token-xfvx9 replaced secret/bootstrap-signer-token-4z576 replaced secret/bootstrap-token-rliyei replaced secret/certificate-controller-token-6g4hj replaced secret/clusterrole-aggregation-controller-token-vzn58 replaced secret/coredns-token-bkmbn replaced secret/cronjob-controller-token-x45gt replaced secret/daemon-set-controller-token-skxtk replaced secret/default-token-plx8s replaced secret/deployment-controller-token-77g4q replaced secret/disruption-controller-token-mw4lq replaced secret/endpoint-controller-token-b5dqn replaced secret/endpointslice-controller-token-26rcq replaced secret/endpointslicemirroring-controller-token-zgjgs replaced secret/ephemeral-volume-controller-token-f9njw replaced secret/expand-controller-token-2k6v2 replaced secret/fabric-etcd-secrets replaced secret/fabric-node-serviceaccount-token-7b6hj replaced secret/generic-garbage-collector-token-48bvm replaced secret/horizontal-pod-autoscaler-token-ls2v4 replaced secret/job-controller-token-nl87g replaced secret/kube-proxy-token-xp7gj replaced secret/namespace-controller-token-wdrs5 replaced secret/node-controller-token-9gs5c replaced secret/persistent-volume-binder-token-qnclk replaced secret/pod-garbage-collector-token-c2k7v replaced secret/pv-protection-controller-token-slkm5 replaced secret/pvc-protection-controller-token-wnxbw replaced secret/replicaset-controller-token-4pkz4 replaced secret/replication-controller-token-vw268 replaced secret/resourcequota-controller-token-8g9ql replaced secret/root-ca-cert-publisher-token-fkzln replaced secret/service-account-controller-token-9686g replaced secret/service-controller-token-wc49g replaced secret/statefulset-controller-token-jxcp8 replaced secret/token-cleaner-token-rp76n replaced secret/ttl-after-finished-controller-token-9rgmc replaced secret/ttl-controller-token-59wtj replaced secret/webhook-server-cert replaced ","date":"2021-05-06T21:41:20+08:00","permalink":"https://ldsdsy.github.io/p/k8s_%E9%9D%99%E6%80%81%E5%8A%A0%E5%AF%86/","title":"K8s_é™æ€åŠ å¯†"},{"content":"Docker å­¦ä¹ ç¬”è®° Docker ä¸€ç§ç”Ÿæˆå®¹å™¨çš„å·¥å…·ã€‚ ä¸€ï¼Œé•œåƒ Docker é•œåƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªé™æ€æ¦‚å¿µï¼Œæ˜¯å®¹å™¨çš„åº•å±‚ã€‚\n1ï¼Œè·å–é•œåƒï¼š $ docker pull *** 2ï¼Œæ˜¾ç¤ºé•œåƒï¼š $ docker image ls // æ˜¾ç¤ºé¡¶å±‚é•œåƒ $ docker image ls -a // æ˜¾ç¤ºä¸­é—´å±‚é•œåƒ $ docker image ls ** // æ˜¾ç¤ºé•œåƒ ** $ docker image ls -f since=** // æ˜¾ç¤º ** ä¹‹åå»ºç«‹çš„é•œåƒ $ docker image ls -f before=** // æ˜¾ç¤º ** ä¹‹å‰çš„å»ºç«‹çš„é•œåƒ $ docker image ls -f dangling=true // æ˜¾ç¤ºè™šæ‚¬é•œåƒ $ docker image prune // åˆ é™¤è™šæ‚¬é•œåƒ // åœ¨å‘å¸ƒé•œåƒæ–°ç‰ˆæœ¬æ—¶ï¼Œæ—§é•œåƒåè½¬ç§»åˆ°æ–°é•œåƒä¸Šï¼Œä»è€Œæ—§é•œåƒå‡ºç°ä»“åº“åï¼Œæ ‡ç­¾å‡ä¸º \u0026lt;none\u0026gt; æƒ…å†µï¼Œæˆä¸ºè™šæ‚¬é•œåƒã€‚ $ docker image ls -q // åªæ˜¾ç¤ºé•œåƒ ID $ docker image ls --format \u0026quot;{{.ID}}:{{.Repository}\u0026quot; // æŒ‰ç…§ ID:ä»“åº“å çš„æ ¼å¼æ˜¾ç¤º $ docker image ls --format \u0026quot;table {{.ID}}\\t{{.Repository}}\\t{{.Tag}}\u0026quot; // æŒ‰ç…§ ID ä»“åº“å æ ‡ç­¾ çš„è¡¨æ ¼å½¢å¼æ˜¾ç¤º 3ï¼Œåˆ é™¤é•œåƒ $ docker image rm ** // ** å¯ä»¥æ˜¯ IDï¼Œé•œåƒåï¼Œæ‘˜è¦ $ docker image rm $(docker image ls -q redis) // åˆ é™¤æ‰€æœ‰ä»“åº“åä¸º redis çš„é•œåƒ 4ï¼Œå®šåˆ¶é•œåƒï¼ˆDockerfileï¼‰ Dockerfile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹åŒ…å«äº†ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜ã€‚ äºŒï¼Œå®¹å™¨ å®¹å™¨æ˜¯ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œä»¥åŠå®ƒä»¬çš„è¿è¡Œæ€ç¯å¢ƒ,æ˜¯ä¸€ä¸ªåŠ¨æ€æ¦‚å¿µã€‚\n1ï¼Œå¯åŠ¨å®¹å™¨ï¼š 1) åŸºäºé•œåƒæ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼š $ docker run -t -i ubuntu /bin/bash // -t é€‰é¡¹è®© Docker åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ -i åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ 2) å¯åŠ¨å·²ç»ˆæ­¢çš„å®¹å™¨ï¼š $ docker container start [id] // é‡å¯å®¹å™¨ 2ï¼Œè¿è¡Œå®¹å™¨ï¼š -dï¼šè®©å®¹å™¨åœ¨åå°è¿è¡Œï¼Œè€Œä¸æ˜¯åœ¨å½“å‰å®¿ä¸»æœºä¸‹è¾“å‡ºç»“æœã€‚ä¾‹å¦‚ï¼š $ docker run -d ubuntu /bin/sh -c \u0026quot;echo hello world;\u0026quot; // æ­¤æ—¶ä¼šè¿”å›ä¸€ä¸ªå”¯ä¸€çš„ idï¼Œå¯å€ŸåŠ© id æŸ¥çœ‹è¾“å‡ºä¿¡æ¯ $ docker logs [id] 3ï¼Œç»ˆæ­¢å®¹å™¨ï¼š $ docker container ls // æ˜¾ç¤ºè¿è¡Œä¸­çš„å®¹å™¨ $ docker container ls -a // æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ $ docker container stop [id] // ç»ˆæ­¢å®¹å™¨ $ docker container restart [id] // é‡å¯å®¹å™¨ 4ï¼Œè¿›å…¥å®¹å™¨ï¼š 1) attach: $ docker attach [id] // exit ä¼šå¯¼è‡´å®¹å™¨åœæ­¢ 2) exec: $ docker exec -it [id] bash // -i:äº¤äº’å¼ ï¼Œ-t:ç»ˆç«¯ // exit ä¸ä¼šå¯¼è‡´å®¹å™¨åœæ­¢ 5ï¼Œåˆ é™¤å®¹å™¨ï¼š $ docker container rm [id] // åˆ é™¤ç»ˆæ­¢æ€çš„å®¹å™¨ $ docker container rm -f [id] // åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ $ docker container prune // åˆ é™¤æ‰€æœ‰ç»ˆæ­¢æ€çš„å®¹å™¨ ä¸‰ï¼Œä»“åº“ é›†ä¸­å­˜æ”¾é•œåƒçš„åœ°æ–¹\n","date":"2021-04-21T16:55:52+08:00","permalink":"https://ldsdsy.github.io/p/docker/","title":"Docker"},{"content":"1.å­—ç¬¦ä¸²ç”±â€œç¢ç‰‡â€ç»„æˆï¼Œæ¯ä¸ªç¢ç‰‡ä¸ºå•ä¸€å­—æ¯ç»„æˆï¼Œå¦‚ï¼šâ€œaaabbccadddâ€ ç”±ç¢ç‰‡ \u0026ldquo;aaa\u0026rdquo;,\u0026ldquo;bb\u0026rdquo;,\u0026ldquo;cc\u0026rdquo;,\u0026ldquo;a\u0026rdquo;,\u0026ldquo;ddd\u0026rdquo; ç»„æˆã€‚\nè¾“å…¥ï¼šä¸€ä¸ªå­—ç¬¦ä¸²\nè¾“å‡ºï¼šæŒ‰å­—å…¸è¾“å‡ºç¢ç‰‡ï¼Œæ¯ä¸ªç¢ç‰‡ä¸€è¡Œï¼Œç›¸åŒçš„ç¢ç‰‡åªè¾“å‡ºä¸€æ¬¡\nC++\n#include\u0026lt;bits/stdc++.h\u0026gt;using namespace std; int main() { vector\u0026lt;string\u0026gt; v; string s,t; int i; cin\u0026gt;\u0026gt;s; t=s[0]; for(i=1;i\u0026lt;s.size();i++) { if(s[i]==s[i-1]) { t+=s[i]; } else { v.push_back(t); t=s[i]; } } v.push_back(t); sort(v.begin(),v.end()); cout\u0026lt;\u0026lt;v[0]\u0026lt;\u0026lt;endl; for(i=1;i\u0026lt;v.size();) { if(v[i]==v[i-1]) { i++;\t} else { cout\u0026lt;\u0026lt;v[i]\u0026lt;\u0026lt;endl; i++; }\t} return 0; } 2.æ±‚å“ˆå¤«æ›¼æ ‘çš„æœ€çŸ­å¸¦æƒè·¯å¾„é•¿åº¦ã€‚\nè¾“å…¥ï¼šç¬¬ä¸€è¡Œä¸ºæƒå€¼ä¸ªæ•° n ï¼Œç¬¬äºŒè¡Œæ˜¯ n ä¸ªæƒå€¼\nè¾“å‡ºï¼šæœ€çŸ­å¸¦æƒè·¯å¾„é•¿åº¦\nC++\n#include\u0026lt;bits/stdc++.h\u0026gt;using namespace std; int main() { vector\u0026lt;int\u0026gt; v; int n,t,sum=0; cin\u0026gt;\u0026gt;n; while(n--) { cin\u0026gt;\u0026gt;t; v.push_back(t); } while(v.size()!=1) { sort(v.begin(),v.end()); t=v[0]+v[1]; sum+=t; v.erase(v.begin(),v.begin()+2); v.push_back(t); } cout\u0026lt;\u0026lt;sum\u0026lt;\u0026lt;endl; return 0; } ","date":"2021-03-20T12:16:20+08:00","permalink":"https://ldsdsy.github.io/p/exam2019/","title":"Exam2019"},{"content":"åº”ç”¨å±‚ 1 ç½‘ç»œåº”ç”¨æ¨¡å‹ 1. å®¢æˆ·/æœåŠ¡å™¨æ¨¡å‹ï¼ˆC/Sï¼‰ï¼š æœ‰ä¸€ä¸ªæ€»æ˜¯æ‰“å¼€çš„ä¸»æœºç§°ä¸ºæœåŠ¡å™¨ï¼Œå®ƒæœåŠ¡äºè®¸å¤šæ¥è‡ªå…¶ä»–ç§°ä¸ºå®¢æˆ·æœºçš„ä¸»æœºè¯·æ±‚ã€‚ 2. P2P æ¨¡å‹ï¼š æ¯å°æœºå™¨æ—¢æ˜¯æœåŠ¡å™¨åˆæ˜¯å®¢æˆ·æœºã€‚ 2 åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ ç”¨äºæŠŠä¸»æœºåè½¬æ¢ä¸º IP åœ°å€ï¼›é‡‡ç”¨å®¢æˆ·/æœåŠ¡å™¨æ¨¡å‹ï¼Œå…¶åè®®è¿è¡Œåœ¨ UDP ä¹‹ä¸Šï¼Œä½¿ç”¨ 53 å·ç«¯å£ã€‚ ä»æ¦‚å¿µä¸Šåˆ†ä¸ºæ˜¯ä¸‰éƒ¨åˆ†ï¼šå±‚æ¬¡åŸŸåç©ºé—´ï¼ŒåŸŸåæœåŠ¡å™¨ï¼Œè§£æå™¨ã€‚ 1. åŸŸåæœåŠ¡å™¨åˆ†ç±»ï¼š 1ï¼‰æ ¹åŸŸåæœåŠ¡å™¨ï¼šçŸ¥é“æ‰€æœ‰é¡¶çº§åŸŸåæœåŠ¡å™¨çš„ IP åœ°å€ï¼› 2ï¼‰é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼šè´Ÿè´£ç®¡ç†åœ¨å…¶æœåŠ¡å™¨æ³¨å†Œçš„æ‰€æœ‰äºŒçº§åŸŸåï¼› 3ï¼‰æˆæƒåŸŸåæœåŠ¡å™¨ï¼šèƒ½å¤Ÿå°†å…¶ç®¡ç†çš„ä¸»æœºåè½¬æ¢ä¸ºè¯¥ä¸»æœºçš„ IP åœ°å€ï¼› 4ï¼‰æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼šæœ¬åœ°ç½‘ç»œæä¾›å•†è´Ÿè´£çš„åŸŸåæœåŠ¡å™¨ã€‚ 2. æŸ¥è¯¢æ–¹å¼ï¼š 1ï¼‰é€’å½’æŸ¥è¯¢ï¼š ä¸»æœº \u0026lt;â€”â€”\u0026gt; æœ¬åœ°åŸŸåæœåŠ¡å™¨ \u0026lt;â€”â€”\u0026gt; æ ¹åŸŸåæœåŠ¡å™¨ \u0026lt;â€”â€”\u0026gt; é¡¶çº§åŸŸåæœåŠ¡å™¨ \u0026lt;â€”â€”\u0026gt; æƒé™åŸŸåæœåŠ¡å™¨ 2ï¼‰é€’å½’ä¸è¿­ä»£ç›¸ç»“åˆï¼š ä¸»æœºè‡ªèº«ä¸€æ¬¡è¯¢é—®ä»¥ä¸Šå››ç§æœåŠ¡å™¨ã€‚ 3 æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰ FTP é‡‡ç”¨ C/S å·¥ä½œæ–¹å¼ï¼Œä½¿ç”¨ TCP å¯é ä¼ è¾“ï¼› å…¶æœåŠ¡å™¨åˆ†ä¸ºï¼šä¸€ä¸ªä¸»è¿›ç¨‹è´Ÿè´£æ¥å—æ–°çš„è¯·æ±‚ï¼Œè‹¥å¹²ä»å±è¿›ç¨‹è´Ÿè´£å¤„ç†å•ä¸ªè¯·æ±‚ã€‚ 1. æ§åˆ¶è¿æ¥ï¼š æœåŠ¡å™¨ç›‘å¬ 21 å·ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·è¿æ¥ï¼Œæ­¤è¿æ¥ä¸ºæ§åˆ¶è¿æ¥ï¼Œä¼ è¾“æ§åˆ¶ä¿¡æ¯ï¼ˆ7 ä½ ASCII æ ¼å¼ï¼‰ï¼Œæ­¤è¿æ¥åœ¨æ•´ä¸ªä¼šè¯è¿‡ç¨‹ä¿æŒæ‰“å¼€ã€‚ 2. æ•°æ®è¿æ¥ï¼š æ­¤è¿æ¥ç”¨æ¥è¿æ¥å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„æ•°æ®ä¼ é€è¿›ç¨‹ï¼Œä¼ é€å®Œæ¯•åˆ™å…³é—­è¿æ¥å¹¶ç»“æŸè¿è¡Œã€‚ 4 ç”µå­é‚®ä»¶ ä¸€ä¸ªé‚®ä»¶ç³»ç»ŸåŒ…å«ï¼šç”¨æˆ·ä»£ç†ï¼Œé‚®ä»¶æœåŠ¡å™¨ï¼Œåè®®ã€‚ 1. è¿‡ç¨‹ï¼šå‘é€æ–¹ä½¿ç”¨ SMTP åè®®å‘é‚®ä»¶åˆ°å‘é€æ–¹é‚®ä»¶æœåŠ¡å™¨ï¼Œæ­¤æœåŠ¡å™¨å†ç”¨ SMTP å‘é€åˆ°æ¥æ”¶æ–¹çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œæ¥æ”¶æ–¹ç”¨ POP3 è¯»å–é‚®ä»¶åˆ°æœ¬åœ°ã€‚ 2. STMP : ç”¨äºå¾€å¤–å‘é‚®ä»¶ï¼Œè¿è¡Œåœ¨ TCP ä¸Šï¼Œä½¿ç”¨ 25 å·ç«¯å£ã€‚ 3. POP3 : ç”¨äºæ¥å—é‚®ä»¶ï¼Œè¿è¡Œåœ¨ TCP ä¸Šï¼Œä½¿ç”¨ 110 å·ç«¯å£ã€‚ 5 ä¸‡ç»´ç½‘ ä¸‡ç»´ç½‘æ˜¯ä¸€ä¸ªèµ„æ–™ç©ºé—´ï¼Œæ¯ä¸€æ ·èµ„æ–™éƒ½æœ‰â€œç»Ÿä¸€èµ„æºå®šä½ç¬¦â€æ¥æ ‡è¯†ï¼Œé€šè¿‡ HTTP ä¼ è¾“ã€‚ 1. HTTP : è¿è¡Œåœ¨ TCP ä¸Šï¼Œä½¿ç”¨ 80 ç«¯å£ï¼› æ— çŠ¶æ€ï¼ŒåŒä¸€å®¢æˆ·ç¬¬äºŒæ¬¡è®¿é—®ä»å’Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶é¡µé¢ä¸€æ ·ï¼› æœ‰éæŒä¹…è¿æ¥ï¼Œä¹Ÿæœ‰æŒèŠ‚è¿æ¥ï¼› ","date":"2021-03-08T12:50:23+08:00","permalink":"https://ldsdsy.github.io/p/network_six/","title":"Network_six"},{"content":"ä¼ è¾“å±‚ ä¼ è¾“å±‚ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šçš„è¿›ç¨‹æä¾›é€»è¾‘é€šä¿¡\n1 æä¾›çš„æœåŠ¡ 1. åŠŸèƒ½ï¼š 1ï¼‰æä¾›åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼ˆç«¯åˆ°ç«¯çš„é€šä¿¡ï¼‰ã€‚ 2ï¼‰å¤ç”¨å’Œåˆ†ç”¨ å¤ç”¨ï¼šä¸åŒçš„è¿›ç¨‹ä½¿ç”¨åŒä¸€ä¸ªä¼ è¾“åè®®ä¼ é€æ•°æ®ï¼› åˆ†ç”¨ï¼šæ¥æ”¶æ–¹èƒ½æŠŠä¸€åŒåˆ°æ¥çš„æ•°æ®æ­£ç¡®äº¤ä»˜åˆ°å„è‡ªçš„ç›®çš„è¿›ç¨‹ã€‚ 3ï¼‰å·®é”™æ£€é”™ï¼šåŒ…æ‹¬é¦–éƒ¨å’Œæ•°æ®éƒ¨åˆ†ï¼ˆç½‘ç»œå±‚åªæ£€æµ‹ IP æ•°æ®æŠ¥çš„é¦–éƒ¨ï¼‰ã€‚ 4ï¼‰æä¾›ä¸¤ç§åè®®ï¼šé¢å‘è¿æ¥çš„ TCP å’Œæ— è¿æ¥çš„ UDP(ç½‘ç»œå±‚åªèƒ½æä¾›å…¶ä¸­ä¸€ç§)ã€‚ 2. å¯»å€å’Œç«¯å£ï¼š 1ï¼‰ç«¯å£ï¼šæ˜¯ä¼ è¾“å±‚çš„æœåŠ¡è®¿é—®ç‚¹ï¼Œç±»ä¼¼ç½‘ç»œå±‚çš„ IP åœ°å€ï¼ˆç«¯å£æ ‡è¯†åº”ç”¨è¿›ç¨‹ï¼‰ã€‚ 2ï¼‰ç«¯å£å· é•¿åº¦ 16bitï¼Œèƒ½è¡¨ç¤º 65536 ä¸ªç«¯å£å·ï¼› æœåŠ¡å™¨ä½¿ç”¨çš„ç«¯å£å·ï¼š ä¸€ç±»æ˜¯ç†ŸçŸ¥ç«¯å£å·ï¼ˆ0~1023ï¼‰ï¼Œè¿™äº›ç«¯å£å·æ˜¯åˆ†é…ç»™ TCP/IP æœ€é‡è¦çš„ä¸€äº›åº”ç”¨è¿›ç¨‹ï¼› ä¸€ç±»æ˜¯ç™»è®°ç«¯å£å·ï¼ˆ1024~49151ï¼‰ï¼Œè¿™äº›ç«¯å£å·å¿…é¡»åœ¨ IANA ç™»è®°ï¼Œä»¥é˜²é‡å¤ã€‚ å®¢æˆ·ç«¯ä½¿ç”¨çš„ç«¯å£å·ï¼š49152~65535ï¼Œä»…åœ¨å®¢æˆ·è¿›ç¨‹è¿è¡Œæ—¶æ‰åŠ¨æ€é€‰æ‹©ã€‚ 3ï¼‰å¥—æ¥å­—ï¼šå°±æ˜¯ä¸€ä¸ªé€šä¿¡ç«¯ç‚¹ï¼Œå³ ï¼šä¸»æœº IP åœ°å€ + ç«¯å£å·ï¼Œå”¯ä¸€æ ‡è¯†äº†ä¸€å°ä¸»æœºä¸Šçš„ä¸€ä¸ªåº”ç”¨ï¼ˆè¿›ç¨‹ï¼‰ã€‚ 3. æ— è¿æ¥æœåŠ¡å’Œé¢å‘è¿æ¥æœåŠ¡ï¼š 1ï¼‰é¢å‘è¿æ¥æœåŠ¡ï¼šé€šä¿¡å‰å…ˆå»ºç«‹è¿æ¥ï¼Œé€šä¿¡ä¸­æ•´ä¸ªè¿æ¥æƒ…å†µä¸€ç›´è¢«å®æ—¶ç›‘æ§ç®¡ç†ï¼Œé€šä¿¡ç»“æŸåå†é‡Šæ”¾è¿æ¥ã€‚ 2ï¼‰æ— è¿æ¥æœåŠ¡ï¼šä¸éœ€è¦æå‰å»ºç«‹è¿æ¥ï¼Œç›´æ¥å°†ä¿¡æ¯å‘é€åˆ°å‡ºå»ï¼Œå°½åŠ›é€è¾¾ã€‚ 3ï¼‰TCP: é¢å‘è¿æ¥çš„ä¼ è¾“æ§åˆ¶åè®®ï¼› æä¾›ä¸€æ¡å…¨åŒå·¥çš„å¯é é€»è¾‘ä¿¡é“ï¼› ä¸æä¾›ç»„æ’­å’Œå¹¿æ’­ï¼› é€‚ç”¨äºå¯é æ€§é«˜çš„åœºåˆï¼ˆFTP,HTTP,TELNETï¼‰. 4) DUP: æ— è¿æ¥çš„ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼› åœ¨ IP ä¹‹ä¸Šä»…æä¾›ï¼šå¤šè·¯å¤ç”¨å’Œå¯¹æ•°æ®çš„æ£€æŸ¥ã€‚ é€Ÿåº¦è¾ƒå¿«ï¼Œå®æ—¶æ€§è¾ƒå¥½ï¼Œé€‚ç”¨äºå°æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆDNS,SNMPï¼‰. 2 UDP åè®® 1. UDP æ•°æ®æŠ¥ï¼š 1ï¼‰æ— éœ€å»ºç«‹è¿æ¥ï¼Œå› æ­¤ä¸ä¼šå¼•å…¥å»ºç«‹è¿æ¥çš„æ—¶å»¶ï¼› 2ï¼‰æ— è¿æ¥çŠ¶æ€ï¼Œå› æ­¤ä¹Ÿå…é™¤äº†å»ç»´æŠ¤è¿æ¥çš„éº»çƒ¦ï¼› 3ï¼‰åˆ†ç»„é¦–éƒ¨å¼€é”€å°ï¼Œæ‰ 8B,è€Œ TCP é¦–éƒ¨æ˜¯ 20Bï¼› 4ï¼‰å¸¸ç”¨äºä¸€æ¬¡æ€§ä¼ è¾“è¾ƒå°‘æ•°æ®çš„ç½‘ç»œåº”ç”¨æˆ–æ˜¯å¤šåª’ä½“åº”ç”¨ï¼› 5ï¼‰å°½åŠ›äº¤ä»˜ä¸ä»£è¡¨ä¸å¯é ï¼Œå¯é æ€§å·¥ä½œåœ¨åº”ç”¨å±‚å®Œæˆï¼› 6ï¼‰æŠ¥æ–‡æ˜¯ UDP æ•°æ®æŠ¥æœ€å°å¤„ç†å•ä½ã€‚ 2. UDP é¦–éƒ¨æ ¼å¼ï¼š é¦–éƒ¨ 8Bï¼Œæœ‰ 4 ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µ 2Bã€‚ 1ï¼‰æºç«¯å£ï¼šæºç«¯å£å·ï¼Œéœ€è¦å¯¹æ–¹å›ä¿¡æ—¶é€‰ç”¨ï¼Œä¸éœ€è¦æ˜¯å…¨ 0ï¼› 2ï¼‰ç›®çš„ç«¯å£ï¼šç›®çš„ç«¯å£å·ï¼Œåœ¨ç»ˆç‚¹äº¤ä»˜æŠ¥æ–‡æ—¶å¿…é¡»ç”¨åˆ°ï¼› 3ï¼‰é•¿åº¦ï¼šUDP æ•°æ®æŠ¥é•¿åº¦ï¼ˆé¦–éƒ¨+æ•°æ®ï¼‰ï¼Œæœ€å°ä¸º 8ï¼ˆä»…æœ‰é¦–éƒ¨ï¼‰ï¼› 4ï¼‰æ ¡éªŒå’Œï¼šæ£€éªŒæ•´ä¸ª UDP æ•°æ®æŠ¥æ˜¯å¦æœ‰è¯¯ï¼Œé”™åˆ™ä¸¢å¼ƒï¼Œä¸æƒ³æ ¡éªŒæ—¶ï¼Œå…¨ç½® 0. 5ï¼‰æ¥æ”¶æ–¹å‘ç°ç«¯å£å·é”™è¯¯æ—¶ï¼Œä¸¢å¼ƒè¯¥æŠ¥æ–‡ï¼Œå¹¶ç”± ICMP è¿”å›â€œç«¯å£ä¸å¯è¾¾â€å·®é”™æŠ¥æ–‡ã€‚ 3. UDP æ£€éªŒï¼š å¼•å…¥ 12B çš„ä¼ªé¦–éƒ¨æ¥è®¡ç®—æ ¡éªŒå’Œï¼Œæ£€é”™èƒ½åŠ›ä¸å¼ºï¼Œä½†ç®€å•ï¼Œå¿«æ·ã€‚ 1ï¼‰æ ¡éªŒæ–¹æ³•ï¼šäºŒè¿›åˆ¶åç è¿ç®—æ±‚å’Œå†å–åã€‚ 2ï¼‰è¿‡ç¨‹ï¼š å‘é€æ–¹ï¼šå…¨ 0 å¡«å…¥æ ¡éªŒå’Œå­—æ®µå¹¶æ·»åŠ ä¼ªé¦–éƒ¨ï¼› æŠŠ UDP æ•°æ®æŠ¥è§†ä¸ºå¤šä¸ª 16 æ¯”ç‰¹çš„å­—æ®µï¼Œè‹¥éå¶æ•°ä¸ªå­—èŠ‚è¿˜è¦åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…¨ 0 å­—èŠ‚ï¼› äºŒè¿›åˆ¶åç æ±‚å’Œï¼Œå¹¶æŠŠå’Œå†™å…¥æ ¡éªŒå’Œå­—æ®µã€‚ æ¥æ”¶æ–¹ï¼šæ”¶åˆ°çš„æ•°æ®æŠ¥åŠ ä¸Šä¼ªé¦–éƒ¨äºŒè¿›åˆ¶åç è®¡ç®—å’Œï¼› è‹¥ä¸æ˜¯å¶æ•°ä¸ªå­—èŠ‚ä»è¦è¡¥ 0ï¼› ç»“æœå…¨ä¸º 1 è¡¨ç¤ºæ— å·®é”™ï¼Œå¦åˆ™æœ‰é”™ä¸¢å¼ƒã€‚ 3 TCP åè®® 1. ç‰¹ç‚¹ï¼š TCP æ˜¯åœ¨ä¸å¯é çš„ IP å±‚ä¸Šå®ç°çš„å¯é ä¼ è¾“åè®®ï¼Œä¸»è¦è§£å†³å¯é ï¼Œæœ‰åºï¼Œæ— ä¸¢å¤±ï¼Œä¸é‡å¤çš„é—®é¢˜ã€‚ 1ï¼‰æ˜¯é¢å‘è¿æ¥çš„ï¼› 2ï¼‰æ¯æ¡ TCP è¿æ¥åªæœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼ˆç‚¹å¯¹ç‚¹ï¼‰ï¼› 3ï¼‰å…¨åŒå·¥é€šä¿¡ï¼Œä¸¤ç«¯éƒ½æœ‰å‘é€ç¼“å­˜å’Œæ¥æ”¶ç¼“å­˜ï¼› 4ï¼‰é¢å‘å­—èŠ‚æµï¼ŒTCP æŠŠåº”ç”¨ç¨‹åºäº¤ä»˜çš„æ•°æ®è§†ä¸ºä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµã€‚ 2. TCP æŠ¥æ–‡æ®µï¼š 1ï¼‰é¦–éƒ¨å‰ 20B æ˜¯å›ºå®šçš„ï¼Œåé¢çš„ 4N å­—èŠ‚æ˜¯å¯é€‰é¡¹ï¼› 2ï¼‰TCP æ•°æ®æŠ¥æ—¢å¯è¿è½½æ•°æ®ï¼Œåˆå¯å»ºç«‹è¿æ¥ï¼Œé‡Šæ”¾è¿æ¥å’Œåº”ç­”ï¼› 3ï¼‰åºå·å­—æ®µï¼šå…¶å€¼è¡¨ç¤ºæœ¬æŠ¥æ–‡æ®µæ‰€å‘çš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ï¼› 4ï¼‰ç¡®è®¤å·å­—æ®µï¼šæ˜¯æœŸæœ›æ”¶åˆ°å¯¹æ–¹çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µæ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚å·ï¼› 5ï¼‰æ•°æ®åç§»ï¼šå³é¦–éƒ¨é•¿åº¦ï¼› 6ï¼‰ç´§æ€¥ä½ URGï¼š1 è¡¨ç¤ºç´§æ€¥æŒ‡é’ˆå­—æ®µæœ‰æ•ˆï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚åˆ°ç´§æ€¥æŒ‡é’ˆæ‰€æŒ‡å­—èŠ‚å°±æ˜¯ç´§æ€¥æ•°æ®ï¼› 7ï¼‰ç¡®è®¤ä½ ACKï¼š1 ç¡®è®¤å·æœ‰æ•ˆï¼Œ0 æ— æ•ˆï¼› 8ï¼‰æ¨é€ä½ PSHï¼šä¸º 1 æ—¶ï¼Œåº”å°½å¿«äº¤ä»˜ç»™æ¥å—è¿›ç¨‹ï¼Œè€Œä¸ç­‰æ•´ä¸ªç¼“å­˜å­˜æ»¡å†æäº¤ï¼› 9ï¼‰å¤ä½ä½ RSTï¼šä¸º 1 æ—¶è¡¨æ˜å‡ºç°ä¸¥é‡é”™è¯¯ï¼Œå¿…é¡»é‡Šæ”¾è¿æ¥å†é‡æ–°å»ºç«‹è¿æ¥ï¼› 10ï¼‰åŒæ­¥ä½ SYNï¼šä¸º 1 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼ˆACK=0ï¼‰æˆ–è¿æ¥æ¥å—æŠ¥æ–‡ï¼› 11ï¼‰ç»ˆæ­¢ä½ FINï¼šç”¨æ¥é‡Šæ”¾è¿æ¥ï¼Œä¸º 1 è¡¨ç¤ºæ­¤å‘é€æ–¹å‘é€å®Œæ¯•ï¼Œè¦æ±‚é‡Šæ”¾è¿æ¥ï¼› 12ï¼‰çª—å£å­—æ®µï¼šæŒ‡å‡ºç°åœ¨å…è®¸å¯¹æ–¹å‘é€çš„æ•°æ®é‡ï¼Œå•ä½å­—èŠ‚ï¼› 3. TCP è¿æ¥ç®¡ç†ï¼š 1ï¼‰TCP è¿æ¥çš„å»ºç«‹ï¼šé‡‡ç”¨å®¢æˆ·/æœåŠ¡å™¨æ–¹å¼ï¼Œå‘èµ·è€…ä¸ºå®¢æˆ·æœºã€‚ è¿‡ç¨‹ï¼šä¸‰æ¬¡æ¡æ‰‹ â‘ å®¢æˆ·æœºå‘èµ·ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼ŒSYN=1,ACK=0,seq=x(éšæœºé€‰æ‹©)ï¼Œä¸æºå¸¦æ•°æ®ä½†æ¶ˆè€—ä¸€ä¸ªåºå·ã€‚ â‘¡æœåŠ¡å™¨è‹¥åŒæ„å»ºç«‹è¿æ¥åˆ™å‘å›ç¡®è®¤ï¼ˆSYN=1,ACK=1,seq=yï¼Œack=x+1ï¼‰ï¼Œå¹¶åˆ†é… TCP ç¼“å­˜å’Œå˜é‡ã€‚ â‘¢å®¢æˆ·æœºå†å‘æœåŠ¡å™¨ç»™å‡ºç¡®è®¤ï¼Œå¹¶åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼ŒSYN=0,ACK=1,seq=x+1ï¼Œack=y+1ã€‚ // å‰ä¸¤æ­¥éƒ½ä¸å«åº”ç”¨å±‚æ•°æ®ä½†æ¶ˆè€—ä¸€ä¸ªåºå·ï¼Œç¬¬ä¸‰æ­¥å¯æºå¸¦æ•°æ®ï¼Œä¸å¸¦å°±ä¸æ¶ˆè€—åºå·ã€‚ // æœåŠ¡å™¨ç«¯åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹åˆ†é…èµ„æºï¼Œå®¢æˆ·æœºåœ¨ç¬¬ä¸‰æ¬¡åˆ†é…ï¼Œæ‰€ä»¥ä½¿å¾—æœåŠ¡å™¨æ˜“å—åˆ° SYN æ´ªæ³›æ”»å‡»ã€‚ 2ï¼‰TCP è¿æ¥çš„é‡Šæ”¾ï¼šä»»ä½•ä¸€æ–¹éƒ½èƒ½ç»ˆæ­¢è¯¥è¿æ¥ã€‚ è¿‡ç¨‹ï¼š4 æ¬¡æ¡æ‰‹ â‘ å®¢æˆ·æœºæƒ³å…³é—­è¿æ¥ï¼Œåˆ™å‘é€ä¸€ä¸ªè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œå¹¶åœæ­¢å‘é€æ•°æ®ï¼Œä¸»åŠ¨å…³é—­è¿æ¥ï¼ŒFIN=1. â‘¡æœåŠ¡å™¨æ”¶åˆ°åå›å¤ç¡®è®¤ï¼Œæ­¤æ—¶å¤„äºåŠå…³é—­çŠ¶æ€ï¼ŒæœåŠ¡å™¨è‹¥æƒ³å‘æ•°æ®å¯ä»¥å‘ä¸”å®¢æˆ·æœºä¼šæ¥å—ã€‚ â‘¢æœåŠ¡å™¨ä¹Ÿå‘é€å®Œæ¯•ï¼Œåˆ™å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ŒFIN=1. â‘£å®¢æˆ·æœºæ¥æ”¶åå¿…é¡»å‘å‡ºç¡®è®¤ï¼Œå†ç­‰ 2MSL åæ‰è¿›å…¥è¿æ¥å…³é—­çŠ¶æ€ã€‚ 4. TCP å¯é ä¼ è¾“ï¼š 1ï¼‰åºå·ï¼šTCP é¦–éƒ¨çš„åºå·å­—æ®µç”¨æ¥ä¿è¯æ•°æ®æœ‰åºæäº¤ç»™åº”ç”¨å±‚ï¼ˆæ¯ä¸ªå­—èŠ‚éƒ½ç¼–ä¸Šä¸€ä¸ªå·ï¼‰ã€‚ 2ï¼‰ç¡®è®¤ï¼šå‘é€æ–¹ç¼“å­˜åŒºä¼šå­˜å‚¨å·²ç»å‘é€ä½†æœªæ”¶åˆ°ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œä»¥ä¾¿é‡ä¼ ï¼ˆä½¿ç”¨ç´¯è®¡ç¡®è®¤ï¼‰ã€‚ 3ï¼‰é‡ä¼ ï¼šè¶…æ—¶å’Œå†—ä½™ ACK çš„æƒ…å†µéƒ½ä¼šé‡ä¼ ã€‚ å†—ä½™ ACKï¼š æ¥æ”¶æ–¹æ”¶åˆ°ä¹±åºåˆ°æ¥çš„ n ä¸ªæŠ¥æ–‡æ®µå°±ä¼šå‘é€ n ä¸ªå†—ä½™ ACKï¼› å½“å‘é€æ–¹æ”¶åˆ°ä¸‰ä¸ªå†—ä½™ ACK å°±ä¼šåˆ¤æ–­æŸä¸ªæŠ¥æ–‡æ®µç¼ºå¤±å¹¶é‡ä¼ è¿™ä¸ªæŠ¥æ–‡æ®µã€‚ 5. TCP æµé‡æ§åˆ¶ï¼š ç”¨æ¥æ¶ˆé™¤å‘é€æ–¹ä½¿æ¥æ”¶æ–¹ç¼“å­˜åŒºæº¢å‡ºçš„å¯èƒ½æ€§ã€‚ 1ï¼‰æ¥æ”¶çª—å£ï¼šæ¥æ”¶æ–¹æ ¹æ®è‡ªå·±æ¥å—ç¼“å­˜çš„å¤§å°ï¼ŒåŠ¨æ€è°ƒèŠ‚å‘é€æ–¹çš„å‘é€çª—å£å¤§å°ã€‚ 2ï¼‰æ‹¥å¡çª—å£ï¼šå‘é€æ–¹æ ¹æ®å¯¹å½“å‰ç½‘ç»œæ‹¥å¡ç¨‹åºçš„ä¼°è®¡è€Œç¡®å®šçš„çª—å£å€¼ã€‚ 3ï¼‰å‘é€æ–¹çš„çª—å£å¤§å°å–ä»¥ä¸ŠäºŒè€…çš„è¾ƒå°å€¼ã€‚ // ä¼ è¾“å±‚å®šä¹‰çš„ç«¯åˆ°ç«¯çš„æµé‡æ§åˆ¶ï¼Œé“¾è·¯å±‚å®šä¹‰çš„æ˜¯ä¸¤ä¸ªç»“ç‚¹é—´çš„ã€‚ // é“¾è·¯å±‚çš„æ»‘åŠ¨çª—å£åè®®çš„çª—å£ä¸èƒ½åŠ¨æ€å˜åŒ–ï¼Œä½†ä¼ è¾“å±‚çš„å¯ä»¥ã€‚ 6. TCP æ‹¥å¡æ§åˆ¶ï¼š æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼ŒæŒ‡é˜²æ­¢è¿‡å¤šæ•°æ®æ³¨å…¥ç½‘ç»œã€‚ 1ï¼‰æ…¢å¼€å§‹å’Œæ‹¥å¡æ§åˆ¶ï¼š â‘ æ…¢å¼€å§‹ï¼šæ¯ç»å†ä¸€ä¸ªä¼ è¾“è½®æ¬¡ï¼ˆä¸€ä¸ª RTTï¼‰ï¼Œæ‹¥å¡çª—å£å°±æŒ‡æ•°å¼å¢å€ï¼Œä¸€ç›´å¢åŠ åˆ°é—¨é™ï¼ˆé˜ˆå€¼ï¼‰ï¼Œå†æ”¹ç”¨æ‹¥å¡é¿å…ç®—æ³•ã€‚ â‘¡æ‹¥å¡çª—å£ä¸å†æŒ‡æ•°å‹å¢å¤§ï¼Œè€Œæ˜¯æ¯æ¬¡åŠ  1ï¼Œç›´åˆ°å‡ºç°ä¸€æ¬¡è¶…æ—¶å°±æŠŠè®¾ç½®æ–°é—¨é™ä¸ºå‰ä¸€ä¸ªé—¨é™çš„ä¸€åŠã€‚ 2ï¼‰å¿«é‡ä¼ å’Œå¿«æ¢å¤ï¼š â‘ å¿«é‡ä¼ æŠ€æœ¯ä½¿ç”¨äº†å†—ä½™ ACK æ¥æ£€æµ‹ä¸¢å¤±ï¼Œè¾ƒå¿«çš„é‡ä¼ æ•°æ®ã€‚â€™ â‘¡å¿«æ¢å¤ï¼šå‘é€æ–¹æ”¶åˆ°ä¸‰ä¸ªå†—ä½™ ACK æ—¶ï¼Œæ–°é—¨é™å‡åŠï¼Œåœ¨æ–°é—¨é™å€¼å¤„å¼€å§‹åŠ  1 å¢å¤§ã€‚ ","date":"2021-03-04T22:05:08+08:00","permalink":"https://ldsdsy.github.io/p/network_five/","title":"Network_five"},{"content":"ç½‘ç»œå±‚ ä¸»è¦ä»»åŠ¡æ˜¯æŠŠåˆ†ç»„ä»æºç«¯ä¼ åˆ°ç›®çš„ç«¯ï¼Œä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ã€‚ç½‘ç»œå±‚ä¼ è¾“å•ä½ä¸ºæ•°æ®æŠ¥ï¼ˆæ•°æ®æŠ¥åˆ’åˆ†ä¸ºäº†åˆ†ç»„ï¼‰.\n1 åŠŸèƒ½ 1. å¼‚æ„ç½‘äº’è” 2. è·¯ç”±å’Œè½¬å‘ï¼šè·¯ç”±é€‰æ‹©ï¼Œåˆ†ç»„è½¬å‘ 3. æ‹¥å¡æ§åˆ¶ï¼šå¼€ç¯æ§åˆ¶ï¼ˆé™æ€ï¼‰ï¼Œé—­ç¯æ§åˆ¶ï¼ˆåŠ¨æ€ï¼‰ 2 è·¯ç”±ç®—æ³• 1. é™æ€è·¯ç”±ï¼ˆéè‡ªé€‚åº”è·¯ç”±ç®—æ³•ï¼‰ï¼š 1ï¼‰ç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®è·¯ç”±ä¿¡æ¯ï¼› 2ï¼‰ä¼˜ç‚¹æ˜¯ç®€ä¾¿ï¼Œå¯é ï¼Œé€‚ç”¨äºè´Ÿè·ç¨³å®šï¼Œæ‹“æ‰‘å˜åŒ–ä¸å¤§çš„ç½‘ç»œã€‚ 2. åŠ¨æ€è·¯ç”±ï¼ˆè‡ªé€‚åº”è·¯ç”±ç®—æ³•ï¼‰ï¼š 1ï¼‰è·¯ç”±è¡¨é¡¹é€šè¿‡ç›¸äº’è¿æ¥çš„è·¯ç”±å™¨ä¹‹é—´å½¼æ­¤äº¤æ¢ä¿¡æ¯ï¼› 2ï¼‰èƒ½æ”¹å–„ç½‘ç»œæ€§èƒ½å¹¶æœ‰åŠ©äºæµé‡æ§åˆ¶ï¼› 3ï¼‰åˆ†ç±»ï¼šè·ç¦»-å‘é‡è·¯ç”±ç®—æ³•ï¼ˆRIPï¼‰ï¼Œé“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•(OSPF)ã€‚ 3.å±‚æ¬¡è·¯ç”± å› ç‰¹ç½‘å°†æ•´ä¸ªäº’è”ç½‘åˆ’åˆ†ä¸ºè®¸å¤šè¾ƒå°çš„è‡ªæ²»ç³»ç»Ÿï¼ˆå…¶ä¸­åŒ…å«å¾ˆå¤šå±€åŸŸç½‘ï¼‰ 1ï¼‰è‡ªæ²»ç³»ç»Ÿå†…ä½¿ç”¨çš„è·¯ç”±é€‰æ‹©åè®®ç§°ä¸ºå†…éƒ¨ç½‘å…³åè®®ï¼ˆIGPï¼‰ï¼Œä¹Ÿç§°åŸŸå†…è·¯ç”±é€‰æ‹©ï¼Œå¦‚ RIP,OSPF. 2ï¼‰è‡ªæ²»ç³»ç»Ÿé—´ä½¿ç”¨çš„è·¯ç”±é€‰æ‹©åè®®ç§°ä¸ºå¤–éƒ¨ç½‘å…³åè®®ï¼ˆEGPï¼‰ï¼Œä¹Ÿç§°åŸŸé—´è·¯ç”±é€‰æ‹©ï¼Œå¦‚ BGP. 3 IPv4 IP å®šä¹‰æ•°æ®ä¼ é€çš„åŸºæœ¬å•ä½â€”â€” IP åˆ†ç»„ä»¥åŠå…¶ç¡®åˆ‡çš„æ•°æ®æ ¼å¼ã€‚ 1. åˆ†ç»„æ ¼å¼ï¼šé¦–éƒ¨ + æ•°æ® é¦–éƒ¨ï¼šå›ºå®š 20B ï¼Œå…¶ä¸­åè®®è¡¨ç¤ºåº”äº¤ä»˜å“ªä¸ªä¼ è¾“å±‚åè®®ï¼ˆ6ï¼šTCP,17:UDPï¼‰ï¼› é¦–éƒ¨é•¿åº¦ï¼Œæ€»é•¿åº¦ï¼Œç‰‡åç§»çš„å•ä½åˆ†åˆ«æ˜¯ 4B,1B,8B(1æ€»8ç‰‡çš„é¦–4). 2. IP æ•°æ®æŠ¥åˆ†ç‰‡ï¼š IP æ•°æ®æŠ¥å°è£…åœ¨é“¾è·¯å±‚æ•°æ®æŠ¥ä¸­ï¼Œæ‰€ä»¥é“¾è·¯å±‚ MTUï¼ˆæœ€å¤§ä¼ é€å•å…ƒï¼‰ ä¸¥æ ¼é™åˆ¶äº† IP æ•°æ®æŠ¥çš„é•¿åº¦ã€‚ 1ï¼‰IP é¦–éƒ¨ä¸­çš„æ ‡å¿—ä½æœ‰ 3 æ¯”ç‰¹ï¼Œåä¸¤æ¯”ç‰¹åˆ†åˆ«æ˜¯ DF å’Œ MFï¼› 2ï¼‰DFï¼ˆDon't Fragmentï¼‰ï¼š1:ç¦æ­¢åˆ†ç‰‡ï¼Œ0ï¼šå…è®¸åˆ†ç‰‡ï¼› 3ï¼‰MFï¼ˆMore Fragmentï¼‰ï¼š1ï¼šåé¢è¿˜æœ‰åˆ†ç‰‡ï¼Œ0ï¼šæ­¤ä¸ºæœ€åä¸€ç‰‡ã€‚ 3. IPv4 åœ°å€ï¼š è¿æ¥åˆ°å› ç‰¹ç½‘ä¸Šçš„æ¯å°ä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰éƒ½åˆ†é…ä¸€ä¸ª 32 æ¯”ç‰¹çš„å…¨çƒå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå³ IP åœ°å€ã€‚ 1ï¼‰åˆ†ç±»ï¼šA,B,C,D,E äº”ç±»ã€‚ 2ï¼‰ç»„æˆï¼šç½‘ç»œå· + ä¸»æœºå·ã€‚ 3ï¼‰ä¸»æœºå·å…¨ä¸º 0 è¡¨ç¤ºæœ¬ç½‘ç»œæœ¬èº«ï¼Œ ä¸»æœºå·å…¨ä¸º 1 è¡¨ç¤ºæœ¬ç½‘ç»œçš„å¹¿æ’­åœ°å€ï¼Œ 127.0.0.0 ä¸ºç¯è·¯è‡ªæ£€åœ°å€ï¼Œè¡¨ç¤ºä»»æ„ä¸»æœºæœ¬èº«ï¼Œ 0.0.0.0 è¡¨ç¤ºæœ¬ç½‘ç»œçš„æœ¬ä¸»æœºï¼Œ 255.255.255.255 è¡¨ç¤ºæ•´ä¸ª TCP/IP ç½‘ç»œçš„å¹¿æ’­åœ°å€ã€‚ 4. NAT(ç½‘ç»œåœ°å€è½¬æ¢)ï¼š è¡¨ç¤ºé€šè¿‡å°†ä¸“ç”¨ç½‘ç»œåœ°å€è½¬æ¢ä¸ºå…¬ç”¨åœ°å€ä»è€Œéšè—å†…éƒ¨ç®¡ç†çš„ IP åœ°å€ã€‚ 1ï¼‰NAT è·¯ç”±å™¨è‡³å°‘æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„å¤–éƒ¨å…¨çƒåœ°å€ã€‚ 2ï¼‰NAT è·¯ç”±è¡¨å­˜æ”¾ç€ {æœ¬åœ° IP åœ°å€ï¼šç«¯å£} åˆ° {å…¨çƒ IP åœ°å€ï¼šç«¯å£} çš„æ˜ å°„ã€‚ 5. å­ç½‘åˆ’åˆ†ï¼š ä¸¤çº§ IP åœ°å€å­˜åœ¨ä¸å¤Ÿçµæ´»ï¼Œåœ°å€ç©ºé—´åˆ©ç”¨ç‡ä½ç­‰ç¼ºç‚¹ï¼Œæ‰€ä»¥å†å¢åŠ ä¸€ä¸ª â€œå­ç½‘å·å­—æ®µâ€ å˜æˆä¸‰çº§ IP åœ°å€ã€‚ 1ï¼‰IP åœ°å€ = ç½‘ç»œå· + å­ç½‘å· + ä¸»æœºå·ã€‚ 2ï¼‰åˆ’åˆ†å­ç½‘æ˜¯ä»ä¸»æœºå·é‡Œé¢è¿›è¡Œåˆ’åˆ†ï¼Œä¸æ”¹å˜åŸæ¥çš„ç½‘ç»œå·ã€‚ 3ï¼‰å­ç½‘å·ä¸èƒ½å…¨ 1 æˆ– å…¨ 0ï¼Œä½†éšç€ CIDR çš„ä½¿ç”¨ï¼Œå…¨ 1 å…¨ 0 çš„ å­ç½‘å·ä¹Ÿèƒ½ç”¨ã€‚ 4ï¼‰ä¸ç®¡å“ªä¸€ç§ï¼Œå­ç½‘ä¸­ä¸»æœºå·å…¨ 0 çš„åœ°å€è¡¨ç¤ºå­ç½‘çš„ç½‘ç»œå·ï¼Œä¸»æœºå·å…¨ 1 çš„è¡¨ç¤ºå­ç½‘çš„å¹¿æ’­åœ°å€ã€‚ 6. å­ç½‘æ©ç ï¼š ä¸ºå‘Šè¯‰ä¸»æœºæˆ–è·¯ç”±å™¨å¯¹ç½‘ç»œè¿›è¡Œäº†å­ç½‘åˆ’åˆ†ï¼Œä½¿ç”¨å­ç½‘æ©ç æ¥è¡¨è¾¾å¯¹ç½‘ç»œä¸­ä¸»æœºå·çš„é”™ä½ã€‚ 1ï¼‰1 å¯¹åº” IP åœ°å€ä¸­çš„ç½‘ç»œå·ï¼Œ0 å¯¹åº”äº IP ä¸­çš„ä¸»æœºå·ã€‚ 7. æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©ï¼ˆCIDRï¼‰: CIDR æ˜¯åœ¨å˜é•¿å­ç½‘æ©ç çš„åŸºç¡€ä¸Šæå‡ºçš„ä¸€ç§æ¶ˆé™¤ä¼ ç»Ÿ A,B,C ç±»ç½‘ç»œåˆ’åˆ†å¹¶å¯å®ç°è¶…ç½‘æ„é€ çš„ IP åœ°å€çš„åˆ’åˆ†æ–¹å¼ã€‚ 1ï¼‰IP = ç½‘ç»œå‰ç¼€ + ä¸»æœºå·ã€‚ 2ï¼‰å°†ç½‘ç»œå‰ç¼€éƒ½ç›¸åŒçš„è¿ç»­ IP åœ°å€ç»„æˆ â€CIDRåœ°å€å—â€œ ï¼Œè¿™ç§åœ°å€çš„èšåˆç§°ä¸ºè·¯ç”±èšåˆï¼ˆæ„æˆè¶…ç½‘ï¼‰ã€‚ 8. IP åœ°å€å’Œç¡¬ä»¶åœ°å€ï¼š IP åœ°å€ä¸ºç½‘ç»œå±‚ä½¿ç”¨çš„åœ°å€ï¼Œç¡¬ä»¶åœ°å€æ˜¯é“¾è·¯å±‚ä½¿ç”¨çš„åœ°å€ï¼› IP åœ°å€æ”¾åœ¨ IP æ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œè€Œ MAC åœ°å€æ”¾åœ¨ MAC å¸§çš„é¦–éƒ¨ã€‚ 9. åœ°å€è§£æåè®®ï¼ˆARPï¼‰ï¼š åœ¨é“¾è·¯ä¸Šä¼ é€æ•°æ®å¸§æ—¶ï¼Œæœ€ç»ˆå¿…é¡»ä½¿ç”¨ç¡¬ä»¶åœ°å€ï¼Œå› æ­¤éœ€è¦å®Œæˆ IP åœ°å€åˆ° MAC åœ°å€çš„æ˜ å°„ï¼Œè¿™å°±æ˜¯ ARP. å·¥ä½œåŸç†ï¼š A å‘ B å‘é€ IP æ•°æ®æŠ¥ï¼Œå…ˆæŸ¥çœ‹è‡ªå·±çš„ ARP é«˜é€Ÿç¼“å­˜ä¸­æœ‰æ—  B çš„ IP åœ°å€ï¼› æœ‰ï¼Œå°±å¯æŸ¥å‡ºå¯¹åº”çš„ç¡¬ä»¶åœ°å€ï¼Œå¹¶å†™å…¥ MAC å¸§ï¼Œç„¶åå‘é€åˆ°æ­¤ç¡¬ä»¶åœ°å€ï¼› æ— ï¼Œé€šè¿‡å…¨ä¸º 1 çš„ç›®çš„ MAC åœ°å€æ¥å°è£…å¹¶å¹¿æ’­ ARP è¯·æ±‚åˆ†ç»„ï¼ŒB æ”¶åˆ°åä¾¿ä¼šè¿”å›å“åº” ARP åˆ†ç»„ï¼Œå…¶ä¸­åŒ…å« IP ä¸ MAC çš„æ˜ å°„å…³ç³»ï¼Œ A æ”¶åˆ°åä¾¿å†™å…¥ ARP ç¼“å­˜ã€‚ // ARP è¯·æ±‚åˆ†ç»„æ˜¯å¹¿æ’­å‘é€ï¼ŒARP å“åº”åˆ†ç»„æ˜¯æ™®é€šçš„å•æ’­ã€‚ 10. åŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼ˆDHCPï¼‰: DHCP åè®®å¸¸ç”¨äºç»™ä¸»æœºåŠ¨æ€åˆ†é… IP åœ°å€ï¼ˆåº”ç”¨å±‚åè®®ï¼ŒåŸºäº UDPï¼‰ã€‚ å·¥ä½œè¿‡ç¨‹ï¼ˆå…¨ç¨‹å¹¿æ’­ï¼‰ï¼š â‘  ä¸»æœºå¹¿æ’­ â€DHCP å‘ç°â€œ æ¶ˆæ¯ï¼Œè¯•å›¾æ‰¾åˆ° DHCP æœåŠ¡å™¨ï¼› â‘¡ DHCP æœåŠ¡å™¨æ”¶åˆ°åï¼Œå¹¿æ’­ \u0026quot;DHCP æä¾›\u0026quot; æ¶ˆæ¯ï¼› â‘¢ ä¸»æœºæ”¶åˆ°å›åº”åå†å¹¿æ’­ â€DHCP è¯·æ±‚â€œ æ¶ˆæ¯ï¼› â‘£ DHCP æœåŠ¡å™¨å¹¿æ’­ â€DHCP ç¡®è®¤â€œ æ¶ˆæ¯ï¼Œå°† IP åœ°å€åˆ†é…ç»™ä¸»æœºã€‚ 11. ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ï¼ˆICMPï¼‰: ICMP ç”¨äºä¸»æœºå’Œè·¯ç”±å™¨æ¥æŠ¥å‘Šå·®é”™å’Œå¼‚å¸¸æƒ…å†µã€‚ åˆ†ç±»ï¼šICMP å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ï¼ŒICMP è¯¢é—®æŠ¥æ–‡ã€‚ ICMP å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ï¼š â‘  ç»ˆç‚¹ä¸å¯è¾¾ï¼› â‘¡ åŸç‚¹æŠ‘åˆ¶ï¼› â‘¢ æ—¶é—´è¶…æ—¶ï¼› â‘£ å‚æ•°é—®é¢˜ï¼› â‘¤ æ”¹å˜è·¯ç”±ï¼ˆé‡å®šå‘ï¼‰ã€‚ ICMP è¯¢é—®æŠ¥æ–‡ï¼š â‘  å›é€è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼› â‘¡ æ—¶é—´æˆ³è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼› â‘¢ æ©ç åœ°å€è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼› â‘£ è·¯ç”±å™¨è¯¢é—®å’Œé€šå‘ŠæŠ¥æ–‡ã€‚ // åˆ†ç»„ç½‘é—´ PING ï¼šæµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´çš„è¿é€šæ€§ // Traceroute :ç”¨æ¥è·Ÿè¸ªåˆ†ç»„ç»è¿‡çš„è·¯ç”± 4 IPv6 è§£å†³ IP åœ°å€è€—å°½çš„æªæ–½ï¼š 1ï¼‰é‡‡ç”¨ CIDR ï¼Œä½¿ IP åˆ†é…æ›´åˆç†ï¼› 2ï¼‰é‡‡ç”¨ NAT ä»¥èŠ‚çœ IP åœ°å€ï¼› 3ï¼‰é‡‡ç”¨æ›´å¤§åœ°å€ç©ºé—´çš„æ–°ç‰ˆæœ¬ IPv6. 1. ä¸»è¦ç‰¹ç‚¹ï¼š 1ï¼‰IPv6 å¢åŠ åˆ° 128 ä½ï¼ˆ16 å­—èŠ‚ï¼‰ã€‚ 2ï¼‰æ”¯æŒå³æ’å³ç”¨ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰ï¼Œä¸ç”¨ DHCPã€‚ 3ï¼‰IPv6 åªæœ‰åœ¨æºèŠ‚ç‚¹æ‰èƒ½åˆ†ç‰‡ï¼ˆç«¯åˆ°ç«¯ï¼‰ï¼Œåœ¨è·¯ç”±å™¨ä¸­ä¸èƒ½åˆ†ç‰‡ã€‚ 4ï¼‰IPv6 çš„é¦–éƒ¨å¿…é¡»æ˜¯ 8B çš„æ•´æ•°å€ï¼ˆIPv4 æ˜¯ 4Bï¼‰ã€‚ 2. IPv6 åœ°å€ï¼š IPv6 æ•°æ®æŠ¥çš„ç›®çš„åœ°å€å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ç§ä¹‹ä¸€ï¼š 1ï¼‰å•æ’­ï¼šä¼ ç»Ÿçš„ç‚¹å¯¹ç‚¹é€šä¿¡ï¼› 2ï¼‰å¤šæ’­ï¼šä¸€ç‚¹å¯¹å¤šç‚¹çš„é€šä¿¡ï¼Œåˆ†ç»„è¢«äº¤ä»˜åˆ°ä¸€ç»„è®¡ç®—æœºçš„æ¯å°è®¡ç®—æœºï¼› 3ï¼‰ä»»æ’­ï¼šå…¶ç›®çš„åœ°å€æ˜¯ä¸€ç»„è®¡ç®—æœºï¼Œä½†æ•°æ®æŠ¥åªäº¤ä»˜å…¶ä¸­ä¸€å°è®¡ç®—æœºï¼Œé€šå¸¸æ˜¯æœ€è¿‘çš„è®¡ç®—æœºã€‚ 3. IPv4 å‘ IPv6 çš„è¿‡æ¸¡ï¼š 1ï¼‰åŒåè®®æ ˆï¼šè®©ä¸»æœºæˆ–è·¯ç”±å™¨è£…æœ‰ä¸¤ä¸ªåè®®æ ˆï¼Œä¸€ä¸ª 4 ä¸€ä¸ª 6. 2ï¼‰éš§é“æŠ€æœ¯ï¼šå°†æ•´ä¸ª IPv6 æ•°æ®æŠ¥å°è£…åˆ° IPv4 æ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†ï¼Œä½¿å…¶å¯åœ¨ IPv4 çš„éš§é“ä¸­ä¼ è¾“ã€‚ 5 è·¯ç”±åè®® 1. è·¯ç”±ä¿¡æ¯åè®®ï¼ˆRIPï¼‰: RIP æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®®ï¼Œæœ€å¤§ä¼˜ç‚¹ï¼šç®€å•ã€‚ 1ï¼‰RIP ä¼šä¼˜å…ˆé€‰æ‹©è·³æ•°å°‘çš„è·¯å¾„ã€‚ 2ï¼‰RIP è§„å®šä¸€æ¡è·¯å¾„æœ€å¤šåŒ…å« 15 ä¸ªè·¯ç”±å™¨ï¼ˆè·ç¦»ä¸º 16 è¡¨ç¤ºä¸å¯è¾¾ï¼‰ã€‚ 3ï¼‰RIP è§„å®šæ¯éš” 30 s ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢å…¨éƒ¨ä¿¡æ¯ï¼Œ180 sæ²¡åŠ¨é™è¡¨ç¤º â€æ­»æ‰â€œã€‚ 4ï¼‰è·¯ç”±è¡¨é¡¹ = ç›®çš„ç½‘ç»œ + è·ç¦» + ä¸‹ä¸€è·³è·¯ç”±å™¨ã€‚ 5ï¼‰ä¼šå‡ºç°æ…¢æ”¶æ•›ç°è±¡ï¼ˆåæ¶ˆæ¯ä¼ å¾—æ…¢ï¼‰ã€‚ 6ï¼‰RIP æ˜¯åº”ç”¨å±‚åè®®ï¼Œä½¿ç”¨ UDP ä¼ é€æ•°æ®ï¼ˆç«¯å£ï¼š520ï¼‰ã€‚ 7ï¼‰RIP é€‰æ‹©çš„è·¯å¾„ä¸ä¸€å®šæ˜¯æ—¶é—´æœ€çŸ­ï¼Œä½†æ˜¯è·¯ç”±å™¨æœ€å°‘ã€‚ 2. å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼ˆOSPFï¼‰åè®®ï¼š 1ï¼‰OSPF ä½¿ç”¨æ´ªæ³›æ³•å‘æ‰€æœ‰è·¯ç”±å™¨å‘é€éƒ¨åˆ†ä¿¡æ¯ï¼ˆä¸è‡ªå·±ç›¸é‚»çš„è·¯ç”±å™¨çš„é“¾è·¯çŠ¶å†µï¼‰ã€‚ 2ï¼‰åªå½“é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æ‰äº¤æ¢ä¿¡æ¯ã€‚ 3ï¼‰OSPF æ˜¯ç½‘ç»œå±‚åè®®ï¼Œç›´æ¥ä½¿ç”¨ IP æ•°æ®æŠ¥ä¼ é€ã€‚ 4ï¼‰é€‰æ‹©è·¯å¾„çš„åŸåˆ™æ˜¯ä»£ä»·æœ€å°ã€‚ 3. è¾¹ç•Œç½‘å…³åè®®ï¼ˆBGPï¼‰: BGP æ˜¯ä¸åŒè‡ªæ²»ç³»ç»Ÿçš„è·¯ç”±å™¨ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯çš„åè®®ã€‚ 1ï¼‰åªåŠ›æ±‚å¯»æ‰¾ä¸€æ¡è¾ƒå¥½ï¼ˆéæœ€ä½³ï¼‰çš„è·¯ç”±ã€‚ 2ï¼‰BGP æ˜¯åº”ç”¨å±‚åè®®ï¼ŒåŸºäº TCP. 3ï¼‰ä¸ç›¸é‚»è·¯ç”±å™¨äº¤æ¢ä¿¡æ¯ï¼Œé¦–æ¬¡äº¤æ¢æ•´ä¸ªè·¯ç”±è¡¨ï¼Œéé¦–æ¬¡äº¤æ¢æœ‰å˜åŒ–çš„éƒ¨åˆ†ã€‚ 6 IP ç»„æ’­  ä¸»æœºç»„æ’­æ—¶ä»…å‘é€ä¸€ä»½æ•°æ®ï¼Œåœ¨ä¼ é€è·¯å¾„å‡ºç°åˆ†å²”æ—¶æ‰å¤åˆ¶åˆ†ç»„å¹¶è½¬å‘ã€‚ ç»„æ’­ä»…åº”ç”¨äº UDP. 1. IP ç»„æ’­åœ°å€ï¼š 1ï¼‰ç»„æ’­æ•°æ®æŠ¥ä¸æä¾›å¯é äº¤ä»˜ï¼ˆUDPï¼‰ï¼› 2ï¼‰ç»„æ’­åœ°å€åªèƒ½ç”¨äºç›®çš„åœ°å€ï¼Œä¸ä½œä¸ºæºåœ°å€ï¼› 3ï¼‰å¯¹ç»„æ’­æ•°æ®æŠ¥ä¸äº§ç”Ÿ ICMP å·®é”™æŠ¥æ–‡ã€‚ 4ï¼‰å¹¶éæ‰€æœ‰ D ç±»åœ°å€éƒ½å¯ä»¥ä½œä¸ºç»„æ’­åœ°å€ã€‚ IP ç»„æ’­åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç§æ˜¯åœ¨æœ¬å±€åŸŸç½‘ä¸Šè¿›è¡Œç¡¬ä»¶ç»„æ’­ï¼Œä¸€ç§æ˜¯åœ¨å› ç‰¹ç½‘çš„èŒƒå›´å†…è¿›è¡Œç»„æ’­ã€‚ 2. IGMP ä¸ç»„æ’­è·¯ç”±ç®—æ³•ï¼š IGMP è®©è¿æ¥åˆ°æœ¬åœ°å±€åŸŸç½‘ä¸Šçš„ç»„æ’­è·¯ç”±å™¨çŸ¥é“æœ¬å±€åŸŸç½‘ä¸Šæ˜¯å¦æœ‰ä¸»æœºå‚åŠ æˆ–é€€å‡ºäº†æŸä¸ªç»„æ’­ç»„ã€‚ ç»„æ’­è·¯ç”±ç®—æ³•ï¼š 1ï¼‰åŸºäºé“¾è·¯çŠ¶æ€çš„è·¯ç”±é€‰æ‹©ï¼› 2ï¼‰åŸºäºè·ç¦»-å‘é‡çš„è·¯ç”±é€‰æ‹©ï¼› 3ï¼‰å¯å»ºç«‹åœ¨ä»»ä½•è·¯ç”±å™¨åè®®ä¸Šï¼Œç§°ä¸ºåè®®æ— å…³çš„ç»„æ’­ï¼ˆPIMï¼‰. 7 ç§»åŠ¨ IP æ”¯æŒç§»åŠ¨æ€§çš„å› ç‰¹ç½‘ä½“ç³»ç»“æ„ä¸åè®®å…±ç§°ä¸ºç§»åŠ¨ IPã€‚ ï¼ˆä½¿ç”¨ç§»åŠ¨ IP å¯ä»¥è®©ä¸€ä¸ªç§»åŠ¨ç»“ç‚¹åœ¨ä¸æ”¹å˜ IP åœ°å€çš„æƒ…å†µä¸‹æ”¹å˜é©»ç•™ä½ç½®ï¼‰ 1. åŸºäº IPv4 çš„ç§»åŠ¨ IP å®šä¹‰ä¸‰ç§åŠŸèƒ½å®ä½“ï¼š 1ï¼‰ç§»åŠ¨èŠ‚ç‚¹ï¼šå…·æœ‰æ°¸ä¹… IP åœ°å€çš„ç§»åŠ¨èŠ‚ç‚¹ï¼› 2ï¼‰æœ¬åœ°ä»£ç†ï¼šç§»åŠ¨èŠ‚ç‚¹çš„æ°¸ä¹… â€å±…æ‰€â€œ ç§°ä¸ºå½’å±ç½‘ç»œï¼Œå…¶ä¸­ä»£è¡¨ç§»åŠ¨èŠ‚ç‚¹æ‰§è¡Œç§»åŠ¨ç®¡ç†çš„å®ä½“ä¸ºæœ¬åœ°ä»£ç†ï¼Œå®ƒæ ¹æ®ç§»åŠ¨èŠ‚ç‚¹çš„è½¬äº¤åœ°å€ï¼Œé‡‡ç”¨éš§é“æŠ€æœ¯è½¬äº¤æ•°æ®åŒ…ã€‚ 3ï¼‰å¤–éƒ¨ä»£ç†ï¼šåœ¨å¤–éƒ¨ç½‘ç»œä¸­å¸®åŠ©ç§»åŠ¨èŠ‚ç‚¹å®Œæˆç§»åŠ¨ç®¡ç†çš„å®ä½“ã€‚ 2. ç§»åŠ¨ IP é€šä¿¡è¿‡ç¨‹ï¼š æœ¬åœ°ä»£ç†æ¥å—æ¶ˆæ¯ï¼Œä¼ ç»™å¤–éƒ¨ä»£ç†ï¼Œè½½ä¼ ç»™ç§»åŠ¨ä¸»æœºã€‚ 8 ç½‘ç»œå±‚è®¾å¤‡ 1. è·¯ç”±å™¨çš„ç»„æˆå’ŒåŠŸèƒ½ï¼š è·¯ç”±å™¨æ˜¯ä¸€ç§å…·æœ‰å¤šä¸ªè¾“å…¥/è¾“å‡ºç«¯å£çš„ä¸“ç”¨è®¡ç®—æœºï¼Œå…¶ä»»åŠ¡æ˜¯è¿æ¥å¼‚æ„ç½‘å¹¶å®Œæˆè·¯ç”±è½¬å‘ã€‚ ä¸¤ä¸ªä¸»è¦åŠŸèƒ½ï¼š 1ï¼‰åˆ†ç»„è½¬å‘ï¼šå¤„ç†é€šè¿‡è·¯ç”±å™¨çš„æ•°æ®æµã€‚ 2ï¼‰è·¯ç”±è®¡ç®—ï¼šé€šè¿‡å’Œå…¶ä»–è·¯ç”±å™¨è¿›è¡ŒåŸºäºè·¯ç”±åè®®çš„äº¤äº’ï¼Œå®Œæˆè·¯ç”±è¡¨çš„è®¡ç®—ã€‚ 2. è·¯ç”±è¡¨å’Œè·¯ç”±è½¬å‘ï¼š è·¯ç”±è¡¨æ˜¯è·¯ç”±é€‰æ‹©ç®—æ³•å¾—å‡ºçš„ï¼Œä¸»è¦ç”¨äºè·¯ç”±é€‰æ‹©ã€‚ 1ï¼‰è·¯ç”±è¡¨é¡¹ = ç›®çš„ç½‘ç»œ IP åœ°å€ï¼Œå­ç½‘æ©ç ï¼Œä¸‹ä¸€è·³ IP åœ°å€ï¼Œæ¥å£ã€‚ 2ï¼‰è½¬å‘è¡¨æ˜¯ä»è·¯ç”±è¡¨å¾—å‡ºçš„ï¼Œä½†æ˜¯æ ¼å¼ä¸åŒã€‚ 3ï¼‰è·¯ç”±è¡¨ç”¨è½¯ä»¶å®ç°ï¼Œè½¬å‘è¡¨å¯ä»¥è½¯ä»¶å®ç°ï¼Œç”šè‡³å¯ç”¨ç‰¹æ®Šçš„ç¡¬ä»¶æ¥å®ç°ã€‚ ","date":"2021-02-27T13:19:58+08:00","permalink":"https://ldsdsy.github.io/p/network_four/","title":"Network_four"},{"content":"æ•°æ®é“¾è·¯å±‚ è´Ÿè´£ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°ç›´æ¥ç›¸è¿çš„ç›¸é‚»èŠ‚ç‚¹ä¼ è¾“æ•°æ®æŠ¥\n1 åŠŸèƒ½ 1. ä¸ºç½‘ç»œå±‚æœåŠ¡ï¼š 1ï¼‰æ— ç¡®è®¤çš„æ— è¿æ¥æœåŠ¡ï¼šé€‚ç”¨äºå®æ—¶é€šä¿¡æˆ–è¯¯ç ç‡è¾ƒä½çš„é€šä¿¡ä¿¡é“ï¼Œå¦‚ä»¥å¤ªç½‘ã€‚ 2ï¼‰æœ‰ç¡®è®¤çš„æ— è¿æ¥æœåŠ¡ï¼šé€‚ç”¨äºè¯¯ç ç‡è¾ƒé«˜çš„é€šä¿¡ç½‘ç»œï¼Œå¦‚æ— çº¿é€šä¿¡ã€‚ 3ï¼‰æœ‰ç¡®è®¤çš„é¢å‘è¿æ¥æœåŠ¡ï¼šé€‚ç”¨äºé€šä¿¡è¦æ±‚ï¼ˆå¯é æ€§ï¼Œå®æ—¶æ€§ï¼‰è¾ƒé«˜çš„åœºåˆã€‚ 2. é“¾è·¯ç®¡ç†ï¼šæŒ‡æ•°æ®é“¾è·¯å±‚è¿æ¥çš„å»ºç«‹ï¼Œç»´æŒï¼Œé‡Šæ”¾è¿‡ç¨‹ã€‚ 3. å¸§å®šç•Œï¼šå¸§çš„é¦–éƒ¨ä¸å°¾éƒ¨çš„ä¸€ä¸ªé‡è¦ä½œç”¨å°±æ˜¯ç¡®å®šå¸§çš„ç•Œé™ï¼ŒåŠå¸§å®šç•Œã€‚ å¸§åŒæ­¥ï¼šæŒ‡æ¥æ”¶æ–¹åº”èƒ½ä»æ¥æ”¶åˆ°çš„äºŒè¿›åˆ¶æ¯”ç‰¹æµä¸­åŒºåˆ†å¤„å¸§çš„èµ·å§‹å’Œç»ˆæ­¢ã€‚ é€æ˜ä¼ è¾“ï¼šä¸ç®¡æ‰€ä¼ æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„æ¯”ç‰¹ç»„åˆéƒ½åº”å½“èƒ½åœ¨é“¾è·¯ä¸Šä¼ é€ã€‚ 4. æµé‡æ§åˆ¶ï¼šæŒ‡æ§åˆ¶å‘é€æ–¹çš„æ•°æ®æµé‡ï¼Œä½¿å…¶å‘é€é€Ÿç‡ä¸åº”è¶…è¿‡æ¥æ”¶æ–¹çš„æ¥å—èƒ½åŠ›ã€‚ 5. å·®é”™æ§åˆ¶ï¼šæŒ‡ç”¨ä»¥ä½¿å‘é€æ–¹ç¡®å®šæ¥æ”¶æ–¹æ˜¯å¦æ­£ç¡®æ”¶åˆ°å…¶å‘é€çš„æ•°æ®çš„æ–¹æ³•ï¼›é”™è¯¯åˆ†ä¸ºå¸§é”™å’Œä½é”™ã€‚ // å¸§é”™ï¼šå¸§çš„ä¸¢å¤±ï¼Œé‡å¤ï¼Œå¤±åºï¼ˆå¼•å…¥å®šæ—¶å™¨ï¼Œç¼–å·æœºåˆ¶æ¥è§£å†³ï¼‰ã€‚ // ä½é”™ï¼š1 å˜ 0 ï¼Œ0 å˜ 1 ã€‚ 2 ç»„å¸§ æŠŠæ¯”ç‰¹ç»„æˆå¸§ä¼ è¾“ï¼Œå°±å¯å†å‡ºé”™æ—¶åªé‡ä¼ å‡ºé”™çš„å¸§ï¼Œè€Œä¸æ˜¯æ‰€æœ‰æ•°æ®ï¼Œæé«˜æ•ˆç‡ã€‚ 1. å­—ç¬¦è®¡æ•°æ³•ï¼šæŒ‡åœ¨å¸§å¤´éƒ¨ä½¿ç”¨ä¸€ä¸ªè®¡æ•°å­—æ®µæ¥æ ‡æ˜å¸§å†…å­—ç¬¦æ•°ã€‚ 2. å­—ç¬¦å¡«å……çš„é¦–å°¾å®šç•Œç¬¦ï¼šä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦æ¥å®šç•Œå¸§çš„å¼€å§‹ä¸ç»“æŸã€‚ 3. æ¯”ç‰¹å¡«å……çš„é¦–å°¾æ ‡å¿—æ³•ï¼šä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„æ¯”ç‰¹æ¨¡å¼ï¼Œå¦‚ 01111110 ï¼Œåœ¨ä¼ è¾“æ•°æ®ä¸­é‡åˆ° 5 ä¸ª 1 å°±å¡«å…… 1 ä¸ª 0 ï¼ŒåŒæ ·æ¥æ”¶æ–¹æ¥å—æ•°æ®æ—¶é‡åˆ° 5 ä¸ª 1 å°±å»æ‰åé¢çš„ 1 ä¸ª 0ï¼ˆ5 1 1 0ï¼‰ã€‚ 4. è¿è§„ç¼–ç æ³•ï¼šå¦‚æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼Œç”¨ â€œé«˜-ä½â€ç”µå¹³è¡¨ç¤º 1 ï¼Œâ€œä½-é«˜â€ ä¸º 0ï¼Œåˆ™ â€œé«˜-é«˜â€ï¼Œâ€œä½-ä½â€å°±å¯ç”¨äºè¡¨ç¤ºå¼€å§‹å’Œç»“æŸã€‚ 3 å·®é”™æ§åˆ¶ å·®é”™éƒ½æ˜¯å™ªå£°å¼•èµ·ï¼Œä¸€æ˜¯ä¿¡é“å›ºæœ‰çš„éšæœºçƒ­å™ªå£°ï¼ŒäºŒæ˜¯çŸ­æš‚åŸå› é€ æˆçš„å†²å‡»å™ªå£°ï¼›å‰è€…å¯æé«˜ä¿¡å™ªæ¯”ï¼Œåè€…åªèƒ½é‡‡ç”¨ç¼–ç æŠ€æœ¯æ¥è§£å†³ã€‚ 1. æ£€é”™ç¼–ç ï¼š 1ï¼‰å¥‡å¶æ ¡éªŒç ï¼šå®ƒç”± n-1 ä½ä¿¡æ¯å…ƒå’Œ 1 ä½æ ¡éªŒå…ƒç»„æˆï¼›å¥‡æ ¡éªŒç æ˜¯åŠ ä¸Šæ ¡éªŒå…ƒåæ•´ä½“æœ‰å¥‡æ•°ä¸ª 1ï¼Œå¶æ£€éªŒç åˆ™æ˜¯æ•´ä½“æœ‰å¶æ•°ä¸ª 1 ã€‚ 2ï¼‰å¾ªç¯å†—ä½™ç ï¼ˆå¤šé¡¹å¼ç ï¼‰ï¼š æ•°æ® A å°¾éƒ¨åŠ  0ï¼ˆ0 çš„ä¸ªæ•°ä¸ºå¸§æ£€éªŒåºåˆ—ä½æ•°å‡ä¸€ï¼‰ï¼› æ–° A å¯¹å¸§æ£€éªŒåºåˆ—è¿›è¡Œæ¨¡ 2 é™¤æ³•ï¼Œéƒ½åˆ°ä½™æ•°ä¸ºå†—ä½™ç ï¼ˆä½æ•°ç­‰äºç¬¬ä¸€æ­¥ä¸­åŠ  0 çš„ä¸ªæ•°ï¼‰ï¼› æŠŠå†—ä½™ç æ›¿æ¢æ‰ A åé¢åŠ çš„é‚£äº› 0ï¼Œå³ä¸ºä¼ è¾“çš„æ•°æ®ï¼› æ¥æ”¶æ–¹æ¥å—åˆ°æ•°æ®ï¼Œç”¨æ­¤æ•°æ®å¯¹å¸§æ£€éªŒåºåˆ—è¿›è¡Œæ¨¡ 2 é™¤æ³•ï¼Œè‹¥ä½™æ•°ä¸º 0 åˆ™æ— é”™è¯¯ï¼Œå¦åˆ™æ•°æ®æœ‰è¯¯ã€‚ 2. çº é”™ç¼–ç ï¼š æµ·æ˜ç ï¼šå‘ç°åŒæ¯”ç‰¹é”™ï¼Œçº æ­£å•æ¯”ç‰¹é”™ã€‚ æµ·æ˜ä¸ç­‰å¼ï¼š2^r \u0026gt;= k+r+1 //r: å†—ä½™ä¿¡æ¯ä½ï¼Œk: ä¿¡æ¯ä½ 4 æµé‡æ§åˆ¶ä¸å¯é ä¼ è¾“æœºåˆ¶ 1. åœæ­¢-ç­‰å¾…åè®®ï¼š å‘é€æ–¹æ¯å‘é€ä¸€å¸§å°±è¦ç­‰å¾…æ¥æ”¶æ–¹çš„åº”ç­”ä¿¡å·ï¼Œä¹‹åå†å‘é€ä¸‹ä¸€å¸§ã€‚ 2. æ»‘åŠ¨çª—å£åè®®ï¼š 1ï¼‰åé€€ N å¸§åè®®(GBN)ï¼šå‘é€çª—å£ \u0026gt; 1,æ¥æ”¶çª—å£ = 1. // æ¥æ”¶æ–¹åªèƒ½æŒ‰é¡ºåºæ¥å—å¸§ï¼Œä¸”å¯é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼› // è‹¥é‡‡ç”¨ n æ¯”ç‰¹å¯¹å¸§ç¼–å·ï¼Œåˆ™å‘é€çª—å£å°ºå¯¸ w åº”æ»¡è¶³ï¼š1 \u0026lt;= w \u0026lt;=2^n-1. 2ï¼‰é€‰æ‹©é‡ä¼ åè®®ï¼ˆSR): å‘é€çª—å£ä¸æ¥å—çª—å£éƒ½å¤§äºç­‰äº 1ï¼Œæœ€å¤§å°ºå¯¸éƒ½ç­‰äº 2^(n-1). // å¯¹æ•°æ®å¸§é€ä¸€ç¡®è®¤ï¼› // åªé‡ä¼ å‡ºé”™å¸§ï¼› // æ¥æ”¶æ–¹æœ‰ç¼“å­˜ã€‚ 5 ä»‹è´¨è®¿é—®æ§åˆ¶ é‡‡å–ä¸€å®šæªæ–½ï¼Œä½¿ç»“ç‚¹é—´çš„é€šä¿¡ä¸ä¼šå‘ç”Ÿç›¸äº’å¹²æ‰°ã€‚ 1. ä¿¡é“åˆ’åˆ†ä»‹è´¨è®¿é—®æ§åˆ¶ï¼š 1ï¼‰é¢‘åˆ†å¤šè·¯å¤ç”¨ 2ï¼‰æ—¶åˆ†å¤šè·¯å¤ç”¨ 3ï¼‰æ³¢åˆ†å¤šè·¯å¤ç”¨ 4ï¼‰ç åˆ†å¤šè·¯å¤ç”¨ 2. éšæœºè®¿é—®ä»‹è´¨è®¿é—®æ§åˆ¶ï¼š 1. ALOHAåè®®ï¼š 1ï¼‰çº¯ ALOHA åè®®ï¼šä¸ç›‘å¬ä¿¡é“ï¼Œä¸æŒ‰æ—¶é—´æ§½å‘é€ï¼Œæƒ³å‘å°±å‘ï¼Œéšæœºé‡å‘ã€‚ 2ï¼‰æ—¶éš™ ALOHA åè®®ï¼šå°†æ—¶é—´åˆ’åˆ†ä¸ºè‹¥å¹²ç­‰é•¿æ—¶éš™ï¼ŒæŒ‰æ—¶å‘é€ã€‚ 2. CSMA åè®®ï¼š 1ï¼‰1-åšæŒ CSMAï¼šä¾¦å¬ä¿¡é“ï¼Œç©ºé—²å³å‘ï¼Œå¿™ç€ç­‰å¾…ï¼Œç»§ç»­ä¾¦å¬ï¼Œç›´è‡³ç©ºé—²ã€‚ 2ï¼‰éåšæŒ CSMAï¼šä¾¦å¬ä¿¡é“ï¼Œç©ºé—²å³å‘ï¼Œå¿™åˆ™å¼ƒå¬ï¼Œéšæœºé‡å¬ã€‚ 3ï¼‰p-åšæŒ CSMAï¼šä¾¦å¬ä¿¡é“ï¼Œç©ºé—²åˆ™ä»¥æ¦‚ç‡ p å‘é€æ•°æ®ï¼Œä»¥æ¦‚ç‡ 1-p æ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ªæ—¶éš™ï¼Œå¿™åˆ™ç­‰å¾…ä¸‹ä¸€æ—¶éš™å†ä¾¦å¬ã€‚ 3. CSMA/CD åè®®ï¼š é€‚ç”¨äºæ€»çº¿å‹ç½‘ç»œæˆ–åŠåŒå·¥ç½‘ç»œç¯å¢ƒï¼ˆæœ‰çº¿è¿æ¥çš„å±€åŸŸç½‘ï¼‰ï¼› å…ˆå¬åå‘ï¼Œè¾¹å¬è¾¹å‘ï¼Œå†²çªåœå‘ï¼Œéšæœºé‡å‘ï¼› æœ€å°å¸§é•¿ = æ•°æ®ä¼ è¾“ç‡ * æ€»çº¿ä¼ æ’­æ—¶å»¶ * 2ï¼› äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³•ï¼š ç¡®å®šåŸºæœ¬é€€é¿æ—¶é—´ 2Î ï¼› å®šä¹‰å‚æ•° k = min[é‡ä¼ æ¬¡æ•°ï¼Œ10]ï¼› ä»ç¦»æ•£æ•°å€¼ [0,1,Â·Â·Â·,2^k-1] éšæœºé€‰å–ä¸€ä¸ªæ•°å€¼ rï¼Œåˆ™é€€é¿æ—¶é—´ä¸º 2Î rï¼› é‡ä¼  16 æ¬¡ä»ä¸æˆåŠŸåˆ™æŠ›å¼ƒæ­¤å¸§å¹¶å‘é«˜å±‚æ±‡æŠ¥ã€‚ 4. CSMA/CA åè®®ï¼š é€‚ç”¨äºæ— çº¿å±€åŸŸç½‘ï¼› åŸºæœ¬æ€æƒ³ï¼šå‘é€æ•°æ®å‰å…ˆå¹¿æ’­é€šçŸ¥å…¶ä»–èŠ‚ç‚¹ï¼Œé¿å…ç¢°æ’ï¼›å…ˆå¬åå‘ï¼Œè¾¹å¬è¾¹å‘ï¼Œç¢°æ’åœå‘ã€‚ ç¢°æ’é¿å…æœºåˆ¶ï¼š 1ï¼‰é¢„çº¦ä¿¡é“ï¼šå‘é€æ–¹å‘é€çš„åŒæ—¶å‘ŠçŸ¥å…¶ä»–ç«™ç‚¹è‡ªå·±ä¼ è¾“æ•°æ®éœ€è¦çš„æ—¶é—´ã€‚ 2ï¼‰ACK å¸§ï¼šæ¥å—æ–¹æ”¶åˆ°æ•°æ®åè¦è¿”å›ä¸€ä¸ª ACK å¸§ï¼Œå‘é€æ–¹å¦‚æœåœ¨è§„å®šæ—¶é—´å†…æ²¡æ”¶åˆ° ACK å¸§ï¼Œåˆ™ä¼šé‡æ–°å‘é€æ•°æ®ç»™æ¥å—æ–¹ã€‚ 3ï¼‰RTS/CTS å¸§ï¼šå¯é€‰çš„ç¢°æ’é¿å…æœºåˆ¶ï¼Œä¸»è¦ç”¨ä¸è§£å†³æ— çº¿ç½‘ä¸­çš„ â€œéšè”½ç«™â€ é—®é¢˜ã€‚ 3.è½®è¯¢è®¿é—®ä»‹è´¨è®¿é—®æ§åˆ¶ï¼š ç”¨æˆ·é€šè¿‡ä¸€ä¸ªé›†ä¸­æ§åˆ¶çš„ç›‘æ§ç«™ï¼Œä»¥å¾ªç¯çš„æ–¹å¼é€ä¸ªè·å–ä¿¡é“ä½¿ç”¨æƒã€‚ ä»¤ç‰Œä¼ é€’åè®®ï¼šå¾—åˆ°ä»¤ç‰Œçš„æœºå™¨æ‰èƒ½å‘é€æ•°æ®ï¼Œå…¶ä»–çš„ç­‰å¾…ã€‚ 6 å±€åŸŸç½‘ å±€åŸŸç½‘æ˜¯æŒ‡åœ¨ä¸€ä¸ªè¾ƒå°çš„èŒƒå›´å†…ï¼Œå°†å„ç§è®¡ç®—æœºï¼Œå¤–éƒ¨è®¾å¤‡å’Œæ•°æ®åº“ç³»ç»Ÿç­‰é€šè¿‡åŒç»çº¿ï¼ŒåŒè½´ç”µç¼†ç­‰è¿æ¥èµ·æ¥ï¼Œç»„æˆèµ„æºå’Œä¿¡æ¯å…±äº«çš„è®¡ç®—æœºäº’è”ç½‘ç»œã€‚ 1. ç‰¹æ€§ï¼š 1ï¼‰æ‹“æ‰‘ç»“æ„ï¼šæ˜Ÿå½¢ç»“æ„ï¼Œç¯å½¢ç»“æ„ï¼Œæ€»çº¿å½¢ç»“æ„ï¼ˆå¸¸ç”¨ï¼‰ï¼Œæ ‘å½¢ï¼ˆæ˜Ÿå½¢ + æ€»çº¿å½¢ï¼‰ã€‚ 2ï¼‰ä¼ è¾“ä»‹è´¨ï¼šåŒç»çº¿ï¼ˆä¸»æµï¼‰ï¼Œé“œç¼†ï¼Œå…‰çº¤ã€‚ 3ï¼‰ä»‹è´¨è®¿é—®æ§åˆ¶æ–¹å¼ï¼šCSMA/CD,ä»¤ç‰Œæ€»çº¿ï¼Œä»¤ç‰Œç¯ï¼ˆå‰ä¸¤ç§ç”¨äºæ€»çº¿å½¢å±€åŸŸç½‘ï¼Œåè€…ç”¨äºç¯å½¢ç½‘ç»œï¼‰ã€‚ 2. ä¸‰ç§ç‰¹æ®Šå±€åŸŸç½‘æ‹“æ‰‘å®ç°ï¼š 1ï¼‰ä»¥å¤ªç½‘ï¼šé€»è¾‘ä¸Šæ˜¯æ€»çº¿å½¢ç»“æ„ï¼Œç‰©ç†ä¸Šæ˜¯æ˜Ÿå½¢æˆ–æ‰©å±•æ˜Ÿå‹ç»“æ„ã€‚ 2ï¼‰ä»¤ç‰Œç¯ï¼šé€»è¾‘ä¸Šç¯å½¢ç»“æ„ï¼Œç‰©ç†ä¸Šæ˜¯æ˜Ÿå½¢ç»“æ„ã€‚ 3ï¼‰FDDI ï¼šé€»è¾‘ä¸Šæ˜¯ç¯å½¢ï¼Œç‰©ç†ä¸Šæ˜¯åŒç¯ç»“æ„ã€‚ 3. ä»¥å¤ªç½‘ï¼š ä»¥å¤ªç½‘æ˜¯æŒ‡ç¬¦åˆ DIX Ethernet V2 æ ‡å‡†çš„å±€åŸŸç½‘ï¼Œç”±äºæ­¤æ ‡å‡†ä¸IEEE 802.3 æ ‡å‡†ç›¸å·®å¾ˆå°‘ï¼Œå› æ­¤å°† IEEE 802.3 å±€åŸŸç½‘ç®€ç§°ä¸ºä»¥å¤ªç½‘ã€‚ 1ï¼‰ä¼ è¾“ä»‹è´¨ï¼šç²—ç¼†ï¼Œç»†ç¼†ï¼ŒåŒç»çº¿ï¼Œå…‰çº¤ã€‚ 2ï¼‰ç½‘å¡ï¼šå®ç°è®¡ç®—æœºä¸å¤–éƒ¨å±€åŸŸç½‘çš„è¿æ¥ï¼Œåˆç§°ç½‘ç»œæ¥å£æ¿ï¼ˆå¡ï¼‰ï¼Œç½‘ç»œé€‚é…å™¨ã€‚ 3ï¼‰MAC å¸§ï¼šæ•°æ®å¸§çš„ä¸€ç§ï¼ŒåŒ…å« MAC åœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ã€‚ 4. é«˜é€Ÿä»¥å¤ªç½‘ï¼šé€Ÿç‡è¾¾åˆ°æˆ–è¶…è¿‡ 100Mb/s çš„ä»¥å¤ªç½‘ã€‚ 5. IEEE 802.11: æŒ‡æ— çº¿å±€åŸŸç½‘çš„ä¸€ç³»åˆ—åè®®æ ‡å‡†ï¼› æ— çº¿å±€åŸŸç½‘åˆ†ä¸ºï¼šå›ºå®šåŸºç¡€è®¾æ–½æ— çº¿å±€åŸŸç½‘ï¼Œæ— å›ºå®šåŸºç¡€è®¾æ–½æ— çº¿å±€åŸŸç½‘è‡ªç»„ç»‡ç½‘ç»œã€‚ 7 å¹¿åŸŸç½‘ å¹¿åŸŸç½‘ä¸ç­‰äºäº’è”ç½‘ï¼Œäº’è”ç½‘ç”¨è·¯ç”±å™¨è¿æ¥ï¼Œå¯ä»¥è¿æ¥ä¸åŒç±»å‹çš„ç½‘ç»œï¼ˆå±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ï¼‰ï¼›å¹¿åŸŸç½‘åˆ™é‡‡ç”¨èŠ‚ç‚¹äº¤æ¢æœºè¿æ¥ä¸€ä¸ªç½‘ç»œã€‚ 1. PPP åè®®ï¼š é¢å‘å­—èŠ‚ï¼Œé‡‡ç”¨å­—èŠ‚å¡«å……æ–¹å¼ï¼Œåªæ”¯æŒå…¨åŒå·¥é“¾è·¯ã€‚ 2. HDLC åè®®ï¼š é¢å‘æ¯”ç‰¹ï¼Œé‡‡ç”¨ 0 æ¯”ç‰¹æ’å…¥æ³•ï¼Œå¸§ç±»åˆ†ä¸ºä¿¡æ¯å¸§ï¼Œç›‘ç£å¸§ï¼Œæ— ç¼–å·å¸§ã€‚ 8 æ•°æ®é“¾è·¯å±‚è®¾å¤‡ 1. ç½‘æ¡¥ï¼š ç‰¹ç‚¹ï¼šæŠŠä¸¤ä¸ªæˆ–å¤šä¸ªä»¥å¤ªç½‘é€šè¿‡ç½‘æ¡¥è¿æ¥èµ·æ¥å˜æˆä¸€ä¸ªç½‘æ®µã€‚ ç±»å‹ï¼š 1ï¼‰é€æ˜ç½‘æ¡¥ï¼šæŒ‰ç…§è‡ªå­¦ä¹ ç®—æ³•å¡«å†™è½¬å‘è¡¨ï¼ŒæŒ‰è½¬å‘è¡¨è½¬å‘ï¼›ä¸æ˜¯æœ€ä½³è·¯ç”±ã€‚ 2ï¼‰æºè·¯ç”±ç½‘æ¡¥ï¼šå…ˆå‘é€å‘ç°å¸§ï¼ŒæŒ‰è¿”å›ç»“æœè½¬å‘ï¼›æ˜¯æœ€ä½³è·¯ç”±ã€‚ 2.äº¤æ¢æœºï¼ˆå¤šç«¯å£ç½‘æ¡¥ï¼‰ï¼š äº¤æ¢æ¨¡å¼ï¼š 1ï¼‰ç›´é€šå¼ï¼šå¸§åœ¨æ¥æ”¶ååªæ£€æŸ¥ç›®çš„åœ°å€ï¼Œå‡ ä¹èƒ½é©¬ä¸Šä¼ è¾“å‡ºå»ã€‚ 2ï¼‰å­˜å‚¨è½¬å‘ï¼šå…ˆå°†æ¥æ”¶åˆ°çš„å¸§ç¼“å­˜åˆ°é«˜é€Ÿç¼“å­˜å™¨ï¼Œæ£€æŸ¥æ•°æ®æ­£ç¡®æ€§ã€‚ äºŒè€…ç›¸åŒç‚¹ï¼šæŒ‰ MAC åœ°å€è½¬å‘ï¼Œéƒ½èƒ½éš”ç¦»å†²çªåŸŸï¼Œä¸èƒ½éš”ç¦»å¹¿æ’­åŸŸã€‚ ","date":"2021-02-23T11:20:17+08:00","permalink":"https://ldsdsy.github.io/p/network_three/","title":"Network_three"},{"content":"ç‰©ç†å±‚ ç‰©ç†å±‚ç”¨äºé€æ˜ä¼ è¾“æ¯”ç‰¹æµ\n1 åŸºæœ¬æ¦‚å¿µ 1ï¼‰ ç å…ƒï¼š æŒ‡ç”¨ä¸€ä¸ªå›ºå®šæ—¶é•¿çš„ä¿¡å·æ³¢å½¢è¡¨ç¤ºä¸€ä½ K è¿›åˆ¶æ•°å­—ã€‚ 2ï¼‰ å•å·¥é€šä¿¡ï¼š åªæœ‰ä¸€ä¸ªæ–¹å‘çš„é€šä¿¡è€Œæ²¡æœ‰åæ–¹å‘çš„äº¤äº’ï¼Œä»…éœ€ä¸€æ¡ä¿¡é“ã€‚ 3ï¼‰ åŠåŒå·¥é€šä¿¡ï¼š é€šä¿¡åŒæ–¹éƒ½å¯ä»¥å‘é€æˆ–æ¥å—ä¿¡æ¯ï¼Œä½†åŒä¸€æ—¶é—´åªèƒ½ä¸€ä¸ªå‘ä¸€ä¸ªæ¥ï¼Œéœ€è¦ä¸¤æ¡ä¿¡é“ã€‚ 4ï¼‰ å…¨åŒå·¥é€šä¿¡ï¼š é€šä¿¡åŒæ–¹éƒ½å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶ä¿¡æ¯ï¼Œéœ€è¦ä¸¤æ¡ä¿¡é“ã€‚ 5ï¼‰ ç å…ƒé€Ÿç‡ï¼š å•ä½ä¸ºæ³¢ç‰¹ï¼Œ1 æ³¢ç‰¹è¡¨ç¤ºä¸€ç§’ä¼ è¾“ä¸€ä¸ªç å…ƒã€‚ 6ï¼‰ ä¿¡æ¯ä¼ è¾“ç‡ï¼š å•ä½ä¸º b/s ,å•ä½æ—¶é—´ä¼ è¾“çš„æ¯”ç‰¹æ•°ã€‚ 2 å››ç§ç‰¹æ€§ 1ï¼‰ æœºæ¢°ç‰¹æ€§ï¼š è§„å®šç‰©ç†è¿æ¥æ—¶æ‰€é‡‡ç”¨çš„è§„æ ¼ï¼Œæ¥å£å½¢çŠ¶ï¼Œå¼•çº¿æ•°ç›®ï¼Œå¼•è„šæ•°é‡ç­‰ã€‚ 2ï¼‰ ç”µæ°”ç‰¹æ€§ï¼š è§„å®šä¼ è¾“äºŒè¿›åˆ¶æ—¶ï¼Œçº¿è·¯ä¸Šä¿¡å·çš„ç”µå‹èŒƒå›´ï¼Œé˜»æŠ—åŒ¹é…ï¼Œä¼ è¾“é€Ÿç‡å’Œä¼ è¾“è·ç¦»ç­‰ã€‚ 3ï¼‰ åŠŸèƒ½ç‰¹æ€§ï¼š æŒ‡æ˜æŸçº¿è·¯ä¸ŠæŸä¸€ç”µå¹³è¡¨ç¤ºä½•ç§æ„ä¹‰ï¼Œæ¥å£éƒ¨ä»¶ä¿¡å·çº¿çš„ç”¨é€”ã€‚ 4ï¼‰ è§„ç¨‹ç‰¹æ€§ï¼š åˆå«è¿‡ç¨‹ç‰¹æ€§ï¼Œå®šä¹‰å„æ¡ç‰©ç†çº¿è·¯çš„å·¥ä½œè§„ç¨‹å’Œæ—¶åºå…³ç³»ã€‚ 3 å¥ˆæ°å‡†åˆ™ï¼Œé¦™å†œå®šç† 1. å¥ˆæ°å‡†åˆ™ æŒ‡å‡ºåœ¨ç†æƒ³ä½é€šï¼ˆæ— å™ªå£°ï¼Œå¸¦å®½æœ‰é™ï¼‰çš„æƒ…å†µä¸‹ï¼Œç å…ƒçš„æé™ä¼ è¾“ç‡æ˜¯ 2W ã€‚ // å¯æ¨å‡º æ•°æ®æé™ä¼ è¾“ç‡ = 2W * log2(V) ,V è¡¨ç¤ºæœ‰ v ç§ç å…ƒã€‚ 2. é¦™å†œå®šç† ç»™å‡ºäº†å¸¦å®½å—é™ä¸”æœ‰é«˜æ–¯ç™½å™ªå£°å¹²æ‰°çš„ä¿¡é“çš„æé™æ•°æ®ä¼ è¾“ç‡ï¼ŒW * log2ï¼ˆ1+S/Nï¼‰ã€‚ // S/N ä¸ºä¿¡å™ªæ¯”ï¼Œï¼ˆ X åˆ†è´ = 10*log10ï¼ˆS/Nï¼‰ã€‚ 4 ç¼–ç ï¼Œè°ƒåˆ¶ 1 æ•°å­—æ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·ï¼š 1ï¼‰éå½’é›¶ç¼–ç ï¼šé«˜ç”µå¹³ 1ï¼Œä½ç”µå¹³ 0 ï¼ˆåä¹‹äº¦å¯ï¼‰ã€‚ 2ï¼‰å½’é›¶ç¼–ç ï¼šä¿¡å·ç”µå¹³åœ¨ä¸€ä¸ªç å…ƒå†…éƒ½è¦æ¢å¤åˆ°é›¶ï¼ˆä½ç”µå¹³ 0ï¼Œé«˜â€”â€”\u0026gt;ä½ 1ï¼‰ã€‚ 3ï¼‰åå‘éå½’é›¶ç¼–ç ï¼šä¿¡å·ç”µå¹³åè½¬ä¸º 0ï¼Œä¸å˜ä¸º 1ã€‚ 4ï¼‰æ›¼å½»æ–¯ç‰¹ç¼–ç ï¼šä¸€ä¸ªç å…ƒåˆ†æˆä¸¤ä¸ªç›¸ç­‰é—´éš”ï¼Œé«˜ä½ä¸º 1ï¼Œä½é«˜ä¸º 0ã€‚ 5ï¼‰å·®åˆ†æ›¼å½»æ–¯ç¼–ç ï¼šé‡ 0 å‰åŠä¸ªç å…ƒåè½¬ï¼Œé‡ 1 å‰åŠä¸ªç å…ƒä¸å˜ï¼ˆåŒ 1 å¼‚ 0ï¼‰ã€‚ 6ï¼‰4B/5B ç¼–ç ï¼šæ•°æ®åˆ†ä¸º 4 ä¸ªä¸€ç»„ï¼ŒæŒ‰ç…§ 4B/5B ç¼–ç è§„åˆ™è½¬æ¢ä¸º 5 ä½ç ã€‚ 2 æ•°å­—æ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼š 1ï¼‰å¹…ç§»é”®æ§ï¼ˆè°ƒå¹…ï¼‰ï¼šé€šè¿‡æ”¹å˜è½½æ³¢ä¿¡å·çš„æŒ¯å¹…æ¥è¡¨ç¤ºæ•°å­—ä¿¡å· 1 å’Œ 0 . 2ï¼‰é¢‘ç§»é”®æ§ï¼ˆè°ƒé¢‘ï¼‰ï¼šé€šè¿‡æ”¹å˜è½½æ³¢ä¿¡å·çš„é¢‘ç‡æ¥è¡¨ç¤ºæ•°å­—ä¿¡å· 1 å’Œ 0 . 3ï¼‰ç›¸ç§»é”®æ§ï¼ˆè°ƒç›¸ï¼‰ï¼šé€šè¿‡æ”¹å˜è½½æ³¢ä¿¡å·çš„ç›¸ä½æ¥è¡¨ç¤ºæ•°å­—ä¿¡å· 1 å’Œ 0 . 4ï¼‰æ­£äº¤æŒ¯å¹…è°ƒåˆ¶ï¼ˆè°ƒå¹…+è°ƒç›¸ï¼‰ï¼šé€šè¿‡æ”¹å˜è½½æ³¢ä¿¡å·çš„æŒ¯å¹…ä»¥åŠç›¸ä½æ¥è¡¨ç¤ºæ•°å­—ä¿¡å· 1 å’Œ 0 . 3 æ¨¡æ‹Ÿæ•°æ®ç¼–ç ä¸ºæ•°å­—ä¿¡å·ï¼š å¸¸ç”¨äºå¯¹éŸ³é¢‘ä¿¡å·è¿›è¡Œç¼–ç ï¼Œæ­¥éª¤ï¼šé‡‡æ · â€”â€”\u0026gt; é‡åŒ– â€”â€”\u0026gt; ç¼–ç ã€‚ 4 æ¨¡æ‹Ÿæ•°æ®è°ƒåˆ¶ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼š ä¾‹å¦‚å¹¿æ’­ç”µå°ã€‚ 5 ç”µè·¯äº¤æ¢ï¼ŒæŠ¥æ–‡äº¤æ¢ï¼Œåˆ†ç»„äº¤æ¢ 1 ç”µè·¯äº¤æ¢ï¼š è¿‡ç¨‹ï¼šå»ºç«‹è¿æ¥ â€”â€”\u0026gt; é€šä¿¡ â€”â€”\u0026gt; é‡Šæ”¾è¿æ¥ã€‚ ç‰¹ç‚¹ï¼šç‹¬å èµ„æºï¼Œç”¨æˆ·å§‹ç»ˆå ç”¨ç«¯åˆ°ç«¯çš„å›ºå®šä¼ è¾“å¸¦å®½ï¼›é€‚ç”¨äºè¿œç¨‹æ‰¹å¤„ç†ä¿¡æ¯ä¼ è¾“æˆ–ç³»ç»Ÿé—´å®æ—¶æ€§è¦æ±‚é«˜çš„å¤§é‡æ•°æ®ä¼ è¾“ã€‚ 2 æŠ¥æ–‡äº¤æ¢ï¼š è¿‡ç¨‹ï¼šæ— éœ€å»ºç«‹è¿æ¥ï¼ŒåŠ¨æ€åˆ†é…çº¿è·¯ï¼Œä»¥æŠ¥æ–‡ä¸ºä¼ è¾“å•ä½ï¼Œåœ¨äº¤æ¢èŠ‚ç‚¹é‡‡ç”¨å­˜å‚¨è½¬å‘çš„æ–¹å¼ï¼Œä¾¿äºä¸åŒç±»å‹ï¼Œè§„æ ¼ï¼Œé€Ÿç‡çš„è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚ æŠ¥æ–‡ï¼šè¡¨ç¤ºç«™ç‚¹å•æ¬¡è¦å‘é€çš„æ•°æ®å—ï¼Œé•¿åº¦ä¸é™ä¸”å¯å˜ã€‚ 3 åˆ†ç»„äº¤æ¢ï¼š åŒæ ·é‡‡å–å­˜å‚¨è½¬å‘ï¼Œä½†é™åˆ¶äº†æ¯æ¬¡ä¼ è¾“çš„æ•°æ®å—çš„ä¸Šé™ï¼Œè§£å†³äº†å¤§æŠ¥æ–‡ä¼ è¾“çš„é—®é¢˜ï¼ŒåŒæ—¶ç»™å°æ•°æ®å—å¢åŠ äº†å¿…è¦çš„æ§åˆ¶ä¿¡æ¯ã€‚ ä¸¤ç§æ–¹å¼ï¼šé¢å‘è¿æ¥çš„è™šç”µè·¯æ–¹å¼ï¼Œæ— è¿æ¥çš„æ•°æ®æŠ¥æ–¹å¼ã€‚ 6 ä¼ è¾“ä»‹è´¨  1ï¼‰åŒç»çº¿ï¼šç”±ä¸¤æ ¹é‡‡ç”¨ä¸€å®šè§„åˆ™ç»åˆçš„ï¼Œç›¸äº’ç»ç¼˜çš„é“œå¯¼çº¿ç»„æˆã€‚ 2ï¼‰åŒè½´ç”µç¼†ï¼šç”±å†…å¯¼ä½“ï¼Œç»ç¼˜å±‚ï¼Œç½‘çŠ¶ç¼–ç»‡å±è”½å±‚ï¼Œå¡‘æ–™å¤–å±‚æ„æˆã€‚ 3ï¼‰å…‰çº¤ï¼šé€šè¿‡ä¼ é€’å…‰è„‰å†²æ¥è¿›è¡Œé€šä¿¡ï¼Œåˆ†ä¸ºå•æ¨¡å…‰çº¤å’Œå¤šæ¨¡å…‰çº¤ã€‚ 4ï¼‰æ— çº¿ä¼ è¾“ä»‹è´¨ï¼šæ— çº¿ç”µæ³¢ï¼Œå¾®æ³¢ï¼Œçº¢å¤–çº¿ï¼Œæ¿€å…‰ã€‚ 7 ç‰©ç†å±‚è®¾å¤‡ 1 ä¸­ç»§å™¨ï¼ˆè½¬å‘å™¨ï¼‰ï¼š åŠŸèƒ½ï¼šå°†ä¿¡å·æ•´å½¢æ”¾å¤§å†è½¬å‘å‡ºå»ã€‚ // æ”¾å¤§å™¨æ˜¯æ”¾å¤§æ¨¡æ‹Ÿä¿¡å·ï¼ˆæ”¾å¤§ï¼‰ï¼Œä¸­ç»§å™¨æ˜¯æ”¾å¤§æ•°å­—ä¿¡å·ï¼ˆæ•´å½¢å†ç”Ÿï¼‰ã€‚ 2 é›†çº¿å™¨ï¼ˆå¤šå£ä¸­ç»§å™¨ï¼‰ ","date":"2021-02-22T10:00:51+08:00","permalink":"https://ldsdsy.github.io/p/network_two/","title":"Network_two"},{"content":"è®¡ç®—æœºç½‘ç»œæ¦‚è¿° ç®€è¨€ä¹‹ï¼Œè®¡ç®—æœºç½‘ç»œå°±æ˜¯ä¸€äº›äº’è”çš„ï¼Œè‡ªæ²»çš„è®¡ç®—æœºç³»ç»Ÿçš„é›†åˆã€‚\n1 è®¡ç®—æœºçš„ç½‘ç»œçš„ç»„æˆ 1) ä»ç»„æˆéƒ¨åˆ†ä¸Šçœ‹ï¼š ç¡¬ä»¶ï¼Œè½¯ä»¶ï¼Œåè®®ã€‚ 2) ä»å·¥ä½œæ–¹å¼ä¸Šçœ‹ï¼š è¾¹ç¼˜éƒ¨åˆ†ï¼Œæ ¸å¿ƒéƒ¨åˆ†ã€‚ 3) ä»åŠŸèƒ½ç»„æˆä¸Šçœ‹ï¼š é€šä¿¡å­ç½‘ï¼Œèµ„æºå­ç½‘ã€‚ 2 è®¡ç®—æœºç½‘ç»œçš„åŠŸèƒ½ 1. æ•°æ®é€šä¿¡ 2. èµ„æºå…±äº« 3. åˆ†å¸ƒå¼å¤„ç† 4. æé«˜å¯é æ€§ 5. è´Ÿè½½å‡è¡¡ 3 è®¡ç®—æœºç½‘ç»œçš„åˆ†ç±» 1) æŒ‰åˆ†å¸ƒèŒƒå›´åˆ†ç±»ï¼š å¹¿åŸŸç½‘ï¼ŒåŸåŸŸç½‘ï¼Œå±€åŸŸç½‘ï¼Œä¸ªäººåŒºåŸŸç½‘ã€‚ 2) æŒ‰ä¼ è¾“æŠ€æœ¯åˆ†ç±»ï¼š å¹¿æ’­å¼ç½‘ç»œï¼Œç‚¹å¯¹ç‚¹ç½‘ç»œã€‚ 3) æŒ‰æ‹“æ‰‘ç»“æ„åˆ†ç±»ï¼š æ˜Ÿå½¢ç½‘ç»œï¼Œæ€»çº¿å½¢ç½‘ç»œï¼Œç¯å½¢ç½‘ç»œï¼Œç½‘çŠ¶å½¢ç½‘ç»œã€‚ 4) æŒ‰ä½¿ç”¨è€…åˆ†ç±»ï¼š å…¬ç”¨ç½‘ï¼Œä¸“ç”¨ç½‘ã€‚ 5) æŒ‰äº¤æ¢æŠ€æœ¯åˆ†ç±»ï¼š ç”µè·¯äº¤æ¢ç½‘ç»œï¼ŒæŠ¥æ–‡äº¤æ¢ç½‘ç»œï¼Œåˆ†ç»„äº¤æ¢ç½‘ç»œã€‚ 6) æŒ‰ä¼ è¾“ä»‹è´¨åˆ†ç±»ï¼š æœ‰çº¿ç½‘ç»œï¼Œæ— çº¿ç½‘ç»œã€‚ 4 è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡ 1) å¸¦å®½ï¼š è¡¨ç¤ºç½‘ç»œçš„é€šä¿¡çº¿è·¯æ‰€èƒ½ä¼ è¾“æ•°æ®çš„èƒ½åŠ›ï¼Œæ˜¯æ•°å­—ä¿¡é“æ‰€èƒ½ä¼ è¾“çš„ â€œæœ€é«˜æ•°æ®ç‡â€ çš„åŒä¹‰è¯ï¼Œå•ä½ä¸ºæ¯”ç‰¹æ¯ç§’ï¼ˆb/sï¼‰ã€‚ 2) ååé‡ï¼š è¡¨ç¤ºå•ä½æ—¶é—´é€šè¿‡æŸä¸ªç½‘ç»œï¼ˆæˆ–ä¿¡é“ï¼Œæ¥å£ï¼‰çš„æ•°æ®é‡ã€‚å…¶å—åˆ°ç½‘ç»œå¸¦å®½æˆ–æ˜¯ç½‘ç»œé¢å®šé€Ÿç‡çš„é™åˆ¶ã€‚ // å¸¦å®½æ˜¯ç†æ€§çš„æœ€é«˜ä¼ è¾“é€Ÿç‡ï¼Œååé‡æ˜¯å®é™…ä¸Šæ­¤æ—¶é—´æ®µçš„ä¼ è¾“é€Ÿç‡ã€‚ 3) é€Ÿç‡ï¼š è¡¨ç¤ºè¿æ¥åˆ°ç½‘ç»œä¸Šçš„ä¸»æœºåœ¨æ•°å­—ä¿¡é“ä¸Šä¼ é€æ•°æ®çš„é€Ÿç‡ï¼Œä¹Ÿç§°æ•°æ®ç‡æˆ–æ¯”ç‰¹ç‡ï¼Œå•ä½ä¸º b/s ï¼ˆæœ€é«˜æ•°æ®ç‡å°±æ˜¯å¸¦å®½ï¼‰ã€‚ 4) æ—¶å»¶ï¼š è¡¨ç¤ºæ•°æ®ä»ç½‘ç»œä¸€ç«¯åˆ°å¦ä¸€ç«¯çš„æ‰€éœ€æ—¶é—´ã€‚ *å‘é€æ—¶å»¶ï¼šç»“ç‚¹å°†æ•°æ®ä¼ è¾“åˆ°é“¾è·¯ä¸Šæ‰€éœ€è¦çš„æ—¶é—´ï¼Œä¹Ÿç§°ä¼ è¾“æ—¶å»¶ã€‚ // æ•°æ®ä»ä¸»æœºåˆ°é“¾è·¯ä¸Šçš„æ€»æ—¶é—´ã€‚ *ä¼ æ’­æ—¶å»¶ï¼šç”µç£æ³¢åœ¨ä¿¡é“ä¸Šä¼ æ’­ä¸€å®šçš„è·ç¦»éœ€è¦èŠ±è´¹çš„æ—¶é—´ï¼ŒåŠä»é“¾è·¯ä¸€ç«¯åˆ°å¦ä¸€ç«¯çš„æ—¶é—´ã€‚ *å¤„ç†æ—¶å»¶ï¼šæ•°æ®åœ¨äº¤æ¢èŠ‚ç‚¹è¿›è¡Œä¸€äº›å¿…è¦å¤„ç†æ‰€èŠ±çš„æ—¶é—´ã€‚ *æ’é˜Ÿæ—¶å»¶ï¼šåˆ†ç»„åœ¨è¿›å…¥è·¯ç”±å™¨åè¦å…ˆåœ¨è¾“å…¥é˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…å¤„ç†ï¼Œä¹‹åè¿˜è¦åœ¨è¾“å‡ºé˜Ÿåˆ—ä¸­ç­‰å¾…è½¬å‘ã€‚ 5) å¾€è¿”æ—¶å»¶ï¼ˆRTTï¼‰ï¼š æŒ‡ä»å‘é€ç«¯å‘é€æ•°æ®å¼€å§‹ï¼Œåˆ°å‘é€ç«¯æ”¶åˆ°æ¥è‡ªæ¥æ”¶ç«¯çš„ç¡®è®¤ï¼Œæ€»å…±ç»å†çš„æ—¶é—´ã€‚ 6) æ—¶å»¶å¸¦å®½ç§¯ï¼š è¡¨ç¤ºç¬¬ä¸€ä¸ªæ¯”ç‰¹åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œå‘é€ç«¯å·²ç»å‘é€çš„æ¯”ç‰¹æ•° (æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ * ä¿¡é“å¸¦å®½)ã€‚ 5 è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„å’Œå‚è€ƒæ¨¡å‹ 1. OSI å‚è€ƒæ¨¡å‹ï¼š ç‰©ç†å±‚ï¼Œæ•°æ®é“¾è·¯å±‚ï¼Œç½‘ç»œå±‚ï¼Œä¼ è¾“å±‚ï¼Œä¼šè¯å±‚ï¼Œè¡¨ç¤ºå±‚ï¼Œåº”ç”¨å±‚ï¼ˆâ€œç‰©è”ç½‘æ·‘æ…§è¯•ç”¨â€ï¼‰ã€‚ // ä¸‹ä¸‰å±‚ä¸ºé€šä¿¡å­ç½‘ï¼ˆæ•°æ®é€šä¿¡ï¼‰ï¼Œä¸Šä¸‰å±‚ä¸ºèµ„æºå­ç½‘ï¼ˆæ•°æ®å¤„ç†ï¼‰ã€‚ 2. TCP/TP æ¨¡å‹ï¼š ç½‘ç»œæ¥å£å±‚ï¼ˆç‰©ï¼Œé“¾ï¼‰ï¼Œç½‘é™…å±‚ï¼ˆç»œï¼‰ï¼Œä¼ è¾“å±‚ï¼ˆè¾“ï¼‰ï¼Œåº”ç”¨å±‚ï¼ˆä¼šï¼Œç¤ºï¼Œåº”ï¼‰ã€‚ ","date":"2021-02-20T15:37:07+08:00","permalink":"https://ldsdsy.github.io/p/network_one/","title":"Network_one"},{"content":"github ä¸Šæœ‰è®¸å¤šä¼˜ç§€çš„å¼€æºç¤¾åŒºï¼Œå¯¹äºæ—¶é—´å……è£•çš„å­¦ç”Ÿå…šæ¥è¯´ï¼Œå¹³æ—¶åœ¨ç¤¾åŒºåšåšè´¡çŒ®æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä¸‹é¢ä»¥ Kubernetes ç¤¾åŒºä¸ºä¾‹ï¼ˆåˆšå¼€å§‹é€‰æ‹©åšä¸€äº›ç®€å•çš„ç¿»è¯‘è´¡çŒ®ï¼Œé€‰æ‹© Kubernetes/website ï¼‰ï¼š 1. fork æƒ³è¦åšè´¡çŒ®çš„é¡¹ç›® åœ¨ GitHub è¿›å…¥ Kubernetes/website é¡¹ç›®ä¸­ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Fork æŒ‰é’®ï¼Œæ­¤æ—¶å°±åœ¨ä½ çš„ä¸ªäººä»“åº“é‡Œç”Ÿæˆäº†ä¸€ä¸ª yourname/website çš„é¡¹ç›®ã€‚ 2. Clone åˆšåˆš Fork çš„é¡¹ç›® åšè´¡çŒ®ä¹‹å‰ï¼Œå¿…é¡»å¾—æŠŠé¡¹ç›®ä¸‹è½½åˆ°æœ¬åœ°ã€‚è¿›å…¥ä¸ªäººçš„ GitHub ä¸»é¡µæ‰¾åˆ°åˆšåˆš Fork çš„é¡¹ç›®ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Clone æŒ‰é’®ã€‚ æ­¤å¤„æœ‰ä¸‰ç§ä¸‹è½½æ–¹å¼ï¼Œæˆ‘é€‰æ‹©ä¸­é—´çš„ SSH æ–¹å¼ã€‚å¤åˆ¶å¥½ä¸‹æ–¹çš„é“¾æ¥è¿›å…¥ cmd ä½¿ç”¨ git clone å‘½ä»¤ï¼ˆæˆ‘æ‰“ç®—æŠŠé¡¹ç›®ä¸‹è½½åˆ° D ç›˜ï¼‰ï¼š $ cd d: $ git clone git@github.com:ldsdsy/website.gitf //è€å¿ƒç­‰å¾…ï¼Œç¬¬ä¸€æ¬¡ clone éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå®Œæˆå D ç›˜é‡Œå°±ä¼šå‡ºç° website çš„æ–‡ä»¶å¤¹ã€‚ 3.è®¾ç½®å…‹éš†å¥½çš„é¡¹ç›® åœ¨ cmd ä¸­è¿›å…¥å…‹éš†è¿‡æ¥çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå°†åŸæ¥é¡¹ç›®çš„ URL æ·»åŠ åˆ°ä½ çš„æœ¬åœ°ä»£ç ä»“åº“ï¼Œè¿™æ ·ä½ å°±å¯ä»¥éšæ—¶ä»åŸæ¥çš„é¡¹ç›® pull æœ€æ–°çš„ä¿®æ”¹(æ­¤å¤„ç”¨ upstream ä½œä¸ºè¿œç¨‹ä»“åº“çš„åå­—ï¼Œè¿™æ˜¯ GitHub çš„é£æ ¼ï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ä»»ä½•åå­—ã€‚): $ git remote add upstream git@github.com:kubernetes/website.git ç°åœ¨è¿œç¨‹ä»“åº“åˆ—è¡¨æ˜¯è¿™æ ·çš„: $ git remote -v origin git@github.com:ldsdsy/website.git (fetch) origin git@github.com:ldsdsy/website.git (push) upstream git@github.com:kubernetes/website.git (fetch) upstream git@github.com:kubernetes/website.git (push) ä»¥åå®šæœŸæ›´æ–°æ—¶æŒ‰å¦‚ä¸‹å‘½ä»¤é¡ºåºè¿è¡Œï¼š $ cd D:\\website $ git checkout master $ git fetch upstream $ git rebase upstream/master $ git push origin master 4.åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ åœ¨åšç¿»è¯‘ä¹‹å‰ï¼Œå…ˆè¦åˆ›å»ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ï¼Œè¿™æ˜¯å°†è¦å¼€å±•å·¥ä½œçš„åœ°æ–¹ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆè¿™ä¼šåˆ›å»ºä¸€ä¸ªåä¸º translate1 çš„æ–°åˆ†æ”¯ï¼Œè€Œä¸”åœ¨æœ¬åœ°ä»“åº“é‡Œï¼Œå¤„äºæ¿€æ´»çŠ¶æ€ã€‚ä½ æœ€å¥½ç”¨ä¸€ä¸ªå¯ä»¥æè¿°ä½ è¦åšä»€ä¹ˆçš„åˆ†æ”¯åå­—ã€‚ï¼‰ï¼š $ git checkout -b translate1 æŸ¥çœ‹å½“å‰å¤„äºå“ªä¸€ä¸ªåˆ†æ”¯ï¼ˆ* è¡¨ç¤ºå½“å‰åˆ†æ”¯ï¼‰ï¼š $ git branch master * translate1 5.å¼€å±•å·¥ä½œ å¯é‡‡ç”¨ vscode ç­‰ç¼–è¾‘å™¨æ‰“å¼€ website æ–‡ä»¶å¤¹ï¼Œåœ¨ en ç›®å½•é‡Œæ‰¾åˆ°ä¸€ä¸ªè¿˜æ²¡æœ‰ç¿»è¯‘çš„æ–‡ä»¶ï¼Œç„¶ååœ¨ zh ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶åä¸€è‡´çš„å¯¹åº”æ–‡ä»¶ï¼ŒæŒ‰ç…§åŸæ–‡çš„æ ¼å¼è¿›è¡Œç¿»è¯‘ã€‚ 6.æèµ· pull request å½“ç¿»è¯‘å®Œæˆåï¼Œéœ€è¦æŠŠä¿®æ”¹è¿‡çš„æ–°å†…å®¹ push åˆ°ä¸ªäººçš„åœ¨ GitHub ä¸Š: $ git branch //ç¡®å®šå½“å‰åœ¨ translate1 ä¸Š $ git status //ç¡®å®šè‡ªå·±æ²¡æœ‰è¯¯æ“ä½œå…¶ä»–çš„æ— å…³çš„æ–‡ä»¶ $ git commit -m \u0026quot;translate 2020-10-01\u0026quot; $ git push origin translate1 ç°åœ¨ç”¨æµè§ˆå™¨æ‰“å¼€ä¸ªäººçš„ GitHub, ç‚¹å¼€ fork çš„é¡¹ç›®ï¼Œä¾¿ä¼šåœ¨é¡¹ç›®é¡¶ä¸Šçœ‹åˆ°ä¸€ä¸ª compare \u0026amp; pull request çš„ç»¿è‰²æŒ‰é’®ï¼Œç‚¹å‡»ç”¨æ¥æèµ· pull requestã€‚ä¹‹åï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªé¡µé¢ï¼Œæ˜¾ç¤ºä½ çš„åˆ†æ”¯å’ŒåŸæ¥çš„åˆ†æ”¯ä¹‹é—´ä¸åŒçš„éƒ¨åˆ†ã€‚ç¡®å®šæ— è¯¯åï¼Œç‚¹å‡»ç¡®å®šã€‚ 7.ç­‰å¾…å®¡æŸ¥ ä¹‹åä¼šæœ‰ä¸“é—¨çš„å®¡æŸ¥äººå‘˜å¯¹ä½ çš„æäº¤è¿›è¡Œæ ¸æŸ¥ï¼Œåˆæ ¼åä¾¿ä¼šæ”¶åˆ°åŒæ„åˆå¹¶çš„é‚®ä»¶ï¼Œæˆ–æ˜¯æ”¶åˆ°å»ºè®®ä¿®æ”¹çš„é‚®ä»¶ï¼Œæˆ–æ˜¯è¢«ç›´æ¥æ‹’ç»ã€‚ ï¼ï¼ï¼ç¬¬ä¸€æ¬¡åšè´¡çŒ®çš„è¯ï¼Œæ­¤å¤„å¯èƒ½ä¼šé‡åˆ°ç­¾ç½² CLA(Contribution License Agreement) çš„é—®é¢˜ï¼Œæ ¹æ®æç¤ºç­¾ç½² CLA å³å¯ï¼ˆTITLE:studentï¼‰ 8.åˆ é™¤åˆ†æ”¯ ä¸ç®¡ç»“æœå¦‚ä½•ï¼Œæœ€åå°±å¯ä»¥åˆ é™¤ä¸€å¼€å§‹åˆ›å»ºçš„å·¥ä½œåˆ†æ”¯ï¼ˆä¸åˆ ä¹Ÿé—®é¢˜ä¸å¤§ï¼Œä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼‰ï¼š //åˆ é™¤æœ¬åœ°ä»“åº“é‡Œçš„åˆ†æ”¯ï¼š $ git branch -D translate1 //åˆ é™¤ GitHub ä¸Šçš„åˆ†æ”¯ï¼š $ git push origin --delete translate1 ","date":"2021-02-06T12:58:45+08:00","permalink":"https://ldsdsy.github.io/p/%E7%A4%BE%E5%8C%BA%E8%B4%A1%E7%8C%AE%E6%B5%81%E7%A8%8B/","title":"ç¤¾åŒºè´¡çŒ®æµç¨‹"},{"content":"1.è¾“å…¥çƒçš„ä¸­å¿ƒç‚¹å’Œçƒä¸ŠæŸä¸€ç‚¹çš„åæ ‡ï¼Œè®¡ç®—çƒåŠå¾„å’Œä½“ç§¯ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;cmath\u0026gt;using namespace std; double const PI=3.14; int main() { double a,b,c,x,y,z,r,v; cout\u0026lt;\u0026lt;\u0026#34;input circle center coordinates:\u0026#34;; cin\u0026gt;\u0026gt;a\u0026gt;\u0026gt;b\u0026gt;\u0026gt;c; cout\u0026lt;\u0026lt;\u0026#34;input coordinates of any point:\u0026#34;; cin\u0026gt;\u0026gt;x\u0026gt;\u0026gt;y\u0026gt;\u0026gt;z; r=sqrt(pow(x-a,2)+pow(y-b,2)+pow(z-c,2)); v=4/3.0*PI*pow(r,3);\t//æ³¨æ„ï¼š4/3=1,æ‰€ä»¥è¦é™¤ä»¥ 3.0 \tcout\u0026lt;\u0026lt;\u0026#34;Radius is:\u0026#34;\u0026lt;\u0026lt;r\u0026lt;\u0026lt;endl; cout\u0026lt;\u0026lt;\u0026#34;Volume is:\u0026#34;\u0026lt;\u0026lt;v\u0026lt;\u0026lt;endl; return 0; } Go\npackage exam2003 import ( \u0026#34;fmt\u0026#34; \u0026#34;math\u0026#34; ) //Sphere is used to calculate the radius and volume of a certain sphere func Sphere() { var a, b, c, x, y, z, r, v float64 fmt.Print(\u0026#34;input the circle center coordinates:\u0026#34;) fmt.Scan(\u0026amp;a, \u0026amp;b, \u0026amp;c) fmt.Print(\u0026#34;input the coordinates of any point:\u0026#34;) fmt.Scan(\u0026amp;x, \u0026amp;y, \u0026amp;z) r = math.Sqrt(math.Pow(x-a, 2) + math.Pow(y-b, 2) + math.Pow(z-c, 2)) v = 4 / 3.0 * math.Pi * math.Pow(r, 3) fmt.Printf(\u0026#34;The radius is:%f\\n\u0026#34;, r) fmt.Printf(\u0026#34;The volume is:%f\\n\u0026#34;, v) } 2.æ‰‹å·¥å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶ç§æ¯è¡ŒåŒ…æ‹¬å­¦å·ã€å§“åã€æ€§åˆ«å’Œå¹´é¾„ã€‚æ¯ä¸€ä¸ªå±æ€§ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ã€‚å†æ ¹æ®è¾“å…¥çš„å­¦å·ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ï¼Œè¾“å‡ºè¯¥å­¦ç”Ÿçš„ä¿¡æ¯ã€‚æ–‡ä»¶å¦‚ä¸‹ï¼š\n01 ææ±Ÿ ç”· 21 02 åˆ˜å” ç”· 23 03 å¼ å†› ç”· 19 04 ç‹å¨œ å¥³ 19 C++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;fstream\u0026gt;using namespace std; int main() { int num,age,stu,flag=0; string name,gender; cout\u0026lt;\u0026lt;\u0026#34;input students\u0026#39; info like:01 ML female 21 and ends with 00 00 00\\n\u0026#34;; ofstream out(\u0026#34;student.txt\u0026#34;); while(cin\u0026gt;\u0026gt;num\u0026gt;\u0026gt;name\u0026gt;\u0026gt;gender\u0026gt;\u0026gt;age) { if(num==0) { break; } out\u0026lt;\u0026lt;num\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;name\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;gender\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;age\u0026lt;\u0026lt;endl; } cout\u0026lt;\u0026lt;\u0026#34;input the number of you want\\n\u0026#34;; cin\u0026gt;\u0026gt;stu; ifstream in(\u0026#34;student.txt\u0026#34;); while(!in.eof()) { in\u0026gt;\u0026gt;num\u0026gt;\u0026gt;name\u0026gt;\u0026gt;gender\u0026gt;\u0026gt;age; if(num==stu) { flag=1; cout\u0026lt;\u0026lt;num\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;name\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;gender\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;age\u0026lt;\u0026lt;endl;\tbreak; } } if(flag==0) { cout\u0026lt;\u0026lt;\u0026#34;There is no such student here\\n\u0026#34;; } return 0;\t} Go\npackage exam2003 import ( \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strings\u0026#34; ) //Student is used to handle information of students func Student() { var num, age, flag int var name, gender, Snum string //create file and input information \tfile, err := os.OpenFile(\u0026#34;D:/stu.txt\u0026#34;, os.O_CREATE|os.O_WRONLY|os.O_RDONLY, 0) if err != nil { fmt.Println(\u0026#34;Failed to open file\u0026#34;) return } defer file.Close() fmt.Println(\u0026#34;inout the Info of studetns:01 ml female 22 and ends by 0 0 0 0\u0026#34;) for { fmt.Scan(\u0026amp;num, \u0026amp;name, \u0026amp;gender, \u0026amp;age) if num == 00 { break } fmt.Fprint(file, num, \u0026#34; \u0026#34;, name, \u0026#34; \u0026#34;, gender, \u0026#34; \u0026#34;, age) fmt.Fprint(file, \u0026#34;\\n\u0026#34;) } fmt.Println(\u0026#34;input the student number of you want:\u0026#34;) fmt.Scan(\u0026amp;Snum) //Read out and select the students you want to query \tf, err := ioutil.ReadFile(\u0026#34;D:/stu.txt\u0026#34;) if err != nil { fmt.Println(\u0026#34;read fail\u0026#34;, err) } strArr := strings.Split(string(f), \u0026#34;\\n\u0026#34;) flag = 0 for _, s := range strArr { y := strings.Split(string(s), \u0026#34; \u0026#34;) if y[0] == Snum { fmt.Printf(\u0026#34;%s\\n\u0026#34;, y) flag = 1 break } } if flag == 0 { fmt.Println(\u0026#34;There is no such student here\u0026#34;) } } 3.è¾“å…¥å¹´æœˆæ—¥ï¼Œè®¡ç®—è¯¥å¤©æ˜¯æœ¬å¹´çš„ç¬¬å‡ å¤©ã€‚ä¾‹å¦‚ 1990 å¹´ 9 æœˆ 20 æ—¥æ˜¯ 1990 å¹´çš„ç¬¬ 263 å¤©ï¼Œ2000 å¹´ 5 æœˆ 1 æ—¥æ˜¯ 2000 å¹´ç¬¬ 122 å¤©ã€‚ï¼ˆé—°å¹´ï¼šèƒ½è¢« 400 æ•´é™¤ï¼Œæˆ–èƒ½è¢« 4 æ•´é™¤ä½†ä¸èƒ½è¢« 100 æ•´é™¤ã€‚æ¯å¹´ 1ã€3ã€5ã€7ã€8ã€10 ã€12 ä¸ºå¤§æœˆï¼‰\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int a[13]={0,31,28,31,30,31,30,31,31,30,31,30,31}; int year,month,day,sum=0; cout\u0026lt;\u0026lt;\u0026#34;input the date:1998 06 08\u0026#34;\u0026lt;\u0026lt;endl; cin\u0026gt;\u0026gt;year\u0026gt;\u0026gt;month\u0026gt;\u0026gt;day; if(year%400==0||(year%4==0\u0026amp;\u0026amp;year%100!=0)) { a[2]=29; } for(int i=1;i\u0026lt;month;i++) { sum+=a[i]; } sum+=day; cout\u0026lt;\u0026lt;\u0026#34;today is \u0026#34;\u0026lt;\u0026lt;sum\u0026lt;\u0026lt;\u0026#34;th day\u0026#34;\u0026lt;\u0026lt;endl; } Go\npackage exam2003 //Day is used to calculate how many days today is func Day(year, month, day int) int { a := [13]int{0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31} if year%400 == 0 || (year%4 == 0 \u0026amp;\u0026amp; year%100 != 0) { a[2] = 29 } sum := 0 for i := 1; i \u0026lt; month; i++ { sum += a[i] } sum += day return sum } ","date":"2021-02-02T12:26:30+08:00","permalink":"https://ldsdsy.github.io/p/exam2003/","title":"Exam2003"},{"content":"1.æ‰“å°æ‰€æœ‰ä¸è¶…è¿‡ nï¼ˆ n \u0026lt; 256ï¼‰çš„ï¼Œå…¶å¹³æ–¹å…·æœ‰å¯¹ç§°æ€§è´¨çš„æ•°ã€‚å¦‚ 11*11=121ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;cmath\u0026gt;using namespace std; bool HuiWen(int n) { n=n*n; int a[10]={0}; int t=n; int i=0; while(t!=0) { a[i]=t%10; t/=10; i++; } i--; int j=0; while(i\u0026gt;=0) { t+=a[i]*pow(10,j); i--; j++; } if(t==n) { return true; } return false; } int main() { for(int i=0;i\u0026lt;256;i++) { if(HuiWen(i)) { cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } } return 0; } Go\npackage exam2002b import \u0026#34;fmt\u0026#34; //Huiwen is used to output the number of replies func Huiwen() { var a [10]int for i := 0; i \u0026lt; 256; i++ { n := i * i t := n j := 0 for ; t != 0; j++ { a[j] = t % 10 t /= 10 } t = 0 for k := 0; k \u0026lt; j; k++ { //åå‘ç»„æ•° \tt = t*10 + a[k] } if t == n { fmt.Printf(\u0026#34;%d \u0026#34;, i) } } } ç¼–å†™ä¸€ä¸ªæ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é€’å½’å‡½æ•°ï¼Œè¾“å…¥ n å€¼ï¼Œä½¿ç”¨è¯¥é€’å½’å‡½æ•°ï¼Œè¾“å‡ºå¦‚ä¸‹å›¾å½¢ã€‚ä¾‹å¦‚ï¼šå½“ n = 6 æ—¶ã€‚   0 0 1 1 0 1 1 2 3 0 1 1 2 3 5 8 0 1 1 2 3 5 8 13 21 0 1 1 2 3 5 8 13 21 34 55 C++\n#include \u0026lt;iostream\u0026gt;using namespace std; int Fibonacci(int j) { if(j==1) { return 0; } else if(j==2) { return 1; } else { return Fibonacci(j-1)+Fibonacci(j-2); } } int main() { int n,t; cin\u0026gt;\u0026gt;n; for(int i=1;i\u0026lt;=n;i++) { for(int k=1;k\u0026lt;=n-i;k++) { cout\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } for(int j=1;j\u0026lt;=2*i-1;j++) { t=Fibonacci(j); cout\u0026lt;\u0026lt;t\u0026lt;\u0026lt;\u0026#34; \u0026#34;\t; } cout\u0026lt;\u0026lt;endl; } } Go\npackage exam2002b import \u0026#34;fmt\u0026#34; //Fibonacci is used to calculate the number func Fibonacci(j int) int { if j == 1 { return 0 } else if j == 2 { return 1 } return Fibonacci(j-1) + Fibonacci(j-2) } //Triangle is used to print Triangle of Fibonacci func Triangle(n int) { for i := 1; i \u0026lt;= n; i++ { for k := 1; k \u0026lt;= n-i; k++ { fmt.Print(\u0026#34; \u0026#34;) } for j := 1; j \u0026lt;= 2*i-1; j++ { t := Fibonacci(j) fmt.Printf(\u0026#34;%d \u0026#34;, t) } fmt.Println() } } ","date":"2021-01-30T15:03:09+08:00","permalink":"https://ldsdsy.github.io/p/exam2002b/","title":"Exam2002B"},{"content":"1.æŸäººæœ‰ 8 è§’çš„é‚®ç¥¨ 5 å¼ ï¼Œ1 å…ƒçš„é‚®ç¥¨ 4 å¼ ï¼Œ1 å…ƒ 8 è§’çš„é‚®ç¥¨ 6 å¼ ï¼Œç”¨è¿™äº›é‚®ç¥¨ä¸­çš„ä¸€å¼ æˆ–è‹¥å¹²å¼ å¯ä»¥å¾—åˆ°å¤šå°‘ç§ä¸åŒçš„é‚®èµ„ï¼Ÿ\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;set\u0026gt;using namespace std; int main() { set\u0026lt;int\u0026gt; s;\t//æ­¤é¢˜é¿å…ä½¿ç”¨ double ï¼Œå¯èƒ½ä¼šå› ä¸ºç²¾ç¡®åº¦çš„é—®é¢˜é€ æˆç›¸åŒçš„æ•°ä¸ä¸€è‡´ \tint t; for(int i=0;i\u0026lt;=5;i++) { for(int j=0;j\u0026lt;=4;j++) { for(int k=0;k\u0026lt;=6;k++) { if(!(i==j \u0026amp;\u0026amp; j==k \u0026amp;\u0026amp; k==0))\t//æ³¨æ„æ²¡æœ‰ä¸‰ç§éƒ½ä¸º 0 çš„æƒ…å†µ \t{ t=8*i+10*j+18*k; s.insert(t); } } } } cout\u0026lt;\u0026lt;\u0026#34;ç»„åˆæ•°ä¸ºï¼š\u0026#34;\u0026lt;\u0026lt;s.size()\u0026lt;\u0026lt;endl; return 0; } Go\npackage exam2002a import \u0026#34;fmt\u0026#34; //Set is used to grouping the stamp func Set() { var a = [190]int{0} count := 0 for i := 0; i \u0026lt;= 5; i++ { for j := 0; j \u0026lt;= 4; j++ { for k := 0; k \u0026lt;= 6; k++ { t := 8*i + 10*j + 18*k a[t] = 1 } } } for i := 1; i \u0026lt; 190; i++ { if a[i] == 1 { count++ } } fmt.Printf(\u0026#34;ç»„åˆæ•°ä¸ºï¼š%d\\n\u0026#34;, count) } 2.è¾“å…¥ n å€¼ï¼Œ ä½¿ç”¨é€’å½’å‡½æ•°ï¼Œæ±‚æ¨è¾‰ä¸‰è§’å½¢ä¸­å„ä¸ªä½ç½®ä¸Šçš„å€¼ï¼ŒæŒ‰ç…§å¦‚ä¸‹å½¢å¼æ‰“å°è¾“å‡ºå›¾å½¢ã€‚ä¾‹å¦‚ï¼šå½“ n = 6 æ—¶,\n 1 1 1 1 2 1 1 3 3 1 1 4 6 4 1 1 5 10 10 5 1 C++\n#include \u0026lt;iostream\u0026gt;using namespace std; int number(int i,int j) { if(j==1||i==j) { return 1; }\telse { return number(i-1,j)+number(i-1,j-1); } } int main() { int h,t; cin\u0026gt;\u0026gt;h; for(int i=1;i\u0026lt;=h;i++) { for(int j=1;j\u0026lt;=h-i;j++) { cout\u0026lt;\u0026lt;\u0026#34; \u0026#34;;\t//è¾“å‡ºæ•°å­—å‰çš„ç©ºæ ¼ \t} for(int k=1;k\u0026lt;=i;k++) { t=number(i,k); cout\u0026lt;\u0026lt;t\u0026lt;\u0026lt;\u0026#34; \u0026#34;;\t//æ•°å­—é—´çš„ç©ºæ ¼ä»¥æ­¤è¾“å‡º \t} cout\u0026lt;\u0026lt;endl; } return 0; } Go\npackage exam2002a import \u0026#34;fmt\u0026#34; //Number is used to compute the number of Triangle func Number(i, j int) int { if j == 1 || i == j { return 1 } return Number(i-1, j) + Number(i-1, j-1) } //Triangle is used to print Yang Hui Triangle func Triangle(h int) { for i := 1; i \u0026lt;= h; i++ { for j := 1; j \u0026lt;= h-i; j++ { fmt.Print(\u0026#34; \u0026#34;) } for k := 1; k \u0026lt;= i; k++ { t := Number(i, k) fmt.Printf(\u0026#34;%d \u0026#34;, t) } fmt.Println() } } ","date":"2021-01-27T14:02:43+08:00","permalink":"https://ldsdsy.github.io/p/exam2002a/","title":"Exam2002A"},{"content":"1.è¯·è¾“å…¥é«˜åº¦ hï¼Œè¾“å‡ºä¸€ä¸ªé«˜ä¸º hï¼Œä¸Šåº•è¾¹é•¿ä¸º h çš„ç­‰è…°æ¢¯å½¢ï¼ˆåŒ * è¡¨ç¤ºï¼‰ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int h; cout\u0026lt;\u0026lt;\u0026#34;input h:\u0026#34;\u0026lt;\u0026lt;endl; cin\u0026gt;\u0026gt;h; for(int i=1;i\u0026lt;=h;i++) { for(int j=1;j\u0026lt;=3*h-2;j++) { if(j\u0026gt;=h-(i-1)\u0026amp;\u0026amp;j\u0026lt;=(2*h-1)+(i-1)) { cout\u0026lt;\u0026lt;\u0026#34;*\u0026#34;; } else { cout\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } } cout\u0026lt;\u0026lt;endl; } return 0; } Go\npackage exam2001b import \u0026#34;fmt\u0026#34; //Trapezoidal is used to output a trapezoidal func Trapezoidal(h int) { for i := 1; i \u0026lt;= h; i++ { for j := 1; j \u0026lt;= 3*h-2; j++ { if j \u0026gt;= h-(i-1) \u0026amp;\u0026amp; j \u0026lt;= (2*h-1)+(i-1) { fmt.Printf(\u0026#34;*\u0026#34;) } else { fmt.Printf(\u0026#34; \u0026#34;) } } fmt.Println() } } 2.è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œä»é”®ç›˜ä¸Šè¾“å…¥ nï¼ˆ n çš„èŒƒå›´æ˜¯ 1ï½20 ï¼‰ï¼Œæ±‚ n çš„é˜¶ä¹˜ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int n; double s=1;\t//20çš„é˜¶ä¹˜ä¼šè¶…å‡ºæ•´å‹çš„èŒƒå›´ \tcin\u0026gt;\u0026gt;n; for(int i=1;i\u0026lt;=n;i++) { s=s*i; } cout\u0026lt;\u0026lt;\u0026#34;é˜¶ä¹˜æ˜¯ï¼š\u0026#34;\u0026lt;\u0026lt;s\u0026lt;\u0026lt;endl; return 0; } Go\npackage exam2001b import \u0026#34;fmt\u0026#34; //Factorial is used to compute the factorial of a number func Factorial(n int64) { var s, i int64 s = 1 for i = 1; i \u0026lt;= n; i++ { s *= i } fmt.Printf(\u0026#34;%d çš„é˜¶ä¹˜æ˜¯ï¼š%d\u0026#34;, n, s) } 3.ä»é”®ç›˜ä¸Šä»»æ„è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸è¶…è¿‡ 20 çš„å­—ç¬¦ä¸²ï¼Œå¯¹æ‰€è¾“å…¥çš„å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§ ASCII ç çš„å¤§å°ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œè¯·è¾“å‡ºæ’åºåçš„ç»“æœã€‚\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;algorithm\u0026gt;using namespace std; int main() { string s,s1; cin\u0026gt;\u0026gt;s; sort(s.begin(),s.end()); cout\u0026lt;\u0026lt;s\u0026lt;\u0026lt;endl; } Go\npackage exam2001b import ( \u0026#34;fmt\u0026#34; \u0026#34;sort\u0026#34; ) //Str is string type Str string func (s *Str) Len() int { return len(*s) } func (s *Str) Less(i, j int) bool { s1 := []byte(*s) return s1[i] \u0026lt; s1[j] } func (s *Str) Swap(i, j int) { s1 := []byte(*s) s1[i], s1[j] = s1[j], s1[i] *s = Str(s1) } //StringSort is used to sort a string func StringSort(s Str) { sort.Sort(\u0026amp;s) fmt.Println(s) } ","date":"2021-01-24T17:09:05+08:00","permalink":"https://ldsdsy.github.io/p/exam2001b/","title":"Exam2001B"},{"content":"1.ç¼–å†™ç¨‹åºï¼Œè®¡ç®—ä¸‹åˆ—åˆ†æ®µå‡½æ•° y=f(x)çš„å€¼ã€‚\ny = -x + 2.5 , 0 \u0026lt;= x \u0026lt; 2 y = 2 - 1.5 * (x-3) * (x-3) ï¼Œ 2 \u0026lt;= x \u0026lt; 4 y = x / 2 - 1.5 ï¼Œ 4 \u0026lt;= x \u0026lt; 6 C++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { double x,y; cout\u0026lt;\u0026lt;\u0026#34;input the x:\u0026#34;\u0026lt;\u0026lt;endl; cin\u0026gt;\u0026gt;x; if(x\u0026lt;0||x\u0026gt;=6) { cout\u0026lt;\u0026lt;\u0026#34;x out of the bounds\u0026#34;\u0026lt;\u0026lt;endl; return 0; } if(x\u0026gt;=0\u0026amp;\u0026amp;x\u0026lt;2) { y=-x+2.5; } else if(x\u0026gt;=2\u0026amp;\u0026amp;x\u0026lt;4) { y=2-1.5*(x-3)*(x-3); } else if(x\u0026gt;=4\u0026amp;\u0026amp;x\u0026lt;6) { y=x/2-1.5; } cout\u0026lt;\u0026lt;\u0026#34;y=\u0026#34;\u0026lt;\u0026lt;y\u0026lt;\u0026lt;endl; return 0; } Go\npackage exam2001a import \u0026#34;fmt\u0026#34; //Y is used to calculate y based on x func Y(x float64) { if x \u0026lt; 0 || x \u0026gt;= 6 { fmt.Println(\u0026#34;X out of bounds\u0026#34;) return } var y float64 if x \u0026gt;= 0 \u0026amp;\u0026amp; x \u0026lt; 2 { y = -x + 2.5 } else if x \u0026gt;= 2 \u0026amp;\u0026amp; x \u0026lt; 4 { y = 2 - 1.5*(x-3)*(x-3) } else if x \u0026gt;= 4 \u0026amp;\u0026amp; x \u0026lt; 6 { y = x/2 - 1.5 } fmt.Printf(\u0026#34;y=%.2f\u0026#34;, y) } 2.ç¼–å†™ç¨‹åºï¼Œè¯»å…¥ä¸€ä¸ªæ•´æ•° N ã€‚è‹¥ N ä¸ºéè´Ÿæ•°ï¼Œåˆ™è®¡ç®— N åˆ° 2N ä¹‹é—´çš„æ•´æ•°å’Œï¼›è‹¥ N ä¸ºä¸€ä¸ªè´Ÿæ•°ï¼Œåˆ™æ±‚ 2N åˆ° N ä¹‹é—´çš„æ•´æ•°å’Œã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int n,sum=0,flag=1;\t//flag=1 è¡¨ç¤º n ä¸ºæ­£æ•°ï¼Œflag=-1 è¡¨ç¤º n ä¸ºè´Ÿæ•° \tcin\u0026gt;\u0026gt;n; if(n\u0026lt;0) { flag=-1; n=-n; } for (int i=n;i\u0026lt;=2*n;i++) { sum+=i; } if(flag==1) { cout\u0026lt;\u0026lt;\u0026#34;sum=\u0026#34;\u0026lt;\u0026lt;sum\u0026lt;\u0026lt;endl; } else { cout\u0026lt;\u0026lt;\u0026#34;sum=\u0026#34;\u0026lt;\u0026lt;-sum\u0026lt;\u0026lt;endl; } return 0; } Go\npackage exam2001a //Sum is used to compute the sum between n and 2*n func Sum(n int) int { sum := 0 symbol := 1 if n \u0026lt; 0 { symbol = -1 n = -n } for i := n; i \u0026lt;= 2*n; i++ { sum += i } if symbol == -1 { return -sum } return sum } 3.è®¾ N æ˜¯ä¸€ä¸ªå››ä½æ•°ï¼Œå®ƒçš„ 9 å€æ°å¥½æ˜¯å…¶ååºæ•°ï¼ˆä¾‹å¦‚ï¼š1234 çš„ååºæ•°æ˜¯ 4321ï¼‰ï¼Œæ±‚ N çš„å€¼ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int a[4]; int t; for(int i=1000;i\u0026lt;10000;i++) { t=i; a[0]=t%10; a[1]=t/10%10; a[2]=t/100%10; a[3]=t/1000%10; t=a[0]*1000+a[1]*100+a[2]*10+a[3]; if(t==9*i) { cout\u0026lt;\u0026lt;\u0026#34;N=\u0026#34;\u0026lt;\u0026lt;i\u0026lt;\u0026lt;endl; } } return 0; } Go\npackage exam2001a import \u0026#34;fmt\u0026#34; //Inverse is used to find N func Inverse() { var a [4]int for i := 1000; i \u0026lt; 10000; i++ { t := i for k := 0; k \u0026lt; 4; k++ { a[k] = t % 10 t /= 10 } t = a[0]*1000 + a[1]*100 + a[2]*10 + a[3] if t == 9*i { fmt.Println(i) } } } 4.æœ‰ N ä¸ªäººå›´æˆä¸€åœˆé¡ºåºç¼–å·ï¼Œä» 1 å·å¼€å§‹æŒ‰ 1ã€2ã€ 3 é¡ºåºæŠ¥æ•°ï¼ŒæŠ¥ 3 è€…é€€å‡ºåœˆå¤–ï¼Œå…¶ä½™çš„äººå†ä» 1ã€2ã€ 3 å¼€å§‹æŠ¥æ•°ï¼ŒæŠ¥ 3 çš„äººå†é€€å‡ºåœˆå¤–ï¼Œä¾æ¬¡ç±»æ¨ã€‚è¯·æŒ‰é€€å‡ºé¡ºåºè¾“å‡ºæ¯ä¸ªé€€å‡ºäººçš„åŸåºå·ã€‚è¦æ±‚ä½¿ç”¨ç¯å½¢é“¾è¡¨ç¼–ç¨‹ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; typedef struct LNode { int data; LNode *next; }LNode,*Linklist; int main() { int n,k; LNode *pre; cin\u0026gt;\u0026gt;n; if(n\u0026lt;1) { return 0; } //å»ºç«‹é“¾è¡¨ \tLinklist L,r; L=new LNode; L-\u0026gt;data=1; L-\u0026gt;next=NULL; r=L; for(int i=2;i\u0026lt;=n;i++) { LNode *p; p=new LNode; p-\u0026gt;data=i; r-\u0026gt;next=p; r=p; } r-\u0026gt;next=L; //è¾“å‡ºç›¸åº”åºå·å¹¶é‡Šæ”¾ç©ºé—´ \tr=L; while(n) { k=1; while(k\u0026lt;3) { pre=r; r=r-\u0026gt;next; k++; }\tcout\u0026lt;\u0026lt;r-\u0026gt;data\u0026lt;\u0026lt;\u0026#34; \u0026#34;; pre-\u0026gt;next=r-\u0026gt;next; delete r; r=pre-\u0026gt;next; n--; } cout\u0026lt;\u0026lt;endl; return 0; } Go\npackage exam2001a import \u0026#34;fmt\u0026#34; //Node represents the node in a single linked list type Node struct { data int next *Node } //Order is used to sort according to certain rule func Order(n int) { //å»ºç«‹é“¾è¡¨ \tif n \u0026lt; 1 { fmt.Println(\u0026#34;N is a wrong data\u0026#34;) return } var L = new(Node) var pre, r *Node L.data = 1 L.next = nil r = L for i := 2; i \u0026lt;= n; i++ { // var p = new(Node) \t// p.data = i \t// r.next = p \t// r = p \t//ä¸‹æ–¹ä¸æ³¨é‡Šéƒ¨åˆ†å®ç°åŠŸèƒ½ä¸€è‡´ \tp := Node{ data: i, next: nil, } r.next = \u0026amp;p r = \u0026amp;p } r.next = L //è¾“å‡ºåºå·å¹¶é‡Šæ”¾ç©ºé—´ \tr = L for n \u0026gt; 0 { k := 1 for ; k \u0026lt; 3; k++ { pre = r r = r.next } fmt.Printf(\u0026#34;%d \u0026#34;, r.data) pre.next = r.next r = pre.next n-- } } ","date":"2021-01-22T21:17:37+08:00","permalink":"https://ldsdsy.github.io/p/exam2001a/","title":"Exam2001A"},{"content":"1.è¾“å…¥ä»»æ„ 4 ä¸ªå­—ç¬¦(å¦‚ï¼šabcd)ï¼Œå¹¶æŒ‰ååºè¾“å‡º(å¦‚ï¼šdcba)ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;string\u0026gt;#include \u0026lt;algorithm\u0026gt;using namespace std; /* int main() { string s; cin\u0026gt;\u0026gt;s; reverse(s.begin(),s.end()); cout\u0026lt;\u0026lt;s\u0026lt;\u0026lt;endl; return 0; }*/ int main() { string s; cin\u0026gt;\u0026gt;s; for(int i=s.size()-1;i\u0026gt;=0;i--) { cout\u0026lt;\u0026lt;s[i]; } cout\u0026lt;\u0026lt;endl; } Golang\npackage exam2000 import ( \u0026#34;fmt\u0026#34; ) //Reverse is used to reverse a string. func Reverse() { var s1 string fmt.Scan(\u0026amp;s1) //Scanæ¥æ”¶å­—ç¬¦å‹å˜é‡æ—¶åªæ¥æ”¶æ•´å‹,å³ASCIIç  \tfor i := len(s1) - 1; i \u0026gt;= 0; i-- { fmt.Printf(\u0026#34;%c\u0026#34;, s1[i]) } } 2.è®¾ aã€bã€c å‡æ˜¯ 0 åˆ° 9 ä¹‹é—´çš„æ•°å­—ï¼Œabcã€bcc æ˜¯ä¸¤ä¸ªä¸‰ä½æ•°ï¼Œä¸”æœ‰ï¼šabc+bcc=532ã€‚æ±‚æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰ aã€bã€c çš„å€¼ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int a,b, c; int x,y; for(a=0;a\u0026lt;10;a++) for(b=0;b\u0026lt;10;b++) for(c=0;c\u0026lt;10;c++) { x=a*100+b*10+c; y=b*100+c*10+c; if(x+y==532)\t{ cout\u0026lt;\u0026lt;a\u0026lt;\u0026lt;\u0026#39; \u0026#39;\u0026lt;\u0026lt;b\u0026lt;\u0026lt;\u0026#39; \u0026#39;\u0026lt;\u0026lt;c\u0026lt;\u0026lt;endl; } } return 0; } Golng\npackage exam2000 import \u0026#34;fmt\u0026#34; // Abc is used to find a special number. func Abc() { var a, b, c int var x, y int for a = 0; a \u0026lt; 10; a++ { for b = 0; b \u0026lt; 10; b++ { for c = 0; c \u0026lt; 10; c++ { x = a*100 + b*10 + c y = b*100 + c*10 + c if x+y == 532 { fmt.Println(a, b, c) } } } } } 3.ä¸€ä¸ªæ•°å¦‚æœæ°å¥½ç­‰äºå®ƒçš„å„å› å­ï¼ˆè¯¥æ•°æœ¬èº«é™¤å¤–ï¼‰å­å’Œï¼Œå¦‚ï¼š 6=3+2+1ï¼Œåˆ™ç§°å…¶ä¸ºâ€œå®Œæ•°â€ï¼›è‹¥å› å­ä¹‹å’Œå¤§äºè¯¥æ•°ï¼Œåˆ™ç§°å…¶ä¸ºâ€œç›ˆæ•°â€ã€‚æ±‚å‡º 2 åˆ° 60 ä¹‹é—´æ‰€æœ‰â€œå®Œæ•°â€å’Œâ€œç›ˆæ•°â€ï¼Œå¹¶ä»¥å¦‚ä¸‹å½¢å¼è¾“å‡ºï¼š E: e1 e2 e3 \u0026hellip;\u0026hellip;(ei ä¸ºå®Œæ•°) G: g1 g2 g3 \u0026hellip;\u0026hellip;(gi ä¸ºç›ˆæ•°) ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;using namespace std; int main() { int a[61]={0}; for(int i=2;i\u0026lt;=60;i++) { int t=i; for(int j=i-1;j\u0026gt;0;j--) { if(i%j==0) { t-=j; } } if(t==0) { a[i]=1; } if(t\u0026lt;0) { a[i]=2; } } cout\u0026lt;\u0026lt;\u0026#34;E:\u0026#34;; for(int i=2;i\u0026lt;61;i++) { if(a[i]==1) cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } cout\u0026lt;\u0026lt;endl; cout\u0026lt;\u0026lt;\u0026#34;G:\u0026#34;; for(int i=2;i\u0026lt;61;i++) { if(a[i]==2) cout\u0026lt;\u0026lt;i\u0026lt;\u0026lt;\u0026#34; \u0026#34;; } cout\u0026lt;\u0026lt;endl; return 0; } Golang\npackage exam2000 import \u0026#34;fmt\u0026#34; //Eg is used to find \u0026#34;å®Œæ•°\u0026#34; and \u0026#34;æº¢æ•°\u0026#34; between 2 and 60. func Eg() { var a [61]int var i, j, t int for i = 2; i \u0026lt;= 60; i++ { t = i for j = i - 1; j \u0026gt; 0; j-- { if i%j == 0 { t -= j } } if t == 0 { a[i] = 1 } if t \u0026lt; 0 { a[i] = 2 } } fmt.Print(\u0026#34;E:\u0026#34;) for i = 2; i \u0026lt; 61; i++ { if a[i] == 1 { fmt.Printf(\u0026#34;%d \u0026#34;, i) } } fmt.Println() fmt.Print(\u0026#34;G:\u0026#34;) for i = 2; i \u0026lt; 61; i++ { if a[i] == 2 { fmt.Printf(\u0026#34;%d \u0026#34;, i) } } fmt.Println() } 4.ä»é”®ç›˜è¾“å…¥ 4 ä¸ªå­¦ç”Ÿçš„æ•°æ®( åŒ…æ‹¬å§“åã€å¹´é¾„å’Œæˆç»©)ï¼Œå¹¶å­˜æ”¾åœ¨æ–‡ä»¶ sf1 ä¸Šã€‚ä»è¯¥æ–‡ä»¶è¯»å‡ºè¿™äº›æ•°æ®ï¼ŒæŒ‰æˆç»©ä»é«˜åˆ°åº•æ’åºï¼Œå¹¶è¾“å‡ºå…¶ä¸­æˆç»©æ¬¡é«˜è€…çš„æ‰€æœ‰æ•°æ®ã€‚\nC++\n#include \u0026lt;iostream\u0026gt;#include \u0026lt;fstream\u0026gt;#include \u0026lt;algorithm\u0026gt;using namespace std; struct student { string name; int age; int score; }; bool cmp(student a,student b) { return a.score\u0026gt;b.score; } int main() { student s; student stu[4]; ofstream outfile; cout\u0026lt;\u0026lt;\u0026#34;input students\u0026#39; name,age,score (Ending with 00 00 00):\u0026#34;\u0026lt;\u0026lt;endl;\toutfile.open(\u0026#34;sf1.txt\u0026#34;); while(cin\u0026gt;\u0026gt;s.name\u0026gt;\u0026gt;s.age\u0026gt;\u0026gt;s.score) { if(s.name==\u0026#34;00\u0026#34;) break; outfile\u0026lt;\u0026lt;s.name\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;s.age\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;s.score\u0026lt;\u0026lt;endl; }\tifstream infile; infile.open(\u0026#34;sf1.txt\u0026#34;); for(int i=0;i\u0026lt;4;i++) { infile\u0026gt;\u0026gt;stu[i].name\u0026gt;\u0026gt;stu[i].age\u0026gt;\u0026gt;stu[i].score; } //you can sort by yourself or use sort() included in algorithm /*\tfor(int i=1;i\u0026lt;=3;i++) { for(int j=0;j\u0026lt;4-i;j++) { if(stu[j].score\u0026lt;stu[j+1].score) { s=stu[j]; stu[j]=stu[j+1]; stu[j+1]=s; } } }\t*/ sort(stu,stu+4,cmp); for(int i=0;i\u0026lt;4;i++) { cout\u0026lt;\u0026lt;stu[i].name\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;stu[i].age\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;stu[i].score\u0026lt;\u0026lt;endl; }\tcout\u0026lt;\u0026lt;\u0026#34;Next on the list is: \u0026#34;\u0026lt;\u0026lt;stu[1].name\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;stu[1].age\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;stu[1].score\u0026lt;\u0026lt;endl; outfile.close(); return 0; } Golang\npackage exam2000 import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/ioutil\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;strings\u0026#34; ) type students struct { name string age int score int } //Info is used to process students\u0026#39; data func Info() { //æ•°æ®å†™å…¥æ–‡ä»¶ \tvar s string var stu [4]students filepath := \u0026#34;D:/sf1.txt\u0026#34; file, err := os.OpenFile(filepath, os.O_WRONLY|os.O_CREATE|os.O_RDONLY, 0666) if err != nil { fmt.Println(\u0026#34;æ–‡ä»¶åˆ›å»ºæ‰“å¼€å¤±è´¥\u0026#34;, err) } defer file.Close() //defer åé¢çš„è¯­å¥åœ¨æœ€å return ä¹‹å‰æ‰§è¡Œ \twrite := bufio.NewWriter(file) fmt.Println(\u0026#34;input the info :MM_22_99\u0026#34;) for i := 0; i \u0026lt; 4; i++ { fmt.Scanln(\u0026amp;s) write.WriteString(s) write.WriteString(\u0026#34;\\n\u0026#34;) } write.Flush() //ä»æ–‡ä»¶è¯»å–æ•°æ® \tf, err := ioutil.ReadFile(filepath) if err != nil { fmt.Println(\u0026#34;read fail\u0026#34;, err) } //åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œå¹¶èµ‹å€¼åˆ°ç›¸åº”çš„å˜é‡ä¸­ \tstrArr := strings.Split(string(f), \u0026#34;\\n\u0026#34;) for i := 0; i \u0026lt; 4; i++ { y := strings.Split(string(strArr[i]), \u0026#34;_\u0026#34;) stu[i].name = y[0] stu[i].age, err = strconv.Atoi(y[1]) stu[i].score, err = strconv.Atoi(y[2]) } //æ’åº \tfor i := 1; i \u0026lt; 4; i++ { for j := 0; j \u0026lt; 4-i; j++ { if stu[j].score \u0026lt; stu[j+1].score { stu[j], stu[j+1] = stu[j+1], stu[j] } } } //è¾“å‡ºæ’åºåç»“æœ \tfor i := 0; i \u0026lt; 4; i++ { fmt.Printf(\u0026#34;%s %d %d\\n\u0026#34;, stu[i].name, stu[i].age, stu[i].score) } fmt.Printf(\u0026#34;Next to the list is:%s %d %d\\n\u0026#34;, stu[1].name, stu[1].age, stu[1].score) } ","date":"2021-01-19T16:21:45+08:00","permalink":"https://ldsdsy.github.io/p/exam2000/","title":"Exam2000"},{"content":"Go é¡¹ç›®ç›®å½•æ ¼å¼çš„ä¸€äº›é—®é¢˜  1.ä¸€ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª mian.go ä½œä¸ºå…¥å£ã€‚æ‰€ä»¥å¦‚ä½•è§£å†³ä¸€ä¸ªé¡¹ç›®é‡Œå­˜åœ¨å¤šä¸ª xxx.go çš„é—®é¢˜å‘¢ï¼Ÿå¦‚ä¸‹ä¸ºä¸€ç§æ–¹å¼ï¼š\ndemo |___main.go |___exam |___01.go |___02.go //mian.go ä½œä¸ºæ•´ä¸ªé¡¹ç›®å…¥å£ï¼Œexam ä¸º package ï¼ˆåŒ…ï¼‰ï¼Œexam ä¸‹é¢åˆåŒ…å«å¤šä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°å¯åœ¨ main.go ä¸­è°ƒç”¨ã€‚ 01.go\npackage exam import \u0026#34;fmt\u0026#34; //Add is used to calculate the sum of two numbers func Add(a,b int) int { return a+b } //Go è¦æ±‚å…¬æœ‰å‡½æ•°ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œå¹¶ä¸”éœ€è¦åœ¨å‡½æ•°ä¸Šæ–¹ä¹¦å†™ç”¨äºè¯´æ˜å‡½æ•°ç”¨å¤„çš„æ³¨é‡Šï¼Œæ³¨é‡Šå¿…é¡»ä»¥å‡½æ•°åå¼€å¤´ã€‚ main.go\npackage main import \u0026#34;demo/exam\u0026#34; func main() { sum := exam.Add(3,4) fmt.println(sum) } 2.å°½é‡ä¸€å¼€å§‹å…»æˆç¼–å†™æµ‹è¯•å‡½æ•°çš„ä¹ æƒ¯ã€‚Go è¯­è¨€æ‹¥æœ‰ä¸€å¥—å•å…ƒæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ç³»ç»Ÿï¼Œä»…éœ€è¦æ·»åŠ å¾ˆå°‘çš„ä»£ç å°±å¯ä»¥å¿«é€Ÿæµ‹è¯•ä¸€æ®µéœ€æ±‚ä»£ç ã€‚\ngo test å‘½ä»¤ï¼Œä¼šè‡ªåŠ¨è¯»å–æºç ç›®å½•ä¸‹é¢åä¸º *_test.go çš„æ–‡ä»¶ï¼Œç”Ÿæˆå¹¶è¿è¡Œæµ‹è¯•ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚\nå•å…ƒæµ‹è¯•æºç æ–‡ä»¶å¯ä»¥ç”±å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ç»„æˆï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å‡½æ•°éœ€è¦ä»¥ Test ä¸ºå‰ç¼€ï¼Œä¾‹å¦‚ï¼š\npackage exam import \u0026#34;testing\u0026#34; func TestAdd(t *testing.T) { if res := addadd(3, 4); res != 7 { t.Error(\u0026#34;è®¡ç®—é”™è¯¯\u0026#34;) } } //æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä¸ä¼šå‚ä¸æ­£å¸¸æºç ç¼–è¯‘ï¼Œä¸ä¼šè¢«åŒ…å«åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ //æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ä½¿ç”¨ go test æŒ‡ä»¤æ¥æ‰§è¡Œï¼Œæ²¡æœ‰ä¹Ÿä¸éœ€è¦ main() ä½œä¸ºå‡½æ•°å…¥å£ã€‚æ‰€æœ‰åœ¨ä»¥ _test ç»“å°¾çš„æºç å†…ä»¥ Test å¼€å¤´çš„å‡½æ•°ä¼šè‡ªåŠ¨è¢«æ‰§è¡Œã€‚ //æµ‹è¯•ç”¨ä¾‹å¯ä»¥ä¸ä¼ å…¥ *testing.T å‚æ•°ã€‚ ","date":"2021-01-11T21:23:59+08:00","permalink":"https://ldsdsy.github.io/p/go_day03/","title":"Go_day03"},{"content":"1.å®‰è£…å¥½ Go ä¹‹åéœ€äººä¸ºè®¾ç½®ä¸€ä¸ª GOPATH æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾ Go æºç ï¼Œ Go çš„å¯è¿è¡Œæ–‡ä»¶ï¼Œä»¥åŠç›¸åº”çš„ç¼–è¯‘ä¹‹åçš„åŒ…æ–‡ä»¶ã€‚æ‰€ä»¥è¿™ä¸ªç›®å½•ä¸‹é¢æœ‰ä¸‰ä¸ªå­ç›®å½•ï¼šsrcã€binã€pkgã€‚ï¼ˆä¾‹å¦‚ï¼šåœ¨ D ç›˜ä¸‹æ–°å»ºä¸€ä¸ªåä¸º GOPATH æ–‡ä»¶å¤¹ï¼‰\nsrc :å­˜æ”¾æºä»£ç  pkg :ç¼–è¯‘åç”Ÿæˆçš„åŒ…æ–‡ä»¶ bin :ç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ //ä¸€èˆ¬ï¼Œbin å’Œ pkg ç›®å½•å¯ä»¥ä¸åˆ›å»ºï¼Œgo å‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºï¼ˆå¦‚ go installï¼‰ï¼Œåªéœ€è¦åˆ›å»º src ç›®å½•å³å¯ã€‚ 2.é…ç½® GOPATH çš„ç¯å¢ƒå˜é‡ï¼Œè¿›å…¥ç”¨æˆ·å˜é‡æ–°å»º\nå˜é‡ ï¼šGOPATH å€¼ ï¼šD:\\GOPATH 3.è¿›å…¥ vscode å®‰è£… go æ’ä»¶ï¼Œç„¶åå°±å¯ä»¥åœ¨ src ä¸‹é¢åˆ›å»º Hello_world.go å¹¶ç¼–è¯‘æ‰§è¡Œï¼Œ vs æç¤ºå®‰è£…ä»€ä¹ˆå°±å®‰è£…ä»€ä¹ˆã€‚(ç›¸æ¯”è¾ƒ GoLand , vs å…è´¹ä¸”å†…å­˜æ¶ˆè€—å°)\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;Hello, World!\u0026#34;) } ","date":"2021-01-05T10:30:42+08:00","permalink":"https://ldsdsy.github.io/p/go_day02/","title":"GO_day02"},{"content":"Window å®‰è£… Go è¯­è¨€ç¯å¢ƒ   è¿›å…¥ä»¥ä¸‹ç½‘å€  https://golang.google.cn/dl/ //é€‰æ‹© .msi åç¼€çš„æ–‡ä»¶ä¸‹è½½ï¼Œä¸‹è½½å®Œæˆåä¸€è·¯ next å®‰è£…å³å¯ã€‚ è¿›å…¥ cmd  $ go version //èƒ½æ˜¾ç¤ºç‰ˆæœ¬å·å³å®‰è£…æˆåŠŸ åœ¨ç»ˆç«¯ä¾æ¬¡æ‰§è¡Œ  $ go env -w GO111MODULE=on $ go env -w GOPROXY=https://goproxy.cn,direct  //ç¬¬ä¸€æ¡ä½¿æºä»£ç å¯å­˜å‚¨åœ¨ä»»æ„ä½ç½®ï¼Œç¬¬äºŒæ¡ä¸ºå›½å†…ä»£ç† ","date":"2021-01-04T22:03:04+08:00","permalink":"https://ldsdsy.github.io/p/go_day01/","title":"Go_day01"},{"content":" Flutter é¡¹ç›®ç›®å½•ä»‹ç»ï¼š  android: android å¹³å°ç›¸å…³ä»£ç ï¼›\nios: ios å¹³å°ç›¸å…³ä»£ç ï¼› lib: flutter ç›¸å…³ä»£ç ï¼Œå¼€å‘è€…ç¼–å†™ä»£ç çš„æ‰€åœ¨åœ°ï¼› test: ç”¨äºå­˜æ”¾æµ‹è¯•ä»£ç ï¼›\npubspec.yaml: å­˜æ”¾é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ç¬¬ä¸‰æ–¹åº“çš„ä¾èµ–ã€‚\nFlutter å…¥å£æ–‡ä»¶ï¼Œå…¥å£æ–¹æ³•ï¼š lib ç›®å½•ä¸‹çš„ main.dart å°±æ˜¯ Flutter çš„å…¥å£æ–‡ä»¶ï¼›  main.dart :\nvoid main(){ runApp(MyApp); } æˆ–è€…ç®€å†™ä¸ºï¼š void main()=\u0026gt;runApp(MyApp()); //main()æ˜¯ dart çš„å…¥å£æ–¹æ³•ï¼› //runApp()æ˜¯ flutter çš„å…¥å£æ–¹æ³•ï¼› //MyApp æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ã€‚ ","date":"2020-06-11T21:38:42+08:00","permalink":"https://ldsdsy.github.io/p/04_flutter%E9%A1%B9%E7%9B%AE%E5%9F%BA%E7%A1%80%E4%BA%86%E8%A7%A3/","title":"04_Flutteré¡¹ç›®åŸºç¡€äº†è§£"},{"content":"1.å®‰è£… jdkï¼š\n$ sudo apt-get install openjdk-8-jdk //JDKï¼šjava development kit ï¼ˆjava å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬ JVMï¼ŒåŸºç¡€ç±»åº“ï¼Œå¼€å‘å·¥å…·ï¼‰ //JREï¼šjava runtime environment ï¼ˆjava è¿è¡Œæ—¶ç¯å¢ƒï¼‰ //JDK åŒ…å« JRE $ java $ javac //æŸ¥çœ‹æ˜¯å¦å®‰è£…å®Œæˆ 2.å®‰è£… Android Studio (æœ‰å›¾å½¢å¿«æ·é”®)ï¼š\n//ä¸‹è½½å¹¶è§£å‹\nhttps://www.jetbrains.com/toolbox-app/\n//å®‰è£…å®Œæˆåï¼Œåœ¨ JetBrains Toolbox ä¸­å®‰è£… AS ç¨³å®šç‰ˆã€‚\n//æ‰“å¼€ AS ä¸€è·¯é»˜è®¤å®‰è£…ï¼Œå…ˆä¸è¦è®¾ç½®å±æ€§å‚æ•°ï¼›\n//å®‰è£…å®Œæˆå¯¼å…¥æ’ä»¶: Plugins ä¸­å®‰è£… Dart å’Œ Flutter ;\n//é‡å¯ AS\n3.é…ç½® Flutter å›½å†…é•œåƒï¼š\n//é€‰æ‹©é•œåƒ\nhttps://flutter-io.cn/\n$ sudo vim /etc/profile //æ–‡æœ¬æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn export PUB_HOSTED_URL=https://pub.flutter-io.cn //ä¿å­˜é€€å‡º $ source /etc/profile 4.è¾“å…¥ flutter doctor æ£€æµ‹å®‰è£…é…ç½®æ˜¯å¦å®Œæˆã€‚\nå‡ºç° âœ— Unable to locate Android SDK. æ‰“å¼€ AS -\u0026gt; Tools -\u0026gt; SDK Manager å®‰è£… SDK å‡ºç° âœ— Android licenses not accepted. $ flutter doctor --android-licenses //ä¸€è·¯ y Adds: AS ä¸­å‡ºç° adb bridge not found\n//è¿›å…¥ File -\u0026gt; Project instructure èœå•ï¼ŒProject ä¸­èƒ½çœ‹åˆ° No SDK;\n//é€‰ä¸­ Modules -\u0026gt; flutter_app_android -\u0026gt; Dependencies -\u0026gt; Module SDK\n","date":"2020-05-28T07:06:45+08:00","permalink":"https://ldsdsy.github.io/p/03_flutterandroid%E6%90%AD%E5%BB%BA/","title":"03_FlutterAndroidæ­å»º"},{"content":"å®‰è£…Flutterï¼š\n1.ç‚¹å‡»é“¾æ¥ï¼Œä¸‹è½½å‹ç¼©åŒ…ï¼š\nhttps://flutter.dev/docs/get-started/install/linux\n2.é€‰ä¸€ä¸ªå¿ƒä»ªçš„æ–‡ä»¶å¤¹(ä¾‹å¦‚ development )ï¼Œè§£å‹ç¼©:\n$ cd ~/development $ tar xf ~/Downloads/flutter_linux_1.17.1-stable.tar.xz 3.è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆæ°¸ä¹…è®¾ç½®ï¼‰ï¼š\n//profile æ˜¯å¼€æœºå°±ä¼šè‡ªå¯çš„æ–‡ä»¶,æ‰“å¼€åç¼–è¾‘ $ sudo vim /etc/profile //æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œè·¯å¾„ä¸ºä¸Šä¸€æ­¥ Flutter è§£å‹åæ‰€åœ¨çš„åœ°æ–¹ export PATH=$PATH:/home/ldsdsy/development/flutter/bin //å¼ºåˆ¶æ‰§è¡Œ profile æˆ– é‡å¯ $ source /etc/profile //æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸ $ echo $PATH 4.è¾“å…¥ flutter æ£€æµ‹æ˜¯å¦å®‰è£…å®Œæˆã€‚\nAdds:\n//è‹¥å‡ºç° Error: Unable to find git in your PATH.\n$ sudo apt-get install git ","date":"2020-05-22T09:58:25+08:00","permalink":"https://ldsdsy.github.io/p/02_flutter%E5%AE%89%E8%A3%85/","title":"02_Flutterå®‰è£…"},{"content":"å®‰è£… dartï¼šï¼ˆä½¿ç”¨apt-getå®‰è£…å°±ä¸ç”¨é…ç½®ç¯å¢ƒå˜é‡ï¼‰\n1.ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:\n$ sudo apt-get update $ sudo apt-get install apt-transport-https //ç§‘å­¦ä¸Šç½‘ $ sudo sh -c \u0026#39;wget -qO- https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add -\u0026#39; $ sudo sh -c \u0026#39;wget -qO- https://storage.googleapis.com/download.dartlang.org/linux/debian/dart_stable.list \u0026gt; /etc/apt/sources.list.d/dart_stable.list\u0026#39; 2.å®‰è£… Dart SDK:\n$ sudo apt-get update $ sudo apt-get install dart 3.è¾“å…¥ dart æ£€æµ‹æ˜¯å¦å®‰è£…å®Œæˆã€‚\nAdds:\n//æŸ¥çœ‹ dart å®‰è£…åœ¨ä½•å¤„ $ which dart //æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒå˜é‡ $ echo $PATH ","date":"2020-05-21T19:43:18+08:00","permalink":"https://ldsdsy.github.io/p/01_dart%E5%AE%89%E8%A3%85/","title":"01_dartå®‰è£…"}]